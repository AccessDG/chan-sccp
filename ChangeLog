2015-11-07  ddegroot

	* [r6350] ChangeLog, NEWS, configure, debian/changelog: Updated
	  news / changelog for release

	* [r6349] .version, ChangeLog, Makefile.am, Makefile.in,
	  autoconf/acinclude.m4, autoconf/asterisk.m4, autoconf/extra.m4,
	  conf/ldap[ADD], conf/ldap/asterisk.sccp.ldif[ADD],
	  conf/ldap/asterisk.sccp.schema[ADD], conf/mysql-v5.sql,
	  conf/sccp.conf.annotated, conf/sccp.conf.minimal[ADD],
	  conf/tftp/SEP0000000000.cnf.xml_annotated,
	  conf/tftp/XMLDefault.cnf.xml, configure, configure.ac,
	  contrib/gen_sccpconf/Makefile.in,
	  contrib/gen_sccpconf/gen_sccpconf.h, contrib/llvm-scan-build,
	  debian/rules, doc/Makefile.in, src/Makefile.am, src/Makefile.in,
	  src/chan_sccp.c, src/chan_sccp.h, src/common.h, src/config.h.in,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast106.h,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast110.h,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast112.h,
	  src/pbx_impl/ast/ast112_announce.c,
	  src/pbx_impl/ast/ast112_announce.h, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/ast/include_asterisk_autoconfig.h,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c, src/sccp_actions.h,
	  src/sccp_appfunctions.c, src/sccp_appfunctions.h,
	  src/sccp_atomic.h[ADD], src/sccp_callinfo.c[ADD],
	  src/sccp_callinfo.h[ADD], src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_conference.c,
	  src/sccp_conference.h, src/sccp_config.c, src/sccp_config.h,
	  src/sccp_config_entries.hh, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_enum.c, src/sccp_enum.h, src/sccp_enum.in,
	  src/sccp_event.c, src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_management.c,
	  src/sccp_management.h, src/sccp_mwi.c, src/sccp_mwi.h,
	  src/sccp_pbx.c, src/sccp_pbx.h, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_refcount.c, src/sccp_refcount.h,
	  src/sccp_rtp.c, src/sccp_rtp.h, src/sccp_socket.c,
	  src/sccp_socket.h, src/sccp_softkeys.c, src/sccp_softkeys.h,
	  src/sccp_threadpool.c, src/sccp_threadpool.h, src/sccp_utils.c,
	  src/sccp_utils.h, tools/autorevision, tools/bootstrap.sh,
	  tools/gen_sccp_enum.awk, tools/versioncheck: Release: v4.2.1
	  Stable

2015-10-27  ddegroot

	* [r6295] debian/rules: Enable video / conference and advanced in
	  debian/ubuntu builds

2015-08-31  ddegroot

	* [r6171] contrib/gen_sccpconf/gen_sccpconf.h: Fix gen_sccpconf.h

2015-08-29  ddegroot

	* [r6167] ChangeLog, Makefile.am, Makefile.in, NEWS,
	  doc/Makefile.in, src/Makefile.in: Update Makefile for small v in
	  release number. Remove old V4.2 tag

2015-08-29  marcelloceschia

	* [r6166] .[CPY]: v4.2

	* [r6161] add slack notification

2015-08-27  ddegroot

	* [r6160] Fix sccp_enum generator, exists function had two return
	  values

2015-08-26  ddegroot

	* [r6159] Fix device softkeyset fixup after removing a whole
	  softkeyset from the config file, without re-defining the devices
	  softkeyset entry. This caused a segfault after sccp reload when
	  using the device. Reported/Tested by Nikola Ciprich

2015-08-06  ddegroot

	* [r6158] Update sccp.conf sample file generatation (sccp config
	  generate ...). Updated version of sccp.conf.annotated

	* [r6157] Fix trigger in sql sample file so that it will also work
	  on older versions of mysql-v5

2015-07-26  ddegroot

	* [r6156] Fix: Check if libbfd is installed before linking against
	  it

	* [r6155] Fix sccp_utils/sccp_do_backtrace when libbfd is not
	  available. Reported by Nikola.

	* [r6154] Enhancement: Improved sccp_do_backtrace() output

	* [r6153] Fix: sccp_pbx_hangup (check if line was found before
	  using it, null pointer dereference)

	* [r6152] Fix: make SCCP_LIST_FIND traverse the list more carefully
	  by retaining and checking result for every step. Adapt other
	  source to use new SCCP_LIST_FIND. Fix: sccp_handle_keypad when
	  parsing older devices

	* [r6151] Use sccp_do_backtrace

	* [r6150] Use sccp_do_backtrace

	* [r6149] Add: Detection of LibBFD. Add: sccp_do_backtrace()
	  function

	* [r6148] Add: Detection of LibBFD. Add: sccp_do_backtrace()
	  function

	* [r6147] Add: Detection of LibBFD. Add: sccp_do_backtrace()
	  function

2015-07-06  ddegroot

	* [r6145] Fix: racecondition => check refcount during
	  SCCP_LIST_FIND before running compare.

	* [r6144] Fix: racecondition => check refcount during
	  SCCP_LIST_FIND before running compare.

	* [r6143] Fix: potential null pointer dereference when regcontext
	  is an empty string

	* [r6142] Enhancement: assert pointers before running
	  sccp_copy_string

	* [r6141] Fix compile issue against asterisk-1.6.2

2015-06-20  ddegroot

	* [r6140] Fix: moderator partyName and Number in ConfList

2015-06-18  marcelloceschia

	* [r6139] revert merge request

	* [r6138] Merge pull request #260 from
	  dkgroot/move_dev_pref_to_line_pref
	  
	  move dev preferences to line preferences

2015-06-17  ddegroot

	* [r6137] Fix: typo

2015-06-16  ddegroot

	* [r6136] Fix: Removed Line Contraint from buttonconfig table
	  (postregsql/mysql-v5).

2015-06-15  ddegroot

	* [r6135] Update NEWS / ChangeLog

	* [r6130] Update version number

	* [r6129] Fix versioncheck script to include the correct Branch

	* [r6128] Enhancement: Added trigger to check sccpline when adding
	  a line to buttonconfig

	* [r6127] Enhancement: reorder common.h

2015-06-14  ddegroot

	* [r6126] Fix: Added Contraint for buttonconfig.name to require
	  sccpline.name entry if buttonconfig.type is set to 'line'

2015-06-13  ddegroot

	* [r6125] Enhancement: Default enable use of ccache when found in
	  path (to disable use : --without-ccache).

	* [r6124] Fix: skip empty mailbox entries during config parsing.
	  Issue reported by Pavel Troller.

	* [r6123] Fix: Warning about setting socket option COS. Enhanced
	  sccp_set_socketoption function generate error messages only in
	  case the option is supported by the platform in questin.

2015-06-12  ddegroot

	* [r6122] Fix: Warning about alignment cast potential source for
	  unaligned access.

	* [r6121] Fix: detection of -fstack-protector support by compiler.
	  Returned a warning instead of error when not available on
	  platform.

	* [r6120] Enhancement: change tos/cos type size to uint8_t instead
	  of uint16_t (max value for tos and cos is 255).

	* [r6119] Fix: handling of cos/tos values explicit uint16_t casting
	  (preventing unaligned access)

	* [r6118] Fix: reduce/remove warnings. Requested by Pavel

2015-06-11  ddegroot

	* [r6117] Fix: speeddial with blf handling for newer devices.
	  Reported by Pavel and Niklas.

2015-06-09  ddegroot

	* [r6116] Fix old style declaration (missing void)

	* [r6115] Fix compile warning about missing declaration

	* [r6114] Fix: addition of compile warning flags. Enabled a couple
	  more compiler warnings. Added the intention to enable a few
	  others. Update ChangeLog. Replaced old m4 compiler flags checking
	  macro

	* [r6113] Fix: natural alignment for sccp_event_subscriptions ->
	  elements rearranged.

	* [r6112] Fix: natural alignment for SCCPConfigOption -> offsize
	  and offsetof elements reversed in order.

	* [r6111] Fix: natural alignment for sccp_softkeyMap_cb -> elements
	  rearranged.

	* [r6110] Fix: natural alignment for sccp_global_vars -> elements
	  rearranged. Removed unused GLOB(protocolversion)

	* [r6109] Fix: natural alignment for sccp_conference -> elements
	  rearranged. Make sure playback.lock lies on a natural boundary.

	* [r6108] Fix: natural alignment for softKeySetConfiguration
	  /sccp_device / sccp_line entries -> elements rearranged.

	* [r6107] Fix: natural alignment for sccp_dllists entries ->
	  elements rearranged (removed unnecessary padding. Fix: alignment
	  of sccp_threadpool_thread to align naturally.

	* [r6106] Fix: natural alignment for sccp_device_t / access to
	  messageStackLock caused alignment trap issues on sparc/alpha/arm
	  ->rearranged

	* [r6105] Fix: sccp.conf example for dnd

2015-06-06  marcelloceschia

	* [r6104] change digit handling offhook, fixes issue on 79[4|6]0

2015-06-05  marcelloceschia

	* [r6103] fix speedial button issue

2015-05-29  ddegroot

	* [r6100] Fix: sccpdeviceconfig view in sqlite3.sql example file

	* [r6099] Fix: parsing default value from realtime with NULL column
	  -> call datatype_parser to clear value(s). Reported by Modulis.

2015-05-28  ddegroot

	* [r6098] Extended cli output on sccp reload, to show that minor
	  changes have been applied (if there where any)

2015-05-27  ddegroot

	* [r6097] Fix: UpdateCapabilities on protocolVersion <= 15 phones

2015-05-26  ddegroot

	* [r6096] Fix: mailbox/mwi config parsing

2015-05-25  ddegroot

	* [r6095] Fix: segfault when calling monitor feature without
	  monitor feature extension being set. Cleanup download mediastatus
	  handling

2015-05-24  ddegroot

	* [r6094] Fix: UpdateCapabilities with Protocol >= V16 Should be
	  handled like UpdateCapabilitiesV2

2015-05-21  ddegroot

	* [r6093] Update ChangeLog

2015-05-20  ddegroot

	* [r6092] Fix: compile warning about unused functions. Reported by
	  Cody Miller-Kelly

	* [r6091] Cleanup: remove unused codecParams_t. Enhancement:
	  audioCodec Dissection for UpdateCapabilities

2015-05-19  ddegroot

	* [r6090] Fix: UpdateCapabilitiesV3Message (reinserting unknown
	  field). Enhancement: Display of UpdateCapabilities Messages.

	* [r6089] Fix: UpdateCapabilities Message. Reported by Jim & Marco

2015-05-18  ddegroot

	* [r6088] Enhancement: Added comments about getting remote perr
	  codecs

2015-05-17  ddegroot

	* [r6087] Fix: DialedNumber Message

	* [r6086] Enhancement: Clarify CallInfoDynamicMessage

	* [r6085] Enhancement: Extend the dissection of
	  UpdateCapabilitiesMessages (v2)

	* [r6084] Enhancement: Extend the dissection of
	  UpdateCapabilitiesMessages

2015-05-16  ddegroot

	* [r6083] Enhancement: Added Skinny Conference Messages

	* [r6082] Enhancement: Integrated ForwardStat Message

	* [r6081] Reversion of revision 6074.

2015-05-13  ddegroot

	* [r6080] Fix: Feature Buttong Index->Instance Regression. Reported
	  by Marco Paland

2015-05-12  ddegroot

	* [r6079] Fix: Remove Experimental from pbx_impl/ast/ast???.c for
	  video and nat auto detection. Video handling is still covered by
	  CS_SCCP_VIDEO

	* [r6078] Enhancement: Added sccp_manager_action2pbx_str function
	  (for later use) (implemented using gcc-nested / clang-blocks /
	  based on sample provided by Marcello)

	* [r6077] Fix: Copy Calling/Called Party Information before
	  Masquerading the Call and pushing it into the Conference Bridge.
	  Fixes issue with showing '~~s~~' as conference participant, when
	  dealing with foreign channels and dialing via macro. Reported by
	  Cody Miller-Kelly.

2015-05-11  ddegroot

	* [r6076] Enhancement: Added d->hasEnhancedIconMenuSupport to
	  specify which device supports w Embedded Icons in XML messages

	* [r6075] Fix: Conference, removed error message where it did not
	  belong. Enhancement: Add definition for
	  StartMediaFailureDetectionMessage

	* [r6074] Enhancement: Integreated FormatStat Message
	  Fixed FormatStat Message Using Parameter of Wrong Message
	  Updated Capabilities Messages
	  - Added confResource_t struct (UpdatedCapabilities)
	  - Added payload_t struct used by audioCap_t (UpdatedCapabilities)
	  Added Conference / Participant Message Definitions

	* [r6073] Fix: Conference Playback Channel -> Caused a Segfault on
	  Hangup. Reported by Jesus Tovar.

	* [r6072] Enhancement: Use SKINNY_MEDIASTATUS when dealing with
	  MediaTransmissionAck's. Enhancement: Initialize data string when
	  dealing with DeviceToUserData Messages

	* [r6071] Enhancement: Replace Unknown Fields in CallStateMessage

2015-05-10  ddegroot

	* [r6070] Enhancement: Extended MiscellaneousCommandMessage. Added
	  Logging Output for MiscellaneousCommandMessage. Replaced unknowns
	  in OpenReceiveChannel with lel_audioLevelAdjustment +
	  latentCapsInfo

	* [r6069] Enhancement/Cleanup: SetRingerMessage:unknown ->
	  lel_ringDuration / StartMediaTransmission:unknowns->latenCapsInfo
	  / StopToneMessage:unknown1 -> lel_tone

	* [r6068] Fix: OpenReceiveAck Message, the unknown fields where a
	  misinterpretation of the IPV6 field length

	* [r6067] Enhancements:
	  - Use Index instead of Instance where appropriate (i.e.
	  FeatureStat Messages)
	  - Synchronize FeatureStat and FeatureStatDynamic FieldNames
	  - Integrate DialedNumberMessage (v3 and v18)
	  - Renamed DialedPhoneBook -> SubscriptionStat
	  - Renamed CallListStateUpdate -> NotificationMessage
	  - Filled out Unknown fields, with their appropriate names,
	  clarifying their use

2015-05-09  ddegroot

	* [r6066] Add FastPicture Update -> queue control VIDUPDATE

2015-05-09  marcelloceschia

	* [r6065] add video mode button to connected

	* [r6064] set default video mode to auto

2015-05-09  ddegroot

	* [r6063] Cleanup: Add vidmode to softkeysets

	* [r6062] Fix: Add vidmode to softkeysets

2015-05-08  marcelloceschia

	* [r6061] save and parse lineInstance for last dialed number

	* [r6060] fix compile issue asterisk < 12

	* [r6059] save the line instance for redial

2015-05-05  ddegroot

	* [r6058] Fix: conference

2015-05-04  marcelloceschia

	* [r6057] set the endcall softkey to the same position across all
	  softkeysets

2015-05-03  ddegroot

	* [r6056] Fix: removed experimental flag around nat

2015-05-01  ddegroot

	* [r6055] Enh: Added SPA524SG. Requested by Marco Paland.

2015-04-29  ddegroot

	* [r6054] Fix: Re-added 'dial' softkey to 'digitsfoll'. Reported by
	  Nikola Ciprich.

2015-04-26  ddegroot

	* [r6053] Fix .travis.yml if/then/else statement (#7) (Include
	  libblocksruntime)

	* [r6052] Fix .travis.yml if/then/else statement (#6) (Include
	  libblocksruntime

	* [r6051] Update ChangeLog / News file

	* [r6050] Fix: bootstrap.sh should rerun configure if config.status
	  is already there

	* [r6049] Enh: move RAII check to it's own file

	* [r6048] Fix .travis.yml if/then/else statement (#5)

	* [r6047] Fix .travis.yml if/then/else statement (#4)

	* [r6046] Fix .travis.yml if/then/else statement (#3)

	* [r6045] Fix .travis.yml if/then/else statement (#2)

	* [r6044] Fix .travis.yml if/then/else statement

	* [r6043] Travis: Added ppa with asterisk-13 on trusty

	* [r6042] Release V4.2.0_RC3

	* [r6041] Enhancement: Replace the old method to remove PACKAGE
	  variable, which where already defined in asterisk/autoconfig.h

	* [r6040] Fix: hung ast13 channel after conference. Still a
	  channel->cdr issue left, to be done

2015-04-24  ddegroot

	* [r6039] Fix: Remove double check

2015-04-24  marcelloceschia

	* [r6038] fixes mwi line indication; siplify the mwilight handling

2015-04-24  ddegroot

	* [r6037] Enh: Added DEVICETYPE_ANALOG_GATEWAY for VG224(30027)
	  device

	* [r6036] Fix: handling setvar has been filed incorrectly. For
	  exmaple with 'my value', which would cause a segfault.

2015-04-24  marcelloceschia

	* [r6035] no need to expose sccp_mailbox_subscriber_list, it a
	  private data structure; check mwi line state in
	  sccp_mwi_setMWILineStatus and not the mwi light (instance 0)

2015-04-24  ddegroot

	* [r6034] fix: (sccp_mwi.h) one more asterisk 13/stasis issue

2015-04-24  marcelloceschia

	* [r6033] fix asterisk 13 compile issue

2015-04-23  ddegroot

	* [r6032] fix mwi: small reversion

	* [r6031] fix mwi:
	  Handle MWI with multiple lines correctly (reported by Nicolas
	  Gosselin / bug report #248)
	  Switch of MIW light during a incoming or outgoing call, when
	  d->wmioncall=off
	  Cleanup suprious STASIS debug messages, which where not required
	  enh cli:
	  Added correct display of d->mwilight (is a bitfield), to sccp
	  show device
	  Added display of mwioncall to sccp show device

	* [r6030] Fix: remove experimental status from mwi + asterisk-13

2015-04-21  ddegroot

	* [r6029] Fix: StationMaxXMLAlarmMessage (Increase the size to
	  prevent 'discarding bytes' warning). Reported by Cody
	  Miller-Kelly

2015-04-20  marcelloceschia

	* [r6028] fixes overriding speeddial definition reported by Sander
	  Smeenk

2015-04-19  ddegroot

	* [r6026] Added the possibily to add asterisk tests. Added example
	  test for the sccp_append_ha.

	* [r6025] Added: Set topic for stasis_subscribe to
	  hint->hint_dialplan (Experimental)
	  Fix: Spelling of hint-shadow comment.
	  Cleanup: remove unused ast104.h file

	* [r6024] Cleanup: Remove some ancient files which never get used

2015-04-19  marcelloceschia

	* [r6023] detailed comment for label background hack

2015-04-19  ddegroot

	* [r6022] Fix: channels being left behind after transfer (pickup
	  etc) on asterisk-12 and asterisk-13
	  - Fix: Replace CS_AST_HAS_CHANNEL_BRIDGE_PEER with
	  PBX(get_bridged_channel)
	  - Fix: add pbx_channel_unref after use of
	  PBX(get_bridged_channel)
	  - Fix: ast_format_cap and ast_format refs with asterisk-13
	  
	  Reported by Niklas Larsson (and others)

2015-04-18  marcelloceschia

	* [r6021] fixes font background issue with dynamic speeddials

	* [r6020] fixes button position issue

2015-04-15  ddegroot

	* [r6019] Fix: SpeedDialStatDynamicMessage does not belong here

2015-04-14  ddegroot

	* [r6018] Fix: d->softkeyDefinition set to unknown set, fallback to
	  'default'

2015-04-13  ddegroot

	* [r6017] Fix: SpeedDialDynamic message had the wrong fields
	  assigned to them. Updated message test in sccp_cli.c. Added
	  possible explantation of the 0x15 that's being send when using
	  LineStatDynamic (Further testing required).

2015-04-11  ddegroot

	* [r6016] Fix: cli / ifdef issue (fixes #258)

	* [r6015] fixes comparison between 'boolean_t' and 'enum sccp_nat'
	  (fixes #256)

	* [r6014] Fixes include of non-existent channel_pvt.h

	* [r6013] Cleanup moved code

	* [r6012] Fix: transfer callinfo overwriting the connected_line
	  information

	* [r6011] Enhancement: Removed experimental status of AUTO_NAT and
	  sccp_copy_string

	* [r6010] Fix: Socket Keepalive / Keepalive Interval and Keepalive
	  Max Probe Count new default. Tested by John Bittner.

	* [r6009] Fix: SCCPShowDevice

2015-04-10  ddegroot

	* [r6008] Fix: Renamed the AMI sccpshowdevice subtables to a more
	  consistent form

2015-04-09  ddegroot

	* [r6007] Use ast_bridge_depart on the remaining bridge-chan after
	  masquerading the conf->participant side out of the bridge. Insted
	  of the using ast_bridge_destroy directly as we did before. This
	  leads FRACK on newer versions of ast13. Using the bridge_depart
	  method should be backward compatible

	* [r6006] Fix: conference when working with newer versions of
	  asterisk-13 / asterisk-trunk

2015-04-09  marcelloceschia

	* [r6005] first fix of Still problems with button layout

2015-04-08  ddegroot

	* [r6004] Add the sf download button to the github page

	* [r6003] Fix: Two empty lines after AMI list response instead of
	  one. Reported by Jim Dossey.

2015-04-07  ddegroot

	* [r6002] Fix: ami astman_send_ack or astman_send_listack. Enh:
	  Return number of Tables in ami footer. Fix:SCCPShowGlobals
	  returns a response instead of a list.

2015-04-05  ddegroot

	* [r6001] Fix: SCCPShowSoftkeySets -> SCCPShowSoftKeySets

	* [r6000] Fix: Make AMI output comforming to the same style

2015-04-04  ddegroot

	* [r5999] Fix: SCCPShowDevice AMI message for 'Allow ringin
	  notification'

	* [r5998] Enhancement: Remove spaces from AMI Key Output (AMI-API).
	  Trim spaces from front and end of AMI Value Output

	* [r5997] Enhancement: CLI_AMI Output: Updated Device to DeviceName
	  and Line to LineName

2015-04-03  ddegroot

	* [r5996] Fix: extra line after SCCPShowDevice SCCPShowLine before
	  throwing the TableEntries. Also reported by Jim Dosey.

	* [r5995] Enhancement: Trim and CamelCase AMI output. The key
	  values should not contain spaces or any non-ascii character.
	  Enhancement: When returning a list of events in reply to an AMI
	  Action, we should only ack the list not the message response as
	  well.

	* [r5994] Fix: CLI_AMI Output. Enhancement: Prepend CLI_AMI Event
	  Entries with 'SCCP' so they can be filtered (for) more easily.

	* [r5993] Enhancement: Reduce output from SCCPConfigMetaData by
	  only displaying Flags when applicable

2015-04-02  ddegroot

	* [r5992] Fix: Only update sccp_enum files if we have a compatible
	  awk version, otherwise use pregenerated files from repos (1).

2015-04-01  ddegroot

	* [r5991] Fix: Only update sccp_enum files if we have a compatible
	  awk version, otherwise use pregenerated files from repos.

	* [r5990] Fix: ActionId in CLI_AMI results (1)

	* [r5989] Fix: ActionId in CLI_AMI results

	* [r5988] Fix: SCCPConfigMetaData JSON output

2015-03-31  ddegroot

	* [r5987] Fix: pointer-bool-conversion / Enhancement: Set
	  ast_rtp_instance_dtmf_mode_set when running in skinny_dtmf mode

	* [r5986] Enhancement: Made statically defined softkeyset 'default'
	  dynamic instead, so that it will also show up in 'sccp cli show
	  softkeysets' / 'SCCPShowSoftkeySets'. (Requested by Dave
	  Burgess.)

2015-03-29  ddegroot

	* [r5985] (Temp)Fix: pickup on 7940/7960 type phones, forcing the
	  callplane to be visible. Something seems to be suppressing the
	  callplane along the way. (Reported by Eric Ojacastro)

2015-03-28  ddegroot

	* [r5984] Fix: compiling using clang against clang compiled version
	  of asterisk

2015-03-26  ddegroot

	* [r5983] Enhancement: Enum's using bitfield should not use a
	  sparsely filled string map. instead we can use the bitindex to
	  lookup the value directly.

	* [r5982] Fix: removed early break from line 'default' option
	  handling from sccp_handle_line_number.

2015-03-25  ddegroot

	* [r5981] Enhancement: Reduce the size of the stripped chan_sccp.so
	  binary by about half (2.2 Mb -> 1.2 Mb). (Part 2)

	* [r5980] Enhancement: Reduce the size of the stripped chan_sccp.so
	  binary by about half (2.2 Mb -> 1.2 Mb)

2015-03-18  ddegroot

	* [r5979] Fix: number of small/tiny fixes. Reported by Leonid
	  Korokh

2015-03-16  ddegroot

	* [r5978] Fix: Match gcc/clang when multiple versions are
	  installed, ie detect 'gcc-5' instead of only 'gcc'

2015-03-15  ddegroot

	* [r5977] Fix: revert travis change

	* [r5976] Fix: revert subdir-objects change to configure.ac which
	  is not compatible with older version of automake, need to find
	  another solution later

	* [r5975] Fix: Compile against asterisk-1.6.2

	* [r5974] Fix: gen_sccpconf

	* [r5973] Trying to fix travis with configure subdirs

	* [r5972] Fix: configure subdir-objects

	* [r5971] Update: autoreconf -fi

	* [r5970] Fix: Makefile.am to update revision.h every 60 minutes,
	  to make sure latest svn/git revision is represented in
	  chan_sccp.so

	* [r5969] Fix: sccp_enum.c to use SENTINEL as last value. Fix:
	  Sentinel to calculated bitfield value instead of incr+1,
	  otherwise it would match a whole range of values.

	* [r5968] Enhancement: Allow #ifdef / #endif in sccp_enum.in

2015-03-14  ddegroot

	* [r5967] Fix: is left from hold

	* [r5966] Enhancment: Signal Transfer Success/Failure. Update
	  indication2str

	* [r5965] Fix asterisk-18 compilation. Added padding for better
	  dlinkedlist lignment

	* [r5964] Enhancement: Move several typedef enums to sccp_enum.in

2015-03-12  ddegroot

	* [r5963] Fix: dnd always cycling through off/busy/silent. Reported
	  by Steve Hanselman. (setting device->dnd=off maybe a little bit
	  counter intuitive, but don't want to make any big changes at this
	  moment).

	* [r5962] Enhancement: extend size of disallow/allow in progress
	  sql sample, to allow for multiple codecs

2015-03-02  ddegroot

	* [r5961] Fix: phoneServices Voicemail to connect to Messages
	  Button

2015-02-26  ddegroot

	* [r5960] Fix: channel_answer regression on older devices. Reported
	  by Rob WIlson.

	* [r5959] Fix: using the right instance number when dialing a
	  speeddial. Reported by Rob Wilson.

2015-02-25  ddegroot

	* [r5958] Enhancement: Refined the codec combination and reduction,
	  currently used by sccp_pbx_channel_allocate. Should possibly also
	  be used in sccp_channel_setDevice aswell. But might actually be
	  better if we would move audio preferences to be line based
	  instead of device based, that would make shared line easier as
	  well (combine/reduce codecs at linedevice_attach event).

	* [r5957] Enhancement: Refined the codec reduction
	  (sccp_utils_reduceCodecSet /
	  sccp_line_copyMinimumCodecSetFromLineToChannel), used by
	  sccp_pbx_channel_allocate. Should possibly also be used in
	  sccp_channel_setDevice.

2015-02-24  ddegroot

	* [r5956] Enhancement: Updated buttontemplate parser to show debug
	  results

	* [r5955] Enhancement: show buttonconfig->index instead of the
	  buttonconfig->instance which might be confusing, added instance
	  as a seperate column.

	* [r5954] Enhancement: remove unnecessary lines

	* [r5953] Enhancement: copy device capabilities to channel when
	  allocating a new device (combine codecs when dealing with shared
	  line)

	* [r5952] Fix: sccp_asterisk112_getSkinnyFormatSingle

2015-02-23  ddegroot

	* [r5951] Fix: database sample files for dnd field. Reported by
	  Rob.

2015-02-21  ddegroot

	* [r5950] Enhancement: Removed experimental status from
	  softkey:uriaction (2)

	* [r5949] Fix: immediatedialing keyset change from offhook to
	  digitsfoll at first digit. Reported/Patched by Pavel.

	* [r5948] Fix: cfwdAll feature button toggle. Reported by Marco.

	* [r5947] Enhancement: Removed experimental status from
	  softkey:uriaction

	* [r5946] Fix: Check for TCP_THIN before using it in setsockopt.
	  Reported by Pavel

	* [r5945] Removed: Used function sccp_strndup

2015-02-20  ddegroot

	* [r5944] Enhancement: Because managerHookHelper gets called
	  repeatedly by asterisk, it is wise to move the memset into the
	  loop, after category has been checked.

	* [r5943] Fix: address of array 'XXX' will always evaluate to
	  'true' [-Wpointer-bool-conversion]

	* [r5942] Fix: Prevent compiler warning about static/non-static

	* [r5941] Fix: automake Makefile.in

	* [r5940] Fix: Makefile.am for make release

2015-02-18  ddegroot

	* [r5939] Fix: compile against asterisk-1.8 (missing ast_alloca,
	  replace by gcc/clang buildin function)

	* [r5938] Update: Makefile.am to allow for make release

	* [r5937] Fix: sccp show hint subscription display when device is
	  offline. enum lookup error for iconstate.

	* [r5936] Enhancement: Support for UTF-8 (new devices) und
	  ISO8859-1 (old devices) allowing accented characters in
	  buttonlabels (in Latin1 format only) on older phones. You need to
	  make sure the sccp.conf file is stored in UTF-8 format. Requested
	  by Oliver Jaksch.

	* [r5935] Enhancement: Support for UTF-8 (new devices) und
	  ISO8859-1 (old devices) allowing accented characters in
	  buttonlabels (in Latin1 format only) on older phones. You need to
	  make sure the sccp.conf file is stored in UTF-8 format. Requested
	  by Oliver Jaksch.

	* [r5934] Fix: sccp_hint_notifyPBX

2015-02-17  ddegroot

	* [r5933] Fix: sporadic indication of invalid number during
	  pbx_pbx_start caused by AUTOLOOP check

2015-02-15  ddegroot

	* [r5932] Fix: regression in locale handling. Reported by Oliver
	  Jaksch.

2015-02-13  ddegroot

	* [r5931] Fix: sccp_hint.c (partial revert)

2015-02-12  ddegroot

	* [r5930] Fix: Makefile.am dependency

	* [r5929] Fix: gen_sccpconf

	* [r5928] Fix: compile against ast106-ast110 extranous ']'

	* [r5927] Travis: Still having difficulty with make file

	* [r5926] Fix: Update makefiles

	* [r5925] Fix: prevent segfault when calling setNativeFormats with
	  a non existent c->owner

	* [r5924] Fix: finding hint when hint is configured as 'exten =>
	  143,hint,SCCP/143,CustomPresence:143' for example on elastix 2.5.
	  Also references #250

	* [r5923] Enhancement: Added SVN revision header to
	  sccp_enum.[c|h]. Added header to sccp_enum.in file.

	* [r5922] Enhancement: Add SVN revision header to sccp_enum.[c|h]

	* [r5921] Fix: make gen_sccp_enum.awk work with older awk versions

	* [r5920] Fix: src/Makefile.am for gen_enum

	* [r5919] Enhancement: Replace sccp_enum_macro.h with a more
	  maintainable awk script. Fixes nasty chan_sccp.so bloated size
	  from 20Mb back to 3Mb.

	* [r5918] Fix: Checking gcc for -Og support, before using it.

2015-02-11  ddegroot

	* [r5917] Fix: Revert -O9 change, because gcc 4.1 can't handle it
	  :-(.

	* [r5916] Fix: Reduce warning/error log levels

	* [r5915] Fix: Remove SO_ERROR Success(0) Warning

2015-02-09  ddegroot

	* [r5914] Fix: prevent segfault during grouppickup when channel
	  could not be found/created. Reported by Cody Miller

2015-02-08  ddegroot

	* [r5913] Enhancement: Reduce size of chan_sccp.so module by 50% by
	  setting -Og when compiled with gcc. (mainly cause by multiple
	  inclusion of identical const arrays (side effect of
	  sccp_enum_macro)). clang automatically merges these constants
	  already.

	* [r5912] Enhancement: Reduce size of chan_sccp.so module by 50% by
	  setting -Og when compiled with gcc. (mainly cause by multiple
	  inclusion of identical const arrays (side effect of
	  sccp_enum_macro)). clang automatically merges these constants
	  already.

2015-02-08  marcelloceschia

	* [r5911] Merge pull request #254 from dkgroot/master
	  
	  Socket Handling Enhancements / TCP Keepalive Handling

2015-02-08  ddegroot

	* [r5910] Cleanup: Remove debug messages from Makefile.in

2015-02-05  ddegroot

	* [r5909] Fix: compile error attended_transfer : ast13.

2015-02-04  ddegroot

	* [r5908] Cleanup: removed some hardcoded defaults in favor of
	  using default value from sccp_config_entries.hh.

	* [r5907] Fix: Correct connected/redirected asterisk-11.

	* [r5906] Fix: Correct connected/redirected asterisk-18 and
	  asterisk-10.

	* [r5905] Fix: Free duplicated strings when updateing
	  connected/redirected asterisk-18 callinfo.

	* [r5904] Fix: transfer masquarade return value handling. Use goto
	  exit during transfer completion to make sure
	  transfered_channel_release happens. Free duplicated strings when
	  updateing connected/redirected asterisk callinfo.

2015-02-03  ddegroot

	* [r5903] Fix: ast_do_pickup against asterisk-1.8 and below

	* [r5902] Fix: devstate eid with asterisk-12

	* [r5901] Fix: Pickup when using asterisk-12/13 (Asterisk API
	  Change). Reported by Viktu Pons.

	* [r5900] Fix: directed pickup. Issue reported by Viktu Pons
	  Colomer.

	* [r5899] Fix: Add return after debug output

	* [r5898] Fix: check if sccp_channel_newcall created a new channel
	  before commencing

	* [r5897] Enhancement: Remove lucid from travis compile, uses the
	  same asterisk-1.8 as precise

	* [r5896] Fix: correct sccp reload file to allow for absolute and
	  relative path's (References #248 (Reported by Jean-Francois
	  Proulx)).

	* [r5895] Fix: button change detection during sccp reload (Fixes
	  #248 (Reported by Jean-Francois Proulx)). Fix: stringptr
	  corruption after sccp reload, for example d->backgroundImage
	  (Fixes #241).

2015-01-29  ddegroot

	* [r5894] Fix: git branch detection

2015-01-27  ddegroot

	* [r5893] Remarked out vivid build because asterisk and
	  asterisk-dev can't currently be found. Try it back later

	* [r5892] Enhancement: At least compile --distribute-devstate
	  nicely against asterisk-13. Only sending the devstate change at
	  the moment, without the extra CEL information (alas). Added a
	  possible sample of how we could potentially add this extra
	  information using an ast_channel_blob (yuck).

	* [r5891] Fix: Segfault during CHANNEL(rtpqos). Reported by Cody

	* [r5890] Enhancement: CLI:Remove line from device. (Provided by
	  jeenux)

2015-01-26  marcelloceschia

	* [r5889] add video mode for channel

2015-01-25  ddegroot

	* [r5888] Fix: updated commented code handling miscCommand. Still
	  seems to require further implementation though.

	* [r5887] Fix: handling miscCommand with missing passthruid

	* [r5886] Fix: Added comment

	* [r5885] Enhancement: Added potential support for SPA Addons /
	  SideCar. (Requested by Mark Casey)

2015-01-24  ddegroot

	* [r5884] Fix: channelName -> lineName change

	* [r5883] Fix: Renamed channelName to lineName, Added channelState
	  to DEVICE_STATE_CHANGE as IE_CEL_EXTRA to make the reason for the
	  update more apparent. Check if hint has been found before sending
	  notification to Subscribers.

	* [r5882] Fix: Prevent devicestate / devicestatechange events from
	  being sent/arriving multiple times per line change event

	* [r5881] Fix: Function Comment Headers

	* [r5880] Enhancement: Prevent any action (including timeout) on
	  incoming AST_CONTROL_INCOMPLEMENT indication when running in
	  earlyrtp immediate mode. Patch supplied by Pavel

	* [r5879] Enhancement: Renamed som of the unknown fields in the
	  RegisterAckMessage. Added debug logging to track down the
	  date/time issues reported by John Bittner

	* [r5878] Source: revert indentation for pbx_event_new to make it
	  readable

	* [r5877] Fix: asterisk/event.h include based on new configure
	  script

	* [r5876] Enhancement: Remove a number of old/unused checks from
	  the configure script to reduce build time slightly

2015-01-22  ddegroot

	* [r5875] Cleanup: Move lock debugging to define.h. Remove
	  unnecessary obj check in refcount debug.

	* [r5874] Fix: Make cleardisplayprinotify only remove the message
	  with the right priority

2015-01-21  ddegroot

	* [r5873] Enhancement/Cleanup: reload code in regards to socket
	  session accept and cleanup

	* [r5872] Fix: pointer derefence before NULL pointer check

	* [r5871] Fix: Replaced three instances of strncpy (two without the
	  -1 as size correction) with preferred sccp_copy_string function.

	* [r5870] Fix: hanging SCCP_RWLIST_UNLOCK(&GLOB(lines)) which was
	  not locked beforehand

	* [r5869] Fix: making sure sccp_socket_cleanup_timed_out does not
	  run during reload

	* [r5868] Fix: SCCP_RWLIST_WRLOCK which should have been
	  SCCP_RWLIST_UNLOCK

	* [r5867] Fix: releasing 'global lock'/'reload in progress' when
	  accidentaly mistyping sccp reload (2)

	* [r5866] Fix: releasing 'global lock'/'reload in progress' when
	  accidentaly mistyping sccp reload

2015-01-20  ddegroot

	* [r5865] Allow setting priority notify messages using
	  SCCPSetMessage(<text>[, timeout][, priority])
	  
	  Setting a priority notify message with a higher priority
	  overrules lower priority messages, lower one will not be shown
	  until higher one is removed.
	  
	  Example:
	  macro sccp_set_message() {
	  Noop(SCCPSetMessage);
	  SCCPSetMessage(); // clear standard status prompt
	  SCCPSetMessage(,0,1); // clear priority 1 notify message
	  SCCPSetMessage(,0,2); // clear priority 2 notify message
	  SCCPSetMessage(Incoming 1 prio1,0,1); // set priority 1 notify
	  SCCPSetMessage(Incoming 2 prio2,0,2); // set priority 2 notify
	  SCCPSetMessage(Incoming 3 prio1,0,1); // set priotity 1 notify
	  (has no effect until priority 2 is cleared
	  };

	* [r5864] Fix: cleardisplayprinotify

	* [r5863] Revert: -Og optimization which not all gcc compilers seem
	  to like either

2015-01-19  ddegroot

	* [r5862] Fix: Adding autoconf/compile required for make release by
	  automake

	* [r5861] Fix: buffer issue because of using len instead of buf_len

	* [r5860] Fix: reloading softkeysets. Issue reported by Pavel.

	* [r5859] Enhancement: Wenn using gcc and --enable-optimization set
	  -Og instead of -O2 which will enable all optimizations without
	  sacrificing the ability to have enxtended gdb debug capbility.
	  This optimization level is not supported in clang.

2015-01-18  marcelloceschia

	* [r5858] fixes compile issue

	* [r5857] fixes compile issue

	* [r5856] move sccp_device_setLastNumberDialed before
	  SCCP_CHANNELSTATE_PROCEED

	* [r5855] fixes redial button in immediate mode, patch provided by
	  Pavel Troller

2015-01-17  marcelloceschia

	* [r5854] applying patch from Pavel Troller that fixes callinfo for
	  immediate dialing

2015-01-16  marcelloceschia

	* [r5853] fixes compile issue

	* [r5852] remove PBX(set_callstate) (c, AST_STATE_OFFHOOK) from
	  sccp_indicate and move it to the right places

	* [r5851] remove PBX(set_callstate) (c, AST_STATE_RING) from
	  sccp_indicate and move it to the right places

	* [r5850] remove PBX(set_callstate) (c, AST_STATE_BUSY) from
	  sccp_indicate and move it to the right places

	* [r5849] remove PBX(set_callstate) (c, AST_STATE_RINGING) from
	  sccp_indicate and move it to the right places

	* [r5848] remove PBX(set_callstate) (c, AST_STATE_RINGING) from
	  sccp_indicate and move it to the right places

	* [r5847] reapply patch: A small patchset to fix small bugs in
	  immediate mode (patch1+patch2), provided by Pavel Troller

	* [r5846] revert my change for patch A small patchset to fix small
	  bugs in immediate mode (patch1+patch2), provided by Pavel Troller

2015-01-15  marcelloceschia

	* [r5843] A small patchset to fix small bugs in immediate mode
	  (patch2), provided by Pavel Troller

	* [r5842] A small patchset to fix small bugs in immediate mode
	  (patch2), provided by Pavel Troller

	* [r5841] A small patchset to fix small bugs in immediate mode
	  (patch1), provided by Pavel Troller

2015-01-15  ddegroot

	* [r5839] Edit property svn:ignore

2015-01-14  ddegroot

	* [r5838] Fix: COMPAT level for debian packages

	* [r5837] Enhancement: Added launchpad/ppa repository for Ubuntu
	  Users. See: https://launchpad.net/~chan-sccp-b for details

	* [r5836] Add vivid and lucid repositories to travis CI script

	* [r5835] Cleanup: Replace commented code blocks. Re-indent sources

	* [r5834] Update travis.yml

2015-01-12  ddegroot

	* [r5832] Cleanup: Shorten displayed nat string / Remove
	  CS_Expirmental block because of indentation difference.

	* [r5831] Fix/Update: config examples

	* [r5830] Experimental Enhancement: Same as previous revision but
	  for ast106.c

	* [r5829] Experimental Enhancement: Change nat parameter to enum
	  (auto/off/on) to allow for more control during directrtp
	  bridging. New Default value is "auto".
	  Requires:
	  ./configure --enable-experimental-mode
	  change in realtime db: ALTER TABLE sccpdevice CHANGE COLUMN nat
	  VARCHAR(4) DEFAULT 'auto'
	  
	  This change makes it possible to use directrtp in remote natted
	  locations, by setting directrtp=on and device permit/deny to
	  include both the remote phone ip range (between which directrtp
	  should occur) and the natted source ip-address.
	  Example
	  [SEP00123445566]
	  directrtp=on ; force directrtp attempt
	  nat=off ; force non-natted negotiation
	  deny=0.0.0.0/0.0.0.0
	  permit=192.168.1.0/24 ; remote phone ip-address range
	  permit=21.22.23.222/32 ; natted remote address

2015-01-11  ddegroot

	* [r5828] Fix: Debug message about auto nat

	* [r5827] Enhancement: Allow the use of dialplan HASH() function
	  combined with SCCPDEVICE(), SCCPLINE() and SCCPCHANNEL() to query
	  multiple parameters with only one function call (Required to fix
	  dialplan macro readability for Cody Miller-Kelly).
	  Note: Original single parameter queries are still supported as
	  before.
	  
	  Diaplan Example:
	  Set(HASH(_SCCP_DEVICE)=${SCCPDEVICE(current,id,description,ip,button_config,codecs,codec[2])});
	  Noop(Keys: ${HASHKEYS(SCCP_DEVICE)});
	  Noop(Id: ${HASH(SCCP_DEVICE,id)});
	  Noop(Desc: ${HASH(SCCP_DEVICE,description)});
	  Noop(Ip: ${HASH(SCCP_DEVICE,ip)});
	  Noop(button_config: ${HASH(SCCP_DEVICE,button_config)});
	  Noop(codecs: ${HASH(SCCP_DEVICE,codecs)});
	  Noop(codec[2]: ${HASH(SCCP_DEVICE,codec[2])});

	* [r5826] Enhancement: Added rtp quality statistics, i.e. 'rtpqos'
	  to CHANNEL(), SCCPDEVICE() and SCCPCHANNEL() as per request from
	  Cody Miller-Kelly

2015-01-11  marcelloceschia

	* [r5825] fix missing ,

	* [r5824] use dialed number interface

	* [r5823] implement interface for dialed number for asterisk
	  11,12,13

	* [r5822] add interface for dialed number

2015-01-11  ddegroot

	* [r5821] Fix: Remove the 7940 from the addon warning message.
	  (Reported by hhornung).

2015-01-10  ddegroot

	* [r5820] Fix: fillfactor check

	* [r5819] Fix: Added warning about fillfactor to 'sccp show
	  refcount'

	* [r5818] Fix: Added warning when specifying addons for 794x phones
	  during device registration

	* [r5817] Fix: Changing CallerID in CDR becasuse of CallerId(ANI)
	  Issue reported by Pavel Troller.

2015-01-03  ddegroot

	* [r5816] Fix config examples: show 7914 attached to 7960 instead
	  of (non-working) 7940. (Requested by Matt Darnell)

2015-01-02  ddegroot

	* [r5815] Fix: debug message

	* [r5814] Include revision number based on .revision when compiling
	  from TGZ

2014-12-23  marcelloceschia

	* [r5813] fixes wrong digit @ instead of + on a 6945 device dialing
	  off hook; reported by Ксения Юрьевна Блащук

2014-12-13  marcelloceschia

	* [r5812] display inbound callerid number on prompt when device has
	  an active channel

	* [r5811] fixes BLINDTRANSFER variable issue, reported by Nikola

2014-12-12  marcelloceschia

	* [r5810] revert FLASH prompt when ringermode is set

2014-11-27  ddegroot

	* [r5809] Fix: Compile warning when compiling without conference

2014-11-27  marcelloceschia

	* [r5808] apply patch to fix segfault on cli commond 'sccp set
	  channel <channe> hold' (without 6th argument). Patch provied by
	  Max Nesterov. Thank you Max

2014-11-26  ddegroot

	* [r5807] Fix: Remove second autoloop check during pbx_start.

2014-11-23  ddegroot

	* [r5806] Fix: DirTrsfr. Reported by Alexander Lopez.

2014-11-20  ddegroot

	* [r5805] Fix: Added warning about use of videoCapability in SEP
	  files, when video is not actually available. Warning can be
	  removed once the issue in source is found.

	* [r5804] Enhancement: Added possiblity to define a uniqueId during
	  sccp_channel_newcall for asterisk > 12. Used in AMI:
	  SCCPStartCall to specify the uniqueid of the channel to be
	  created. Follow up on the Fix to allow Originate to specify the
	  uniqueId on channels to be created. Issue Reported and Patch
	  verified by Niklas Larssson.

	* [r5803] Fix: softkeyset debug message

	* [r5802] Fix: skinny_stimulusMap_cb indentation

2014-11-19  ddegroot

	* [r5801] Enhancement: Support uniqueId/ChannelId during Originate
	  in >asterisk-12. Requested by Niklas Larsson.

2014-11-14  ddegroot

	* [r5800] Fix: Added mutex_destroy channel->scheduler.lock

	* [r5799] Enhancement: Use sccp_channel_updateMediaTransmission
	  instead of sccp_channel_startMediaTransmission to make sure
	  mediatransmission is stopped before starting again (if already
	  started)

	* [r5798] Enhancement: moved packet debug output to one function

2014-11-09  ddegroot

	* [r5797] Fix: sccp_channel_answer does not answer because device
	  was already assigned during sccp_requestChannel (reversion).
	  Issue Reported by Riten Jaiswal.

2014-11-07  ddegroot

	* [r5796] Enhancement: Deal with video codec requesting the same
	  way as with requested audio codecs (2)

	* [r5795] Enhancement: Deal with video codec requesting the same
	  way as with requested audio codecs

	* [r5794] Fix: Only set wideband codec during channel_request when
	  using SharedLine and not audiocapabilities have been set

	* [r5793] Assign device to newly created channel when dealing with
	  a non shared line, which prevent NONE codec issue

	* [r5792] Enhancement: prevent refcount issue during HOLD/RESUME
	  when using line button

	* [r5791] Fix: refcount issue during HOLD/RESUME when using line
	  button

2014-11-05  ddegroot

	* [r5790] Reformat sources

	* [r5789] Enhancement: Added kate source format line to all files.
	  Fix: gcc-4.9.2 compilation issue because of file end

2014-11-04  ddegroot

	* [r5788] Fix: Ast-13 compile issue. Reported by Niklas Larsson.

2014-11-01  marcelloceschia

	* [r5787] stasis patch by Matt Hoskins, requires experiamental mode

2014-10-26  ddegroot

	* [r5786] Enhancement: replace free/ast_free with sccp_free and
	  realloc with sccp_realloc (consistency)

	* [r5785] Enhancement: use sccp_malloc/sccp_calloc everywhere so
	  that all allocation show up in 'memory show summary'. Fix: Memory
	  Leak in sccp_softkey

2014-10-26  marcelloceschia

	* [r5784] debug send messages when DEBUGCAT_MESSAGE

2014-10-25  ddegroot

	* [r5783] Fix: sccp_sk_post_reload to fixup devices and softkeys
	  (only required for experimental mode and because of device before
	  softkey parsing order

	* [r5782] Fix: apptID -> appID

	* [r5781] Fix: cleanup some of the doxygen remarks

	* [r5780] Enhancement: Added 'uriaction' parameter to softkeyset,
	  which makes it possible to intercept a softkey press and handled
	  it using a custom implementation by calling a url instead
	  (experimental feature). Custom Feature Requested by Cody
	  Miller-Kelly (Vertiro)

2014-10-24  marcelloceschia

	* [r5779] fixes #228 (in and out of band signaling during ringout)

2014-10-24  ddegroot

	* [r5778] Enhancement: Reduce the softkey class exposure

2014-10-23  ddegroot

	* [r5777] Enhancement: Added labelstr2int lookup function

2014-10-19  ddegroot

	* [r5776] Enhancement: Check if conference->bridge was created
	  succesfully during conference_create or return NULL, and cancel
	  conference. Issue reported by Asela Fernando

	* [r5775] Fix: refcount array length should be prime number.

	* [r5774] Enhancement: Check if conference->bridge exists before
	  trying to join it. Issue reported by Asela Fernando

2014-10-14  ddegroot

	* [r5773] Doc: add useRedialMenu requiredment for phoneServices
	  entry

2014-10-13  ddegroot

	* [r5772] Fix: segfault set_originalCalledParty /
	  set_originalCallingParty. Reported by Alena Juk.

2014-10-10  marcelloceschia

	* [r5771] references #237; remove debug notice output

	* [r5770] fixes #237; asterisk introduces a none codec that kills
	  asterisk translation path whereas there a valid codec after the
	  none

2014-10-09  ddegroot

	* [r5769] Fix: remove duplicate information from status bar when
	  channel is ringing, no need to duplicate the CallPlane
	  information

	* [r5768] Fix: phone_screenshot

	* [r5767] Enhancement: Show originalCalledNumber if available
	  during ringin in the status bar

2014-10-08  ddegroot

	* [r5766] Fix: doxygen issues

	* [r5765] Enhancement: Change Log Levels to reduce logging with
	  'core set verbose 2' to only show the most important including
	  notices/errors

	* [r5764] Cleanup: scheduled digittimeout. Enhancement: Reduce log
	  level for extension matcher

	* [r5763] Enhancement: Revised cfwdBusy handling (db update, device
	  status check etc).

	* [r5762] Update: ChangeLog staring at revision 5500

2014-10-06  ddegroot

	* [r5761] Enhancement: LineStat, LineStatV2, cli test message
	  linestat

	* [r5760] Fix: memory corruption of url string in
	  sccp_device_setBackground

	* [r5759] Fix: Reinstating imageversion, Added: loadedimageversion
	  (set during register if available). Required to force minimal
	  required firmware revision on old devices without cnf.xml file.

	* [r5758] Fix: one single line instance we should be informing
	  asterisk when the channel is going to forwarded, when this
	  channel is called. That way the 'i' option can be used in
	  app_queue for example. Also provided a shared line variant which
	  needs further testing

	* [r5757] Fix: Prevent long callforward extensions from overflowing
	  the statusprompt line

	* [r5756] Fix: renamed setChannelCallForward parameter

	* [r5755] Fix: Show new ConfList Icons for phones with
	  protocolversion 15 instead of 17. Reported by Cody Miller-Kelly

2014-10-04  ddegroot

	* [r5754] Added sccp.conf->sql converter created by Dave Burgess to
	  the contrib directory

2014-09-30  ddegroot

	* [r5753] Fix: sccp_sk_answer replace barrier with locked
	  pbx_channel_ref and unref after sccp_channel_answer. Clean: old
	  remarks

2014-09-30  marcelloceschia

	* [r5752] always close string with \0 when copying strings between
	  src and dst; closes #236

2014-09-26  ddegroot

	* [r5751] Cleanup: sccp_actions.c. Enhancement: Moved
	  ConnectionStatReq to sccp_protocol.c. Fixed: ConnectionStatRes
	  processing for V22 messages.

	* [r5750] Fix: compiling with --disable-realtime. Reported by Steve
	  Hanselman

	* [r5749] Enhancement: Replacement for the sccp_copy_string
	  function. Added cli test function for callinfo.

	* [r5748] Fix: Add asterisk/unaligned.h to sccp_protocol.c.
	  Reported by Jay Glenn.

2014-09-23  ddegroot

	* [r5747] Fix: Conferencing selected calls. Reported by David
	  George.

2014-09-20  ddegroot

	* [r5746] Fix: refcount constructor debug logging

	* [r5745] Enhancement: Switched to new asterisk refcount debugging
	  method. Used static declaration for ref_count_debug file and only
	  open and close it once per module load/unload cycle. Copied their
	  refcounter.py script to contrib directory.

	* [r5744] Fix: Added an extra check size <> 0 in sccp_copy_string

2014-09-19  ddegroot

	* [r5743] Fix: buffer overflow in sccp_handle_ConnectionStatistics
	  when QualityStatsSize==0. (Reported by Sharan Harkisoon)

2014-09-18  marcelloceschia

	* [r5742] fixes #234

2014-09-15  ddegroot

	* [r5741] Fix: Conference on 7960, reversion of previous change (to
	  please clang static analysis). (Patch submitted by Sharan
	  Harkisoon)

2014-09-10  ddegroot

	* [r5740] Enhancement: Reduced WARNING to
	  sccp_log(DEBUGCAT_CHANNEL) in the channel_find functions.
	  (Reported by Sander Smeenk).

	* [r5739] Fix: Exclude setSoftkeyState when KEYMODE_EMPTY is
	  invoked

2014-09-09  ddegroot

	* [r5736] Fix: Add DEVICESTATE_OFFHOOK to sccp_handle_offhook. (Fix
	  for sf:#239)

2014-09-08  ddegroot

	* [r5735] Release: Chan_SCCP-4.2.0_RC2

2014-09-07  ddegroot

	* [r5734] Fix: Initialize values

2014-09-06  ddegroot

	* [r5733] Fix: digittimeout / scheduled hangup issues reported when
	  in immediate mode using newly implemented sched_*_ref functions,
	  correcting an error in the asterisk AST_SCHED_DEL macro.
	  (Reported by Pavel Troller)

	* [r5732] Fix: old-style field designator extension

	* [r5731] Fix: CS_AST_CONTROL_INCOMPLETE handling in regards to
	  digittimeout

	* [r5730] Enhancement: Remove sccp_sched_del / sccp_sched_add
	  functions in favor of the PBX() versions

	* [r5729] Enhancement: Added
	  sched_add_ref/sched_del_ref/sched_replace_ref wrapper functions

2014-09-05  ddegroot

	* [r5728] Enable phoneservices in 797x template

2014-09-04  ddegroot

	* [r5727] Fix: Transfer to sharedline(default). Fix: Channel on
	  hold for transfer remote announcement causing trouble to answer
	  on sharedline device. (Reported by Antonio / Ian / Martin)

2014-09-03  ddegroot

	* [r5726] Fix: digittimeout / scheduled_hangup / refcount

	* [r5725] Fix scheduled_hangup / scheduled_digit refcount.

2014-09-02  ddegroot

	* [r5724] Removed CHANNELSTATE_HELD_FOR_TRANSPORT

2014-09-01  ddegroot

	* [r5723] Fix: compile error for asterisk-1.8 / asterisk-10.
	  (Reported by Hhornung)

	* [r5722] Enhancement: Changed sccp_chanenl_sched_hangup_by_callid
	  to static _sccp_chanenl_sched_hangup

	* [r5721] Fix: compile error for asterisk-1.8 / asterisk-10.
	  (Reported by Hhornung)

	* [r5720] Revised set OriginalCalledParty / OriginalCallingParty

	* [r5719] Fix: Allow calledparty/callingparty to be overwritten
	  using an empty string during connectedline update. (Issue &
	  Adapted Patch by Antonio).

	* [r5718] Enhancement: Synchronized
	  setCalled/setCalling/setOriginalCalled/setOriginalCalling party
	  funcions.

	* [r5717] Fix: Transfer using 6921 (Reported/Patched by Antonio)

2014-08-31  ddegroot

	* [r5716] Enhancement: Implement a way to set OriginalCallingParty
	  and OrginalCalledParty from the dialplan. Revised supplied p1
	  patch in favor of implementing the same functionality via
	  CHANNEL() instead. Deprecated the SCCPSetCalledParty function in
	  the process. (Reported and Patch (p1) provided by Nikolay
	  Vasilev)

	* [r5715] Enhancement: Store callforward information into astdb
	  once by device/line and once by line/device. (Reported and Patch
	  (p2_v2) provided by Nikolay Vasilev)

	* [r5714] Fix: scheduled hangup (references #220, references #221,
	  references #223, references #224)

2014-08-30  ddegroot

	* [r5713] Fix: Remove const from device when running without atomic
	  functions

2014-08-30  marcelloceschia

	* [r5712] XMLDefault504G.cnf.xml

2014-08-30  ddegroot

	* [r5711] Fix: memset call_statistics during device creation

	* [r5710] Remove call_stats->type which is not required and seems
	  to conflict with pthreads

	* [r5709] Fix: Downplay getnameinfo error in sccp_socket_stringify
	  (We are trying to report and error, and should not generate extra
	  ones if the incoming data is wrong). Use them instead of
	  tmp__addr.ss to report connection issues in
	  sccp_socket_getOurAddressfor. (Reported by Jordan Cook)

2014-08-29  ddegroot

	* [r5708] Fix compilation against asterisk-1.6

2014-08-23  ddegroot

	* [r5707] Enhancement: Localize the creation and use of tmpChannel
	  (only where needed)

	* [r5706] Fix: README.md documentation links

2014-08-22  ddegroot

	* [r5705] Test: svn commit hook

	* [r5704] Test: svn commit hook

	* [r5703] Test: svn commit hook

	* [r5702] Test: svn commit hook

	* [r5701] Fix: .travis.yml replace sude with sudo

2014-08-21  ddegroot

	* [r5700] Enhancement: Test to see if travis can use ubuntu trusty
	  sources for asterisk-11 (permission fix)

	* [r5699] Enhancement: Test to see if travis can use ubuntu trusty
	  sources for asterisk-11

	* [r5698] Fix: rather use ddegroot instead.

2014-08-21  marcelloceschia

	* [r5697] add notifications

2014-08-21  ddegroot

	* [r5696] Update: README.md

	* [r5695] Fix: Make travis compile against asterisk-11 (3) :-((

	* [r5694] Fix: Make travis compile against asterisk-11 (2) :-(

	* [r5693] Fix: Make travis compile against asterisk-11 (1)

	* [r5692] Fix: README.md

	* [r5691] Fix: Make travis compile against asterisk-11

	* [r5690] Fix: Add test to Makefile for travis.yml

	* [r5689] Fix: README.md

2014-08-21  marcelloceschia

	* [r5688] test

2014-08-21  ddegroot

	* [r5687] Doc: Added some comments to labels

	* [r5686] Fix: hangup after conference should be queue, but no
	  ast_pbx_pbx was ever started, because we were running our own
	  conference thread.

	* [r5685] Fix: conferenceId difference between moderator and
	  poarticipant

2014-08-20  ddegroot

	* [r5684] Added travis compilation status link

	* [r5683] Added travis compilation status link

	* [r5682] Added travis yml file

	* [r5681] Enhancement: Added 'sccp show hint lineStates' cli/ami
	  function. Added 'sccp show hint subscriptions' cli/ami function.
	  Extension: Added test message to display screenshot of all
	  supported labels by a particular device (part of label research).

	* [r5680] Enhancement: Added 'sccp show hint lineStates' cli/ami
	  function. Added 'sccp show hint subscriptions' cli/ami function.
	  Extension: Added test message to display screenshot of all
	  supported labels by a particular device (part of label research).

	* [r5679] Fix: gen_sccpconf adaptation to new
	  sccp_config_entries.hh format.

2014-08-19  ddegroot

	* [r5678] Fix: asterisk-13 + conference

2014-08-19  marcelloceschia

	* [r5677] fix asterisk 13 compiling with video and conference

2014-08-19  ddegroot

	* [r5676] Fix: Prevent Indicate Ringing from cleaning out the
	  called party name if already set correctly. Adapt
	  sccp_channel_set_calledparty to make it possible to distinquish
	  between leaving the name alone or cleaning it out.
	  (Reported/Tested by Nikolay Vasilev)

	* [r5675] Revert sccp_channel.c sccp_device.c from previous commit
	  (accidentally checked in)

	* [r5674] Fix: ast-13 compilation with conference. Fix:
	  const/non-const compile warning

	* [r5673] Fix: file header

2014-08-19  marcelloceschia

	* [r5672] starting with asterisk 13 compatibility

2014-08-19  ddegroot

	* [r5671] Fix: Rework indicate dialing so that Placed Calls
	  information is updated correctly. SendCallState has to happen
	  after sendDialedNumber & sendCallInfo. Split the function in two
	  helper parts to reduce the number of earlyrtp checks.
	  sccp_device_indicate_dialing should be removed completely later
	  on. (Issue reported by Steve Storts)

2014-08-18  ddegroot

	* [r5670] Fix: Update configure.ac/makefile.am to recognise
	  asterisk-trunk (asterisk-13). Compilation against asterisk-13
	  currently broken, needs fixing/more work. references #226.

	* [r5669] Fix: Spelling mistake

	* [r5668] Enhancement: Adapt to added
	  SCCP_CHANNELSTATE_HELP_FOR_TRANSFER

	* [r5667] Enhancement: Added SCCP_CHANNELSTATE_HELD_FOR_TRANSFER
	  (references #211)

2014-08-16  ddegroot

	* [r5666] Fix: compile warning because of unused variable

	* [r5665] Fix: Compile Error. References #219 / Bug Report: 237 /
	  HHornung

2014-08-16  marcelloceschia

	* [r5664] references #219

	* [r5663] closes #217 (Shared Line & Caller ID )

2014-08-13  ddegroot

	* [r5662] Enhancement: Set lastRedirectReason = 4 when call is
	  being transfer -> Will show more detailed information in
	  ReceiveCalls (Original Caller and Transferer records). (Supported
	  in Information Gathering and Analyses by Philippe Teissier.).
	  Callplane does not show the improvement that we hoped for though,
	  which is a shame.

	* [r5661] Fix: Make sccp_session_removeDevice return the device
	  that was removed from the session, so that we can use it for some
	  other action. Use sccp_session_removeDevice during
	  crossoversession handling (Which includes locking the session
	  during the procedure.). (Minor Issue reported by Pavel).

2014-08-11  ddegroot

	* [r5660] Doc: Updated some comments to labels, to clarify their
	  current/future use

	* [r5659] Doc: Added some comments to labels, to clarify their
	  current/future use

	* [r5658] Fix: conference regression. (Reported by Alena Juk)

	* [r5657] Fix: hangup when called without a non-existing sccp
	  channel would unref the channel before setting channel tech to
	  NULL, causing a segfault in ast_channel_destructor while free-ing
	  channel tech. (Reported by Dave Burgess)

2014-08-10  ddegroot

	* [r5656] Enhancement: Change default configure values for
	  optization and debug when running inside versioncontrolled
	  directory. Values remain the same when using a TGZ file.

	* [r5655] Fix: Make digits[] const (sendDigit)

	* [r5654] Fix: Remove undefined behaviour (sendDigit)

	* [r5653] Debug: Add debug output for addons using fauly
	  d->config_type='7914' config parameter

	* [r5652] Doc: Update/Fix Doxygen

	* [r5650] Fix: also deal with the bad config example 'button =
	  line, empty', that was accidentally distributed.

	* [r5649] Doc: Fix empty button examples

	* [r5648] Debug: Reduce debug level of session without a device
	  attached output.

	* [r5647] Fix: Handle buttons with a type but without any options
	  as an empty button (Reworked). (Issue reported by Dave Burgess)

	* [r5646] Fix: Revert revision 5644. (Issue reported by Pavel)

2014-08-09  ddegroot

	* [r5645] Fix: Check d->lineButtons.instance[instance] before
	  dereferencing any of it's components. (Issue reported by Dave
	  Burgess)

	* [r5644] Fix: Handle buttons with a type but without any options
	  as an empty button. (Issue reported by Dave Burgess)

	* [r5643] Enhancement: concentrate crossover session handling in
	  one function, Fix: crossover session device cleanup. (Issue
	  reported by Ian McAlees)

2014-08-08  ddegroot

	* [r5642] Update: llvm-scan-build script to include more checks

	* [r5641] Fix: invalid use of sizeof refering to a pointer instead
	  of the actual size

	* [r5640] Fix: senddigit->senddigits leading to out of bounds
	  access

	* [r5639] Fix: invalid use of sizeof refering to a pointer instead
	  of the actual size

	* [r5638] Fix: senddigit->senddigits leading to out of bounds
	  access

	* [r5637] Fix: memcpy out of bounds

	* [r5636] Removal of convert_runningconf_to_sql.sh

	* [r5635] Fix: channelstate/callstate mixup

	* [r5634] Enhancement: Introduction of Groupable ChannelStates (RB:
	  60)

2014-08-07  ddegroot

	* [r5633] Fix: Should use the retained version of device, when
	  walking throught he table, to prevent null pointer dereference

	* [r5632] Fix: Prevent potential null-pointer dereferences

	* [r5631] Fix: Should use the retained version of device, when
	  walking throught he table, to prevent null pointer dereference

	* [r5630] Fix: Existence of device is not quaranteed at this moment

	* [r5629] Fix: Prevent dereference of NULL Pointer when reading
	  SCCP_LIST_GETSIZE

	* [r5628] Fix: Dial Prompt / Overlap Dialing Issue (Reported/Tested
	  by Dan Huynh (normal mode), Patched/Tested by Pavel Troller
	  (immediate mode))

2014-08-06  ddegroot

	* [r5627] Enhancement: Created simple bash script to parse a
	  running config to sql output (Might need heavy modification by
	  the user depending on table format)

2014-08-05  ddegroot

	* [r5626] Enhancement: Overwrite pkg-config asterisk.pc settings
	  when using --with-asterisk in configure.

2014-08-04  ddegroot

	* [r5625] Prevention: Preventative fix for memory leak when using
	  getPickupExtension, in remarked out code.

	* [r5624] Fix: gpickup via pickup extension (ie: *8). (Reported by
	  Ian)

2014-07-31  ddegroot

	* [r5623] Enhancement: Added debug output when redial is called
	  without a lastnumber stored

	* [r5622] Backport: no codecs when receiving update_rtp_peer lead
	  to segfault. (Reported and Tested by Vladimir Karpov).

2014-07-30  ddegroot

	* [r5621] Fix: update_rtp_peer called with 0 codecs when using >
	  asterisk-12. (Reported by Vladimir Karpov)

	* [r5620] Fix: debug message about hangup_cause being set

	* [r5619] Fix: Updated externip config comment. Regenerated
	  sccp.conf.annotated sample file.

	* [r5618] Fix: Add pushbackground to 796N phones. (Reported by John
	  Brithner)

	* [r5617] Fix: setting default externip to 0.0.0.0, to make the
	  ipaddress parser happy. Reenabled showing externip in cli:'sccp
	  show globals'. Use anyaddress check in
	  sccp_socket_getExternalAddr() to see if default value has been
	  replaced by an actual address. (Re-Reported by Pavel)

	* [r5616] Fix: if externip is not set fallback to ipaddress of
	  incoming interface. Remove deprecation from externip parameter.
	  This will restore previous behaviour but still provide NAT
	  behaviour needed for PBX on sepeperate host behind natted
	  firewall. (Reported by Dan / Pavel / Ian)

2014-07-28  ddegroot

	* [r5615] Enhancement: add asterisk indication translations

	* [r5614] Fix: Changed localnet default to 'internal'

	* [r5613] Fix: compile failure (related to 69XX commit)

	* [r5612] Enhancement: Fix SoftKeySetRes message, filling the
	  SoftKeyInfoIndex correctly

	* [r5611] Fix: sync default offhookfeat keymode with offhook
	  keymode settings

	* [r5610] Support transfer/callforward on 69XX phones, by using
	  different keymodes. Reported by Antonio

2014-07-27  ddegroot

	* [r5609] Fix: sccp_handle_keypadbutton when in
	  CHANNELSTATE_DIALING or when pbx_run is running we should to
	  force overlap dialing from that moment on. (Reported by Dan /
	  Checked/Tested by Pavel).

2014-07-25  ddegroot

	* [r5608] Enhancement: Transfer_on_hangup has been changed to only
	  be activated by onhook event. The endcall softkey will cancel the
	  transfer and revert to the original caller. (Requested by
	  Antonio)

2014-07-24  ddegroot

	* [r5607] Fix: NAT issue after IPv6 implementation, Fixes long
	  standing nat issue since revision 5063 (Reported by Dan Huynh).

	* [r5606] Fix: KEYMODE_OFFHOOKFEAT when KEYMODE_OFFHOOK is
	  requested during Transfer on protocolversion 22 phones (Which
	  should include 69XX). Not sure if this should be specific for
	  69XX phones or if protoversion 22 phones in general need this
	  keymode. (Reported by Antonio).

2014-07-22  ddegroot

	* [r5605] Fix thread_t pointer (debug information) for x86 by
	  forcing to void pointer (generic)

	* [r5604] Fix: sccp.conf example by removing some of the deprecated
	  / obsolete values

	* [r5603] Fix: make compatible with system where pthread_t is a
	  pointer which cannot be downgraded to unsigned int.

2014-07-19  ddegroot

	* [r5602] Enhancement: OpenReceiveChannel V3 message, to include
	  remote source ip-address and port

2014-07-16  ddegroot

	* [r5601] Fix: enbloc dialing on 7936 using protocolversion 4
	  (Cleaning out lineInstance correctly) (Reported by Ivan Isenko).

	* [r5600] Added Enbloc dialing to SPCP protocol (Reported by Ivan
	  Isenko).

