2014-12-23  marcelloceschia

	* [r5813] src/sccp_actions.c: fixes wrong digit @ instead of + on a
	  6945 device dialing off hook; reported by Ксения Юрьевна Блащук

2014-12-13  marcelloceschia

	* [r5812] src/sccp_pbx.c: display inbound callerid number on prompt
	  when device has an active channel

	* [r5811] src/sccp_channel.c: fixes BLINDTRANSFER variable issue,
	  reported by Nikola

2014-12-12  marcelloceschia

	* [r5810] src/sccp_indicate.c: revert FLASH prompt when ringermode
	  is set

2014-11-27  ddegroot

	* [r5809] src/sccp_softkeys.c: Fix: Compile warning when compiling
	  without conference

2014-11-27  marcelloceschia

	* [r5808] src/sccp_cli.c: apply patch to fix segfault on cli
	  commond 'sccp set channel <channe> hold' (without 6th argument).
	  Patch provied by Max Nesterov. Thank you Max

2014-11-26  ddegroot

	* [r5807] src/pbx_impl/ast/ast.c: Fix: Remove second autoloop check
	  during pbx_start.

2014-11-23  ddegroot

	* [r5806] src/sccp_softkeys.c: Fix: DirTrsfr. Reported by Alexander
	  Lopez.

2014-11-20  ddegroot

	* [r5805] conf/tftp/SEP0000000000.cnf.xml_797x_template,
	  conf/tftp/SEP0000000000.cnf.xml_annotated,
	  conf/tftp/SEP0000000000.cnf.xml_ipv6_template: Fix: Added warning
	  about use of videoCapability in SEP files, when video is not
	  actually available. Warning can be removed once the issue in
	  source is found.

	* [r5804] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_cli.c, src/sccp_features.c,
	  src/sccp_management.c, src/sccp_softkeys.c: Enhancement: Added
	  possiblity to define a uniqueId during sccp_channel_newcall for
	  asterisk > 12. Used in AMI: SCCPStartCall to specify the uniqueid
	  of the channel to be created. Follow up on the Fix to allow
	  Originate to specify the uniqueId on channels to be created.
	  Issue Reported and Patch verified by Niklas Larssson.

	* [r5803] src/sccp_device.c: Fix: softkeyset debug message

	* [r5802] src/sccp_actions.c: Fix: skinny_stimulusMap_cb
	  indentation

2014-11-19  ddegroot

	* [r5801] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Enhancement: Support uniqueId/ChannelId during Originate in
	  >asterisk-12. Requested by Niklas Larsson.

2014-11-14  ddegroot

	* [r5800] src/sccp_channel.c: Fix: Added mutex_destroy
	  channel->scheduler.lock

	* [r5799] src/sccp_actions.c, src/sccp_rtp.c: Enhancement: Use
	  sccp_channel_updateMediaTransmission instead of
	  sccp_channel_startMediaTransmission to make sure
	  mediatransmission is stopped before starting again (if already
	  started)

	* [r5798] src/sccp_device.c, src/sccp_socket.c: Enhancement: moved
	  packet debug output to one function

2014-11-09  ddegroot

	* [r5797] src/chan_sccp.c: Fix: sccp_channel_answer does not answer
	  because device was already assigned during sccp_requestChannel
	  (reversion). Issue Reported by Riten Jaiswal.

2014-11-07  ddegroot

	* [r5796] src/pbx_impl/ast/ast111.c: Enhancement: Deal with video
	  codec requesting the same way as with requested audio codecs (2)

	* [r5795] src/pbx_impl/ast/ast111.c: Enhancement: Deal with video
	  codec requesting the same way as with requested audio codecs

	* [r5794] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: Only set wideband codec during
	  channel_request when using SharedLine and not audiocapabilities
	  have been set

	* [r5793] src/chan_sccp.c: Assign device to newly created channel
	  when dealing with a non shared line, which prevent NONE codec
	  issue

	* [r5792] src/sccp_actions.c: Enhancement: prevent refcount issue
	  during HOLD/RESUME when using line button

	* [r5791] src/sccp_actions.c: Fix: refcount issue during
	  HOLD/RESUME when using line button

2014-11-05  ddegroot

	* [r5790] src/chan_sccp.c, src/chan_sccp.h, src/common.h,
	  src/sccp_actions.c, src/sccp_actions.h, src/sccp_adv_features.c,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_conference.h, src/sccp_config.c,
	  src/sccp_config.h, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_event.c, src/sccp_event.h, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.h,
	  src/sccp_management.c, src/sccp_management.h, src/sccp_mwi.c,
	  src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.c, src/sccp_protocol.h, src/sccp_refcount.c,
	  src/sccp_refcount.h, src/sccp_rtp.c, src/sccp_rtp.h,
	  src/sccp_socket.c, src/sccp_socket.h, src/sccp_softkeys.c,
	  src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h:
	  Reformat sources

	* [r5789] ChangeLog, src/chan_sccp.c, src/chan_sccp.h,
	  src/chan_sccp_enums.hh, src/common.h, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast104.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast106.h,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast110.h,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast112.h,
	  src/pbx_impl/ast/ast112_announce.c,
	  src/pbx_impl/ast/ast112_announce.h, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_actions.h, src/sccp_adv_features.c,
	  src/sccp_adv_features.h, src/sccp_appfunctions.c,
	  src/sccp_appfunctions.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_cli.h, src/sccp_cli_table.h,
	  src/sccp_conference.h, src/sccp_config.c, src/sccp_config.h,
	  src/sccp_config_entries.hh, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_devstate.c, src/sccp_devstate.h, src/sccp_dllists.h,
	  src/sccp_enum_macro.h, src/sccp_event.c, src/sccp_event.h,
	  src/sccp_event_enums.hh, src/sccp_featureButton.c,
	  src/sccp_featureButton.h, src/sccp_features.c,
	  src/sccp_features.h, src/sccp_hint.c, src/sccp_hint.h,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_labels.h,
	  src/sccp_line.c, src/sccp_line.h, src/sccp_lock.h,
	  src/sccp_management.c, src/sccp_management.h, src/sccp_mwi.c,
	  src/sccp_mwi.h, src/sccp_pbx.c, src/sccp_pbx.h,
	  src/sccp_protocol.c, src/sccp_protocol_enums.hh,
	  src/sccp_refcount.c, src/sccp_refcount.h, src/sccp_rtp.c,
	  src/sccp_rtp.h, src/sccp_socket.c, src/sccp_socket.h,
	  src/sccp_softkeys.c, src/sccp_softkeys.h, src/sccp_threadpool.c,
	  src/sccp_threadpool.h, src/sccp_utils.c, src/sccp_utils.h:
	  Enhancement: Added kate source format line to all files. Fix:
	  gcc-4.9.2 compilation issue because of file end

2014-11-04  ddegroot

	* [r5788] src/sccp_mwi.h: Fix: Ast-13 compile issue. Reported by
	  Niklas Larsson.

2014-11-01  marcelloceschia

	* [r5787] autoconf/asterisk.m4, autoconf/extra.m4, configure,
	  src/config.h.in, src/pbx_impl/ast/define.h, src/sccp_mwi.c,
	  src/sccp_mwi.h: stasis patch by Matt Hoskins, requires
	  experiamental mode

2014-10-26  ddegroot

	* [r5786] src/sccp_config.c, src/sccp_event.c, src/sccp_pbx.c,
	  src/sccp_refcount.c, src/sccp_softkeys.c, src/sccp_threadpool.c:
	  Enhancement: replace free/ast_free with sccp_free and realloc
	  with sccp_realloc (consistency)

	* [r5785] src/sccp_event.c, src/sccp_refcount.c,
	  src/sccp_softkeys.c, src/sccp_threadpool.c, src/sccp_utils.c:
	  Enhancement: use sccp_malloc/sccp_calloc everywhere so that all
	  allocation show up in 'memory show summary'. Fix: Memory Leak in
	  sccp_softkey

2014-10-26  marcelloceschia

	* [r5784] src/sccp_socket.c: debug send messages when
	  DEBUGCAT_MESSAGE

2014-10-25  ddegroot

	* [r5783] src/sccp_softkeys.c: Fix: sccp_sk_post_reload to fixup
	  devices and softkeys (only required for experimental mode and
	  because of device before softkey parsing order

	* [r5782] src/sccp_softkeys.c: Fix: apptID -> appID

	* [r5781] src/sccp_softkeys.c: Fix: cleanup some of the doxygen
	  remarks

	* [r5780] conf/sccp.conf.annotated, src/chan_sccp.h,
	  src/sccp_actions.c, src/sccp_cli.c, src/sccp_config.c,
	  src/sccp_config_entries.hh, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_softkeys.c, src/sccp_softkeys.h,
	  src/sccp_utils.c, src/sccp_utils.h: Enhancement: Added
	  'uriaction' parameter to softkeyset, which makes it possible to
	  intercept a softkey press and handled it using a custom
	  implementation by calling a url instead (experimental feature).
	  Custom Feature Requested by Cody Miller-Kelly (Vertiro)

2014-10-24  marcelloceschia

	* [r5779] src/sccp_indicate.c: fixes #228 (in and out of band
	  signaling during ringout)

2014-10-24  ddegroot

	* [r5778] src/sccp_actions.c, src/sccp_cli.c, src/sccp_softkeys.c,
	  src/sccp_softkeys.h: Enhancement: Reduce the softkey class
	  exposure

2014-10-23  ddegroot

	* [r5777] src/sccp_utils.c, src/sccp_utils.h: Enhancement: Added
	  labelstr2int lookup function

2014-10-19  ddegroot

	* [r5776] src/sccp_conference.c, src/sccp_pbx.c: Enhancement: Check
	  if conference->bridge was created succesfully during
	  conference_create or return NULL, and cancel conference. Issue
	  reported by Asela Fernando

	* [r5775] src/sccp_refcount.c: Fix: refcount array length should be
	  prime number.

	* [r5774] src/sccp_conference.c: Enhancement: Check if
	  conference->bridge exists before trying to join it. Issue
	  reported by Asela Fernando

2014-10-14  ddegroot

	* [r5773] conf/sccp.conf.annotated: Doc: add useRedialMenu
	  requiredment for phoneServices entry

2014-10-13  ddegroot

	* [r5772] src/sccp_channel.c: Fix: segfault set_originalCalledParty
	  / set_originalCallingParty. Reported by Alena Juk.

2014-10-10  marcelloceschia

	* [r5771] src/pbx_impl/ast/ast113.c: references #237; remove debug
	  notice output

	* [r5770] src/pbx_impl/ast/ast113.c: fixes #237; asterisk
	  introduces a none codec that kills asterisk translation path
	  whereas there a valid codec after the none

2014-10-09  ddegroot

	* [r5769] src/sccp_indicate.c: Fix: remove duplicate information
	  from status bar when channel is ringing, no need to duplicate the
	  CallPlane information

	* [r5768] contrib/phone_screenshot/phone_screenshot: Fix:
	  phone_screenshot

	* [r5767] src/sccp_indicate.c: Enhancement: Show
	  originalCalledNumber if available during ringin in the status bar

2014-10-08  ddegroot

	* [r5766] src/pbx_impl/ast/ast113.c, src/sccp_utils.c: Fix: doxygen
	  issues

	* [r5765] src/sccp_actions.c, src/sccp_pbx.c: Enhancement: Change
	  Log Levels to reduce logging with 'core set verbose 2' to only
	  show the most important including notices/errors

	* [r5764] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_channel.c, src/sccp_features.c, src/sccp_pbx.c: Cleanup:
	  scheduled digittimeout. Enhancement: Reduce log level for
	  extension matcher

	* [r5763] src/sccp_actions.c, src/sccp_device.c, src/sccp_line.c,
	  src/sccp_pbx.c: Enhancement: Revised cfwdBusy handling (db
	  update, device status check etc).

	* [r5762] ChangeLog, INSTALL, Makefile.in, autoconf/extra.m4,
	  autoconf/missing, configure, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.in: Update: ChangeLog staring at
	  revision 5500

2014-10-06  ddegroot

	* [r5761] src/sccp_protocol.h, src/sccp_utils.c, src/sccp_utils.h:
	  Enhancement: LineStat, LineStatV2, cli test message linestat

	* [r5760] src/sccp_actions.c, src/sccp_device.c: Fix: memory
	  corruption of url string in sccp_device_setBackground

	* [r5759] src/chan_sccp.h, src/sccp_appfunctions.c, src/sccp_cli.c,
	  src/sccp_config_entries.hh: Fix: Reinstating imageversion, Added:
	  loadedimageversion (set during register if available). Required
	  to force minimal required firmware revision on old devices
	  without cnf.xml file.

	* [r5758] src/sccp_pbx.c: Fix: one single line instance we should
	  be informing asterisk when the channel is going to forwarded,
	  when this channel is called. That way the 'i' option can be used
	  in app_queue for example. Also provided a shared line variant
	  which needs further testing

	* [r5757] src/sccp_device.c: Fix: Prevent long callforward
	  extensions from overflowing the statusprompt line

	* [r5756] src/pbx_impl/pbx_impl.h: Fix: renamed
	  setChannelCallForward parameter

	* [r5755] src/sccp_conference.c: Fix: Show new ConfList Icons for
	  phones with protocolversion 15 instead of 17. Reported by Cody
	  Miller-Kelly

2014-10-04  ddegroot

	* [r5754] contrib/convert_conf_to_sql.pl[ADD]: Added sccp.conf->sql
	  converter created by Dave Burgess to the contrib directory

2014-09-30  ddegroot

	* [r5753] src/sccp_softkeys.c: Fix: sccp_sk_answer replace barrier
	  with locked pbx_channel_ref and unref after sccp_channel_answer.
	  Clean: old remarks

2014-09-30  marcelloceschia

	* [r5752] src/sccp_utils.c: always close string with \0 when
	  copying strings between src and dst; closes #236

2014-09-26  ddegroot

	* [r5751] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_protocol.c, src/sccp_protocol.h: Cleanup:
	  sccp_actions.c. Enhancement: Moved ConnectionStatReq to
	  sccp_protocol.c. Fixed: ConnectionStatRes processing for V22
	  messages.

	* [r5750] ChangeLog, src/sccp_cli.c: Fix: compiling with
	  --disable-realtime. Reported by Steve Hanselman

	* [r5749] ChangeLog, autoconf/asterisk.m4, configure,
	  src/config.h.in, src/sccp_cli.c, src/sccp_utils.c,
	  src/sccp_utils.h: Enhancement: Replacement for the
	  sccp_copy_string function. Added cli test function for callinfo.

	* [r5748] src/sccp_protocol.c: Fix: Add asterisk/unaligned.h to
	  sccp_protocol.c. Reported by Jay Glenn.

2014-09-23  ddegroot

	* [r5747] src/sccp_features.c: Fix: Conferencing selected calls.
	  Reported by David George.

2014-09-20  ddegroot

	* [r5746] src/sccp_refcount.c: Fix: refcount constructor debug
	  logging

	* [r5745] contrib/refcounter.py[ADD], src/sccp_refcount.c:
	  Enhancement: Switched to new asterisk refcount debugging method.
	  Used static declaration for ref_count_debug file and only open
	  and close it once per module load/unload cycle. Copied their
	  refcounter.py script to contrib directory.

	* [r5744] ChangeLog, aclocal.m4, autoconf/asterisk.m4, configure:
	  Fix: Added an extra check size <> 0 in sccp_copy_string

2014-09-19  ddegroot

	* [r5743] src/sccp_actions.c: Fix: buffer overflow in
	  sccp_handle_ConnectionStatistics when QualityStatsSize==0.
	  (Reported by Sharan Harkisoon)

2014-09-18  marcelloceschia

	* [r5742] src/sccp_protocol.h: fixes #234

2014-09-15  ddegroot

	* [r5741] src/sccp_protocol.h: Fix: Conference on 7960, reversion
	  of previous change (to please clang static analysis). (Patch
	  submitted by Sharan Harkisoon)

2014-09-10  ddegroot

	* [r5740] src/sccp_channel.c: Enhancement: Reduced WARNING to
	  sccp_log(DEBUGCAT_CHANNEL) in the channel_find functions.
	  (Reported by Sander Smeenk).

	* [r5739] src/sccp_device.c: Fix: Exclude setSoftkeyState when
	  KEYMODE_EMPTY is invoked

2014-09-09  ddegroot

	* [r5736] src/config.h.in, src/sccp_actions.c: Fix: Add
	  DEVICESTATE_OFFHOOK to sccp_handle_offhook. (Fix for sf:#239)

2014-09-08  ddegroot

	* [r5735] .version, ChangeLog, Makefile.in, NEWS, README,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, debian/changelog,
	  src/Makefile.in, src/config.h.in: Release: Chan_SCCP-4.2.0_RC2

2014-09-07  ddegroot

	* [r5734] src/sccp_actions.c, src/sccp_hint.c: Fix: Initialize
	  values

2014-09-06  ddegroot

	* [r5733] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_channel.c, src/sccp_pbx.c, src/sccp_refcount.h: Fix:
	  digittimeout / scheduled hangup issues reported when in immediate
	  mode using newly implemented sched_*_ref functions, correcting an
	  error in the asterisk AST_SCHED_DEL macro. (Reported by Pavel
	  Troller)

	* [r5732] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast113.c:
	  Fix: old-style field designator extension

	* [r5731] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix:
	  CS_AST_CONTROL_INCOMPLETE handling in regards to digittimeout

	* [r5730] src/chan_sccp.c, src/chan_sccp.h, src/sccp_mwi.c:
	  Enhancement: Remove sccp_sched_del / sccp_sched_add functions in
	  favor of the PBX() versions

	* [r5729] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/pbx_impl.h: Enhancement: Added
	  sched_add_ref/sched_del_ref/sched_replace_ref wrapper functions

2014-09-05  ddegroot

	* [r5728] conf/tftp/SEP0000000000.cnf.xml_797x_template: Enable
	  phoneservices in 797x template

2014-09-04  ddegroot

	* [r5727] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_channel.c, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_protocol_enums.hh: Fix: Transfer to sharedline(default).
	  Fix: Channel on hold for transfer remote announcement causing
	  trouble to answer on sharedline device. (Reported by Antonio /
	  Ian / Martin)

2014-09-03  ddegroot

	* [r5726] src/chan_sccp.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_pbx.c: Fix: digittimeout / scheduled_hangup / refcount

	* [r5725] src/sccp_channel.c, src/sccp_refcount.c: Fix
	  scheduled_hangup / scheduled_digit refcount.

2014-09-02  ddegroot

	* [r5724] src/chan_sccp_enums.hh, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_hint.c, src/sccp_indicate.c:
	  Removed CHANNELSTATE_HELD_FOR_TRANSPORT

2014-09-01  ddegroot

	* [r5723] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  Fix: compile error for asterisk-1.8 / asterisk-10. (Reported by
	  Hhornung)

	* [r5722] src/sccp_channel.c, src/sccp_channel.h: Enhancement:
	  Changed sccp_chanenl_sched_hangup_by_callid to static
	  _sccp_chanenl_sched_hangup

	* [r5721] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c:
	  Fix: compile error for asterisk-1.8 / asterisk-10. (Reported by
	  Hhornung)

	* [r5720] src/sccp_channel.c: Revised set OriginalCalledParty /
	  OriginalCallingParty

	* [r5719] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: Allow calledparty/callingparty to
	  be overwritten using an empty string during connectedline update.
	  (Issue & Adapted Patch by Antonio).

	* [r5718] src/sccp_channel.c: Enhancement: Synchronized
	  setCalled/setCalling/setOriginalCalled/setOriginalCalling party
	  funcions.

	* [r5717] src/sccp_features.c: Fix: Transfer using 6921
	  (Reported/Patched by Antonio)

2014-08-31  ddegroot

	* [r5716] src/pbx_impl/ast/ast.c, src/sccp_appfunctions.c:
	  Enhancement: Implement a way to set OriginalCallingParty and
	  OrginalCalledParty from the dialplan. Revised supplied p1 patch
	  in favor of implementing the same functionality via CHANNEL()
	  instead. Deprecated the SCCPSetCalledParty function in the
	  process. (Reported and Patch (p1) provided by Nikolay Vasilev)

	* [r5715] src/sccp_utils.c: Enhancement: Store callforward
	  information into astdb once by device/line and once by
	  line/device. (Reported and Patch (p2_v2) provided by Nikolay
	  Vasilev)

	* [r5714] src/chan_sccp.h, src/pbx_impl/ast/ast111.c,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_pbx.c,
	  src/sccp_softkeys.c: Fix: scheduled hangup (references #220,
	  references #221, references #223, references #224)

2014-08-30  ddegroot

	* [r5713] src/sccp_device.c: Fix: Remove const from device when
	  running without atomic functions

2014-08-30  marcelloceschia

	* [r5712] conf/tftp/XMLDefault504G.cnf.xml[ADD]:
	  XMLDefault504G.cnf.xml

2014-08-30  ddegroot

	* [r5711] src/sccp_device.c: Fix: memset call_statistics during
	  device creation

	* [r5710] src/chan_sccp.h, src/sccp_actions.c, src/sccp_cli.c:
	  Remove call_stats->type which is not required and seems to
	  conflict with pthreads

	* [r5709] src/sccp_socket.c: Fix: Downplay getnameinfo error in
	  sccp_socket_stringify (We are trying to report and error, and
	  should not generate extra ones if the incoming data is wrong).
	  Use them instead of tmp__addr.ss to report connection issues in
	  sccp_socket_getOurAddressfor. (Reported by Jordan Cook)

2014-08-29  ddegroot

	* [r5708] src/pbx_impl/ast/ast106.c: Fix compilation against
	  asterisk-1.6

2014-08-23  ddegroot

	* [r5707] src/sccp_hint.c: Enhancement: Localize the creation and
	  use of tmpChannel (only where needed)

	* [r5706] README.md: Fix: README.md documentation links

2014-08-22  ddegroot

	* [r5705] ChangeLog: Test: svn commit hook

	* [r5704] ChangeLog: Test: svn commit hook

	* [r5703] INSTALL: Test: svn commit hook

	* [r5702] ChangeLog: Test: svn commit hook

	* [r5701] .travis.yml: Fix: .travis.yml replace sude with sudo

2014-08-21  ddegroot

	* [r5700] .travis.yml: Enhancement: Test to see if travis can use
	  ubuntu trusty sources for asterisk-11 (permission fix)

	* [r5699] .travis.yml: Enhancement: Test to see if travis can use
	  ubuntu trusty sources for asterisk-11

	* [r5698] .travis.yml: Fix: rather use ddegroot instead.

2014-08-21  marcelloceschia

	* [r5697] .travis.yml: add notifications

2014-08-21  ddegroot

	* [r5696] README.md: Update: README.md

	* [r5695] .travis.yml: Fix: Make travis compile against asterisk-11
	  (3) :-((

	* [r5694] .travis.yml: Fix: Make travis compile against asterisk-11
	  (2) :-(

	* [r5693] .travis.yml: Fix: Make travis compile against asterisk-11
	  (1)

	* [r5692] README.md: Fix: README.md

	* [r5691] .travis.yml: Fix: Make travis compile against asterisk-11

	* [r5690] Makefile.am, Makefile.in: Fix: Add test to Makefile for
	  travis.yml

	* [r5689] README.md: Fix: README.md

2014-08-21  marcelloceschia

	* [r5688] README.md: test

2014-08-21  ddegroot

	* [r5687] src/sccp_labels.h: Doc: Added some comments to labels

	* [r5686] src/pbx_impl/ast/ast.c: Fix: hangup after conference
	  should be queue, but no ast_pbx_pbx was ever started, because we
	  were running our own conference thread.

	* [r5685] src/sccp_conference.c: Fix: conferenceId difference
	  between moderator and poarticipant

2014-08-20  ddegroot

	* [r5684] README, README.md[ADD]: Added travis compilation status
	  link

	* [r5683] README: Added travis compilation status link

	* [r5682] .travis.yml[ADD]: Added travis yml file

	* [r5681] src/sccp_cli.c: Enhancement: Added 'sccp show hint
	  lineStates' cli/ami function. Added 'sccp show hint
	  subscriptions' cli/ami function. Extension: Added test message to
	  display screenshot of all supported labels by a particular device
	  (part of label research).

	* [r5680] src/sccp_hint.c, src/sccp_hint.h: Enhancement: Added
	  'sccp show hint lineStates' cli/ami function. Added 'sccp show
	  hint subscriptions' cli/ami function. Extension: Added test
	  message to display screenshot of all supported labels by a
	  particular device (part of label research).

	* [r5679] contrib/gen_sccpconf/gen_sccpconf.c,
	  contrib/gen_sccpconf/gen_sccpconf.h: Fix: gen_sccpconf adaptation
	  to new sccp_config_entries.hh format.

2014-08-19  ddegroot

	* [r5678] src/pbx_impl/ast/ast113.h: Fix: asterisk-13 + conference

2014-08-19  marcelloceschia

	* [r5677] src/pbx_impl/ast/ast113.c: fix asterisk 13 compiling with
	  video and conference

2014-08-19  ddegroot

	* [r5676] src/sccp_channel.c, src/sccp_device.c: Fix: Prevent
	  Indicate Ringing from cleaning out the called party name if
	  already set correctly. Adapt sccp_channel_set_calledparty to make
	  it possible to distinquish between leaving the name alone or
	  cleaning it out. (Reported/Tested by Nikolay Vasilev)

	* [r5675] src/sccp_channel.c, src/sccp_device.c: Revert
	  sccp_channel.c sccp_device.c from previous commit (accidentally
	  checked in)

	* [r5674] src/pbx_impl/ast/ast113.c, src/pbx_impl/ast/ast113.h,
	  src/sccp_channel.c, src/sccp_device.c: Fix: ast-13 compilation
	  with conference. Fix: const/non-const compile warning

	* [r5673] src/pbx_impl/ast/ast112.h: Fix: file header

2014-08-19  marcelloceschia

	* [r5672] src/pbx_impl/ast/ast113.c, src/pbx_impl/ast/ast113.h:
	  starting with asterisk 13 compatibility

2014-08-19  ddegroot

	* [r5671] src/sccp_device.c: Fix: Rework indicate dialing so that
	  Placed Calls information is updated correctly. SendCallState has
	  to happen after sendDialedNumber & sendCallInfo. Split the
	  function in two helper parts to reduce the number of earlyrtp
	  checks. sccp_device_indicate_dialing should be removed completely
	  later on. (Issue reported by Steve Storts)

2014-08-18  ddegroot

	* [r5670] Makefile.in, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast113.h: Fix: Update configure.ac/makefile.am
	  to recognise asterisk-trunk (asterisk-13). Compilation against
	  asterisk-13 currently broken, needs fixing/more work. references
	  #226.

	* [r5669] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_hint.c, src/sccp_indicate.c: Fix: Spelling mistake

	* [r5668] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_hint.c, src/sccp_indicate.c: Enhancement: Adapt to added
	  SCCP_CHANNELSTATE_HELP_FOR_TRANSFER

	* [r5667] src/chan_sccp_enums.hh, src/sccp_channel.c: Enhancement:
	  Added SCCP_CHANNELSTATE_HELD_FOR_TRANSFER (references #211)

2014-08-16  ddegroot

	* [r5666] src/sccp_device.c, src/sccp_socket.c: Fix: compile
	  warning because of unused variable

	* [r5665] src/sccp_features.c: Fix: Compile Error. References #219
	  / Bug Report: 237 / HHornung

2014-08-16  marcelloceschia

	* [r5664] src/sccp_features.c: references #219

	* [r5663] src/sccp_indicate.c: closes #217 (Shared Line & Caller ID
	  )

2014-08-13  ddegroot

	* [r5662] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Enhancement: Set lastRedirectReason = 4 when call is being
	  transfer -> Will show more detailed information in ReceiveCalls
	  (Original Caller and Transferer records). (Supported in
	  Information Gathering and Analyses by Philippe Teissier.).
	  Callplane does not show the improvement that we hoped for though,
	  which is a shame.

	* [r5661] src/sccp_device.c, src/sccp_socket.c: Fix: Make
	  sccp_session_removeDevice return the device that was removed from
	  the session, so that we can use it for some other action. Use
	  sccp_session_removeDevice during crossoversession handling (Which
	  includes locking the session during the procedure.). (Minor Issue
	  reported by Pavel).

2014-08-11  ddegroot

	* [r5660] src/sccp_labels.h: Doc: Updated some comments to labels,
	  to clarify their current/future use

	* [r5659] src/chan_sccp.h, src/sccp_labels.h: Doc: Added some
	  comments to labels, to clarify their current/future use

	* [r5658] src/sccp_conference.c: Fix: conference regression.
	  (Reported by Alena Juk)

	* [r5657] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Fix: hangup
	  when called without a non-existing sccp channel would unref the
	  channel before setting channel tech to NULL, causing a segfault
	  in ast_channel_destructor while free-ing channel tech. (Reported
	  by Dave Burgess)

2014-08-10  ddegroot

	* [r5656] aclocal.m4, autoconf/acinclude.m4, autoconf/extra.m4,
	  configure, tools/versioncheck: Enhancement: Change default
	  configure values for optization and debug when running inside
	  versioncontrolled directory. Values remain the same when using a
	  TGZ file.

	* [r5655] src/pbx_impl/ast/ast.c: Fix: Make digits[] const
	  (sendDigit)

	* [r5654] src/pbx_impl/ast/ast.c: Fix: Remove undefined behaviour
	  (sendDigit)

	* [r5653] src/sccp_utils.c: Debug: Add debug output for addons
	  using fauly d->config_type='7914' config parameter

	* [r5652] ChangeLog, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_socket.c: Doc: Update/Fix Doxygen

	* [r5650] src/sccp_config.c: Fix: also deal with the bad config
	  example 'button = line, empty', that was accidentally
	  distributed.

	* [r5649] ChangeLog, conf/sccp.conf,
	  conf/sccp_hardware.conf.freepbx: Doc: Fix empty button examples

	* [r5648] src/sccp_socket.c: Debug: Reduce debug level of session
	  without a device attached output.

	* [r5647] src/sccp_config.c: Fix: Handle buttons with a type but
	  without any options as an empty button (Reworked). (Issue
	  reported by Dave Burgess)

	* [r5646] src/sccp_config.c: Fix: Revert revision 5644. (Issue
	  reported by Pavel)

2014-08-09  ddegroot

	* [r5645] src/sccp_channel.c: Fix: Check
	  d->lineButtons.instance[instance] before dereferencing any of
	  it's components. (Issue reported by Dave Burgess)

	* [r5644] src/sccp_config.c: Fix: Handle buttons with a type but
	  without any options as an empty button. (Issue reported by Dave
	  Burgess)

	* [r5643] src/chan_sccp.c, src/sccp_actions.c, src/sccp_socket.c,
	  src/sccp_socket.h: Enhancement: concentrate crossover session
	  handling in one function, Fix: crossover session device cleanup.
	  (Issue reported by Ian McAlees)

2014-08-08  ddegroot

	* [r5642] contrib/llvm-scan-build: Update: llvm-scan-build script
	  to include more checks

	* [r5641] src/sccp_actions.c, src/sccp_appfunctions.c,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_socket.c,
	  src/sccp_utils.c: Fix: invalid use of sizeof refering to a
	  pointer instead of the actual size

	* [r5640] src/pbx_impl/ast/ast.c: Fix: senddigit->senddigits
	  leading to out of bounds access

	* [r5639] src/chan_sccp.h, src/sccp_cli.c: Fix: invalid use of
	  sizeof refering to a pointer instead of the actual size

	* [r5638] src/pbx_impl/ast/ast.c: Fix: senddigit->senddigits
	  leading to out of bounds access

	* [r5637] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_utils.c: Fix: memcpy out of bounds

	* [r5636] contrib/convert_runningconf_to_sql.sh[DEL],
	  contrib/gen_sccpconf/Makefile.in: Removal of
	  convert_runningconf_to_sql.sh

	* [r5635] src/sccp_actions.c, src/sccp_hint.c: Fix:
	  channelstate/callstate mixup

	* [r5634] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_channel.c, src/sccp_channel.h, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_indicate.h: Enhancement: Introduction of Groupable
	  ChannelStates (RB: 60)

2014-08-07  ddegroot

	* [r5633] src/sccp_devstate.c: Fix: Should use the retained version
	  of device, when walking throught he table, to prevent null
	  pointer dereference

	* [r5632] src/sccp_conference.c: Fix: Prevent potential
	  null-pointer dereferences

	* [r5631] src/sccp_hint.c: Fix: Should use the retained version of
	  device, when walking throught he table, to prevent null pointer
	  dereference

	* [r5630] src/sccp_actions.c: Fix: Existence of device is not
	  quaranteed at this moment

	* [r5629] src/sccp_line.c: Fix: Prevent dereference of NULL Pointer
	  when reading SCCP_LIST_GETSIZE

	* [r5628] src/config.h.in, src/sccp_actions.c, src/sccp_cli.c,
	  src/sccp_device.c, src/sccp_indicate.c: Fix: Dial Prompt /
	  Overlap Dialing Issue (Reported/Tested by Dan Huynh (normal
	  mode), Patched/Tested by Pavel Troller (immediate mode))

2014-08-06  ddegroot

	* [r5627] contrib/convert_runningconf_to_sql.sh[ADD]: Enhancement:
	  Created simple bash script to parse a running config to sql
	  output (Might need heavy modification by the user depending on
	  table format)

2014-08-05  ddegroot

	* [r5626] INSTALL, Makefile.in, aclocal.m4, autoconf/acinclude.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, configure,
	  doc/Makefile.in, src/Makefile.in: Enhancement: Overwrite
	  pkg-config asterisk.pc settings when using --with-asterisk in
	  configure.

2014-08-04  ddegroot

	* [r5625] src/sccp_features.c: Prevention: Preventative fix for
	  memory leak when using getPickupExtension, in remarked out code.

	* [r5624] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Fix: gpickup via pickup extension (ie:
	  *8). (Reported by Ian)

2014-07-31  ddegroot

	* [r5623] src/sccp_actions.c: Enhancement: Added debug output when
	  redial is called without a lastnumber stored

	* [r5622] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Backport: no codecs when receiving
	  update_rtp_peer lead to segfault. (Reported and Tested by
	  Vladimir Karpov).

2014-07-30  ddegroot

	* [r5621] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Fix: update_rtp_peer called with 0 codecs when using >
	  asterisk-12. (Reported by Vladimir Karpov)

	* [r5620] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: debug message about hangup_cause
	  being set

	* [r5619] conf/sccp.conf.annotated, src/sccp_config_entries.hh:
	  Fix: Updated externip config comment. Regenerated
	  sccp.conf.annotated sample file.

	* [r5618] src/sccp_device.c: Fix: Add pushbackground to 796N
	  phones. (Reported by John Brithner)

	* [r5617] src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_socket.c: Fix: setting default externip to 0.0.0.0, to
	  make the ipaddress parser happy. Reenabled showing externip in
	  cli:'sccp show globals'. Use anyaddress check in
	  sccp_socket_getExternalAddr() to see if default value has been
	  replaced by an actual address. (Re-Reported by Pavel)

	* [r5616] src/sccp_channel.c, src/sccp_config_entries.hh,
	  src/sccp_socket.c: Fix: if externip is not set fallback to
	  ipaddress of incoming interface. Remove deprecation from externip
	  parameter. This will restore previous behaviour but still provide
	  NAT behaviour needed for PBX on sepeperate host behind natted
	  firewall. (Reported by Dan / Pavel / Ian)

2014-07-28  ddegroot

	* [r5615] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Enhancement: add asterisk indication
	  translations

	* [r5614] src/sccp_config_entries.hh: Fix: Changed localnet default
	  to 'internal'

	* [r5613] src/sccp_device.c: Fix: compile failure (related to 69XX
	  commit)

	* [r5612] src/sccp_actions.c: Enhancement: Fix SoftKeySetRes
	  message, filling the SoftKeyInfoIndex correctly

	* [r5611] src/sccp_protocol.h: Fix: sync default offhookfeat
	  keymode with offhook keymode settings

	* [r5610] src/sccp_device.c, src/sccp_features.c: Support
	  transfer/callforward on 69XX phones, by using different keymodes.
	  Reported by Antonio

2014-07-27  ddegroot

	* [r5609] src/pbx_impl/ast/ast111.c, src/sccp_actions.c: Fix:
	  sccp_handle_keypadbutton when in CHANNELSTATE_DIALING or when
	  pbx_run is running we should to force overlap dialing from that
	  moment on. (Reported by Dan / Checked/Tested by Pavel).

2014-07-25  ddegroot

	* [r5608] conf/sccp.conf.annotated, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_config_entries.hh: Enhancement: Transfer_on_hangup has
	  been changed to only be activated by onhook event. The endcall
	  softkey will cancel the transfer and revert to the original
	  caller. (Requested by Antonio)

2014-07-24  ddegroot

	* [r5607] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c,
	  src/sccp_socket.c, src/sccp_socket.h: Fix: NAT issue after IPv6
	  implementation, Fixes long standing nat issue since revision 5063
	  (Reported by Dan Huynh).

	* [r5606] src/sccp_device.c, src/sccp_protocol.h: Fix:
	  KEYMODE_OFFHOOKFEAT when KEYMODE_OFFHOOK is requested during
	  Transfer on protocolversion 22 phones (Which should include
	  69XX). Not sure if this should be specific for 69XX phones or if
	  protoversion 22 phones in general need this keymode. (Reported by
	  Antonio).

2014-07-22  ddegroot

	* [r5605] src/sccp_threadpool.c: Fix thread_t pointer (debug
	  information) for x86 by forcing to void pointer (generic)

	* [r5604] conf/sccp.conf: Fix: sccp.conf example by removing some
	  of the deprecated / obsolete values

	* [r5603] src/sccp_threadpool.c: Fix: make compatible with system
	  where pthread_t is a pointer which cannot be downgraded to
	  unsigned int.

2014-07-19  ddegroot

	* [r5602] src/sccp_protocol.c, src/sccp_protocol.h: Enhancement:
	  OpenReceiveChannel V3 message, to include remote source
	  ip-address and port

2014-07-16  ddegroot

	* [r5601] src/sccp_actions.c, src/sccp_protocol.c: Fix: enbloc
	  dialing on 7936 using protocolversion 4 (Cleaning out
	  lineInstance correctly) (Reported by Ivan Isenko).

	* [r5600] src/sccp_protocol.c: Added Enbloc dialing to SPCP
	  protocol (Reported by Ivan Isenko).

2014-07-11  ddegroot

	* [r5599] src/sccp_device.c: Fix: allow display prompt message on
	  6921

2014-07-10  ddegroot

	* [r5598] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_device.h, src/sccp_protocol.c,
	  src/sccp_protocol.h: Fix: int/int8_t used for callid should have
	  been uint32_t

	* [r5597] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_labels.h: Debug: Added debug output to the channel find
	  functions (To research the issue reported by Antonio). Added two
	  more custom (multilanguage) label to print error output when
	  channel cannot be found.

2014-07-09  ddegroot

	* [r5596] src/sccp_device.c: Enhancement: Added
	  SKINNY_BUTTONTYPE_VOICEMAIL for SPA509G

	* [r5595] src/sccp_hint.c: Enhancement: renamed
	  sccp_hint_updateLineState function names

	* [r5594] src/sccp_channel.c: Fix: Prevent debug loggin about
	  ending callforward, if non exist

2014-07-08  ddegroot

	* [r5593] src/sccp_actions.c: Fix: Handle line selection using
	  instance and callid if available. Check if the channels active
	  device is the one we are currently using, to prevent putting on
	  hold a channel we do not own (shared line).

	* [r5592] src/sccp_channel.c: Cleanup: Prevent debug loggin about
	  ending callforward, if non exist

	* [r5591] src/sccp_indicate.c: Update keyset on CONNECTED and HOLD
	  as the last action (to prevent intermixing hold and resume)

	* [r5590] src/sccp_hint.c: Enhancement: For hint + non shared line
	  get the last channel, instead of the first. The last one is most
	  likely the most recent

	* [r5589] src/sccp_channel.c, src/sccp_dllists.h: Fix:
	  selectedchannel should not use retain/release (Reported by
	  Antonio)

	* [r5588] src/sccp_indicate.c: Enhancement: use device connected
	  for CONNECTED CONFERENCE indication

	* [r5587] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Enhancement: Allow older devices to use
	  enbloc dialing (for example 7936)

2014-07-07  ddegroot

	* [r5586] src/sccp_actions.c, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_indicate.c, src/sccp_softkeys.c: Reversion: revision
	  5526 partially (Reported by Antonio/Sharan on 2014-07-01).

	* [r5585] src/sccp_device.c, src/sccp_protocol_enums.hh:
	  Enhancement: Added support for SPA509G (Skinny Type reported by
	  Riten Jaiswal)

2014-07-05  ddegroot

	* [r5584] src/sccp_config.c: Fix: Deprecated output from
	  sccpconfigmetadata

	* [r5583] src/sccp_config_entries.hh: Setting default value for
	  lampmode to 'on' instead of 'yes'

	* [r5582] src/sccp_config.c: Enhancement: output parsername in
	  sccpconfigmetadata

	* [r5581] src/sccp_management.c: Fix: removal of AMI
	  command:SCCPListLines during module unload

	* [r5580] src/sccp_cli.c, src/sccp_management.c: Fix: ami
	  descriptions. removal of SCCPAnswerCall1

	* [r5579] src/sccp_config.c, src/sccp_config_entries.hh:
	  Enhancement: Removed default values from config description
	  string, automatically added when generating config/configmetadata
	  based on the default value column.

2014-07-04  ddegroot

	* [r5578] src/sccp_config.c: Fix json option->description output

	* [r5577] src/sccp_config.c: Fix json option->description output

	* [r5576] src/sccp_config.c, src/sccp_config_entries.hh,
	  src/sccp_management.c: Have SCCPConfigMetaData generate json data
	  instead of ami-results, json will be easier to parse in other
	  languages like javascript.

	* [r5575] conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp.conf.freepbx, conf/sccp_extensions.conf.freepbx,
	  conf/sccp_hardware.conf.freepbx, conf/sccp_templated.conf:
	  Updated config samples to reflect dnd/dndFeature changes

	* [r5574] src/chan_sccp.c, src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_config_entries.hh: Bug Fix: line->dndmode should not
	  default to global->dnd (Reported by Pavel). Enhancement: renamed
	  global dnd to dndFeature to clarify use as boolean.

	* [r5573] src/sccp_cli.c, src/sccp_config_entries.hh: Enhancement:
	  global dnd config option is deprecated in favor of global
	  dndFeature option (boolean: on/off). (Reported by Pavel).

	* [r5572] src/chan_sccp.c, src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_config.c, src/sccp_config_entries.hh: Fix: global dnd
	  config option has been set to be boolean:'on'\/'off' (Reported by
	  Pavel).\nEnhancement: Added configoption->description output when
	  running into a faulty configOption->value in the sccp.conf, to
	  help the user.\nFix: Force reload on change of line->mailbox, so
	  that context changes are picked up (Reported by Tammy)

2014-07-03  ddegroot

	* [r5571] src/sccp_config.c, src/sccp_enum_macro.h:
	  enum_all_entries is now being seperated using '|' instead of
	  space.

	* [r5570] src/sccp_config_entries.hh: Enhancement: dnd='on' has
	  been made obsolete in favor of 'reject'. Warning when loading
	  config file is being generated.

	* [r5569] src/sccp_config.c, src/sccp_config.h,
	  src/sccp_config_entries.hh, src/sccp_device.c: Enhancement/Code
	  Reduction: Removed sccp_config_parse_dnd in favour of generic
	  enum parser. Also adapted database reload for dndmode in
	  sccp_device.

	* [r5568] src/chan_sccp.c, src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_config.c, src/sccp_config_entries.hh, src/sccp_line.c,
	  src/sccp_protocol.h, src/sccp_protocol_enums.hh: Enhancement:
	  Removed some of the dedicated config_parsers in favor of the
	  generic enum parser

	* [r5567] src/sccp_actions.c: Reject registration events while
	  reloading config (We should actually be using a reload_lock for
	  this).

	* [r5566] src/sccp_actions.c, src/sccp_socket.c: Don't accept new
	  connection or process register events when reloading config.

	* [r5565] Makefile.in, autoconf/acinclude.m4, autoconf/extra.m4,
	  configure, configure.ac, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.in, src/config.h.in: Added
	  varlibdir and astmoddir to configure.ac output and config.h (for
	  later use). Updated CPPFlags.

	* [r5564] src/sccp_channel.c: When using transfer_on_hangup, check
	  if the channel is in the right state, before trying transfer
	  (i.e. not Congestion / Busy / Invalid)

	* [r5563] Makefile.in, autoconf/acinclude.m4, autoconf/extra.m4,
	  configure, configure.ac, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.in: Added pkg-config parsing to
	  configure.ac, to find asterisk and it\'s configuration settings

2014-07-02  ddegroot

	* [r5562] src/sccp_pbx.c: Reindented sccp_pbx.c

	* [r5561] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Remove
	  AST_RTP_PROPERTY_DTMF_COMPENSATE when running in RFC2833 mode,
	  Allowing non fixed length DTMF tones (Checked/Tested by Pavel).

	* [r5560] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Remove
	  AST_RTP_PROPERTY_DTMF_COMPENSATE when running in RFC2833 mode,
	  Allowing non fixed length DTMF tones (Checked/Tested by Pavel).

	* [r5559] src/pbx_impl/ast/ast.c: Fix Compile Bug: compile warning
	  when compiling against asterisk-1.6 (Reported by Hhornung bug
	  #235)

	* [r5558] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_features.c, src/sccp_pbx.c: Fix dtmf
	  when running in earlyrtp immediate mode. Fixes: offhook dialing
	  using dtmf overlap, including redial, enbloc, manual entry.
	  (Tested by Pavel)

	* [r5557] src/pbx_impl/ast/ast.c: requestHangup should force
	  channel state ONHOOK when called when remote side has already
	  initiate a hangup

	* [r5556] src/sccp_pbx.c, src/sccp_softkeys.c: Check hangup status
	  to cancel softswitch when channel is already being hungup, set
	  sccp device to onhook

	* [r5555] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Check channel->scheduler.deny before
	  adding new scheduled task

	* [r5554] src/chan_sccp.h, src/sccp_channel.c, src/sccp_channel.h:
	  Added sccp_channel_stop_and_deny_scheduled_tasks function, to be
	  called during hangup, to prevent any further scheduled tasks
	  after hangup has been initiated (also used during
	  channel_cleanup, to remove cancelled scheduled tasks)

	* [r5553] src/sccp_management.c: Fix compile warning

2014-07-01  ddegroot

	* [r5552] ChangeLog, src/pbx_impl/ast/ast.c: Fix compiling against
	  asterisk-1.6

	* [r5551] ChangeLog, Makefile.am, Makefile.in: Update make release
	  to include revision in distributed tar.gz file

	* [r5550] src/sccp_device.c, src/sccp_device.h: Fix compile
	  warnings

	* [r5549] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Use
	  AUTO_RELEASE for sccp_wrapper_asterisk???_hangup

	* [r5548] src/sccp_pbx.c: Make sure the channel is being hangup
	  when softswitch has failed

	* [r5547] src/sccp_actions.c: Fixed new call on a shared line which
	  is already used by somebody else (Reported by Ian Pattison)

	* [r5546] src/sccp_protocol.c: Revert dtmftype to setting 10

	* [r5545] src/sccp_channel.c: Added AMI manager event during Call
	  Answer (Requested by Jim Dossey)

	* [r5544] conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql,
	  conf/database_updates/update_postgresql.sql, src/chan_sccp.h,
	  src/chan_sccp_enums.hh, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_config_entries.hh, src/sccp_device.c,
	  src/sccp_protocol.c: Added force_dtmfmode for people running
	  earlyrtp=immediate and being faced with misbehaving phones (some
	  7960) during redial and/or onhook dialing, whereby DTMF frames
	  come in in the wrong order (Reported by Pavel). Default setting
	  for force_dtmfmode remains AUTO and should only be changed when
	  absolutely necessary (i.e. Experienced users)..

	* [r5543] src/pbx_impl/ast/ast.c: Early fix to requestHangup issue
	  reported by Pavel / Niklas, actual fix is still being worked on.

2014-06-29  ddegroot

	* [r5542] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_protocol.c: Possible fix for
	  7960 DTMF issue (Reported by Pavel)

	* [r5538] ChangeLog, tools/autorevision: Fix autorevision for git
	  repositories

2014-06-28  ddegroot

	* [r5537] src/sccp_indicate.c, src/sccp_labels.h: Replaced string
	  based SKINNY_DISP_URGENT by embedded SKINNY_DISP_FLASH for urgent
	  calls

	* [r5536] src/sccp_cli.c, src/sccp_device.c, src/sccp_labels.h:
	  Added new labels for use in displayprompt

2014-06-27  ddegroot

	* [r5535] src/sccp_protocol.h: Fix _ARR2STR Lookup issue reported
	  by Pavel

	* [r5534] src/sccp_device.c, src/sccp_indicate.c,
	  src/sccp_labels.h: Replaced 2 more SKINNY_DISP labels

	* [r5533] src/sccp_protocol.c, src/sccp_protocol.h: Returned back
	  to using the value 101 instead of 0x101 for rfc2833 for now

	* [r5532] ChangeLog, autoconf/extra.m4, configure: Removed
	  '(experimental)' tag from conference and devstate configuration
	  flags. Next step enabling them by default (;-) (Reported by Jim
	  Dossey)

	* [r5531] src/chan_sccp.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_features.c, src/sccp_indicate.c,
	  src/sccp_labels.h, src/sccp_pbx.c, src/sccp_softkeys.c: Moved all
	  the text based displayprompt messages to sccp_labels.h, making
	  localization a little easier

	* [r5530] ChangeLog, Makefile.in, doc/30_Setup_Guide.doc,
	  doc/35_How_To.doc, doc/doxygen.cfg, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_device.c, src/sccp_features.c,
	  src/sccp_line.c, src/sccp_mwi.c, src/sccp_pbx.c,
	  src/sccp_socket.c, src/sccp_softkeys.c, src/sccp_utils.c: Fix
	  doxygen documentation

	* [r5529] ChangeLog, conf/mysql-v4.sql, conf/mysql-v5.sql,
	  conf/postgres.sql, conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp_hardware.conf.freepbx, conf/sccp_templated.conf,
	  conf/sqlite.sql, conf/sqlite3.sql, doc/30_Setup_Guide.doc,
	  doc/50_Frequently_Asked_Questions.doc: Removed dtmfmode from
	  conf/doc examples

	* [r5528] .version, ChangeLog, Makefile.am, Makefile.in, NEWS,
	  debian/changelog: Preparing to release V4.2. Switching this
	  version to Release Candidate 1 status

	* [r5527] src/chan_sccp_enums.hh, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_config.c,
	  src/sccp_config_entries.hh, src/sccp_protocol.c,
	  src/sccp_protocol.h: Replacement for dtmf handling (ALways using
	  rfc2833, old devices don't support rfc2833 so we simulate it by
	  inserting dtmf frames into the stream).

2014-06-26  ddegroot

	* [r5526] src/sccp_actions.c, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_indicate.c, src/sccp_softkeys.c: Added digittimout to
	  all displayprompt calls when used for indications

	* [r5525] src/sccp_protocol.h: Added DTMF Codecs

	* [r5524] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h: Fix AMI
	  Event Completion (AMI_COMMAND ' Complete') (Patch provided by Jim
	  Dosey)

	* [r5523] src/sccp_features.c: Use prefined skinny labels for some
	  of the conference display messages

	* [r5519] src/sccp_device.c: Extend debug to include line and
	  callid when starting and stoping tone

2014-06-24  ddegroot

	* [r5518] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h: Replace
	  _DESCR with AMI_COMMAND to signal AMI event completion (Patch by
	  Jim Dossey)

	* [r5517] src/sccp_utils.c: Prevent compile warning about array
	  subscript (Reported by Jim Dossey)

	* [r5516] src/sccp_cli.c: Fix cli:'sccp message device(s)' command
	  (Reported/Patched by Jim Dossey)

	* [r5515] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c: Fix
	  parsing of ALERT_INFO (reported in #232)

	* [r5514] src/sccp_cli.c, src/sccp_utils.c: Fix dec2binstr (Used by
	  cli:device_feature)

	* [r5513] src/pbx_impl/ast/ast.c: Replaced dummyHangup with
	  carefull implementation (Tested by Alena Juk)

	* [r5512] src/sccp_management.c: Deprecated SCCPAnswerCall in favor
	  of the sccp_cli version

	* [r5511] src/sccp_protocol.c: Revert dtmfmode changes, back to
	  forcing rfc2833 by default

	* [r5510] src/sccp_protocol_enums.hh: Fix 7910 presentation

	* [r5509] src/sccp_cli.c, src/sccp_utils.c, src/sccp_utils.h: Fix
	  dec2binstr (Used by cli:device_feature)

2014-06-23  ddegroot

	* [r5508] src/sccp_cli.c, src/sccp_utils.c, src/sccp_utils.h: Added
	  device feature binary display to 'sccp show device ...'

	* [r5507] src/sccp_pbx.c: Fix AMI ChannelEvent callid output (Bug
	  Report: 230)

	* [r5506] src/sccp_config.c, src/sccp_pbx.c: Fix EarlyRTP config
	  parser. Suppress changing callstate to proceed during softswitch
	  (Testying negative fallout). (Patch send in by Pavel Troller).

2014-06-22  ddegroot

	* [r5505] src/sccp_config_entries.hh: Fix dtmfmode default value
	  (Reported by Steven Haigh)

	* [r5504] src/sccp_features.c: Fix for compile issue, when running
	  without conference

	* [r5503] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h,
	  src/sccp_cli.c: Fixing AMI output by sccp_cli (Reported by Jim
	  Dossey)

	* [r5502] ChangeLog, conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql,
	  conf/database_updates/update_postgresql.sql[ADD],
	  conf/mysql-v4.sql, conf/mysql-v5.sql, conf/postgres.sql,
	  conf/sccp.conf.annotated, conf/sqlite.sql,
	  doc/50_Frequently_Asked_Questions.doc, src/chan_sccp.c,
	  src/chan_sccp.h, src/chan_sccp_enums.hh, src/sccp_actions.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_config.c, src/sccp_config_entries.hh,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_softkeys.c:
	  Replaced sccp_channelstate_t with sccp_earlyrtp_t for use by
	  earlyrtp. Introduced new earlyrtp state, called 'immediate',
	  which will force overlap dialing immediately when picking up the
	  receiver. For use by experienced asterisk users only (requires
	  special dialplan precautions) (Patch created in coorporation with
	  Pavel Troller).

2014-06-10  ddegroot

	* [r5501] src/sccp_actions.c, src/sccp_features.c,
	  src/sccp_management.c, src/sccp_softkeys.c: Fix refcount issue
	  releated to sccp_channel_newcall and AUTO_RELEASE implementation.
	  (Reported by Pavel)

	* [r5500] src/sccp_actions.c: Fix sccp_handle_keypad_button
	  (Reported by Pavel)

