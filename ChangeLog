2014-08-10  ddegroot

	* [r5650] src/sccp_config.c: Fix: also deal with the bad config
	  example 'button = line, empty', that was accidentally
	  distributed.

	* [r5649] ChangeLog, conf/sccp.conf,
	  conf/sccp_hardware.conf.freepbx: Doc: Fix empty button examples

	* [r5648] src/sccp_socket.c: Debug: Reduce debug level of session
	  without a device attached output.

	* [r5647] src/sccp_config.c: Fix: Handle buttons with a type but
	  without any options as an empty button (Reworked). (Issue
	  reported by Dave Burgess)

	* [r5646] src/sccp_config.c: Fix: Revert revision 5644. (Issue
	  reported by Pavel)

2014-08-09  ddegroot

	* [r5645] src/sccp_channel.c: Fix: Check
	  d->lineButtons.instance[instance] before dereferencing any of
	  it's components. (Issue reported by Dave Burgess)

	* [r5644] src/sccp_config.c: Fix: Handle buttons with a type but
	  without any options as an empty button. (Issue reported by Dave
	  Burgess)

	* [r5643] src/chan_sccp.c, src/sccp_actions.c, src/sccp_socket.c,
	  src/sccp_socket.h: Enhancement: concentrate crossover session
	  handling in one function, Fix: crossover session device cleanup.
	  (Issue reported by Ian McAlees)

2014-08-08  ddegroot

	* [r5642] contrib/llvm-scan-build: Update: llvm-scan-build script
	  to include more checks

	* [r5641] src/sccp_actions.c, src/sccp_appfunctions.c,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_socket.c,
	  src/sccp_utils.c: Fix: invalid use of sizeof refering to a
	  pointer instead of the actual size

	* [r5640] src/pbx_impl/ast/ast.c: Fix: senddigit->senddigits
	  leading to out of bounds access

	* [r5639] src/chan_sccp.h, src/sccp_cli.c: Fix: invalid use of
	  sizeof refering to a pointer instead of the actual size

	* [r5638] src/pbx_impl/ast/ast.c: Fix: senddigit->senddigits
	  leading to out of bounds access

	* [r5637] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_utils.c: Fix: memcpy out of bounds

	* [r5636] contrib/convert_runningconf_to_sql.sh[DEL],
	  contrib/gen_sccpconf/Makefile.in: Removal of
	  convert_runningconf_to_sql.sh

	* [r5635] src/sccp_actions.c, src/sccp_hint.c: Fix:
	  channelstate/callstate mixup

	* [r5634] src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_channel.c, src/sccp_channel.h, src/sccp_device.c,
	  src/sccp_device.h, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_indicate.h: Enhancement: Introduction of Groupable
	  ChannelStates (RB: 60)

2014-08-07  ddegroot

	* [r5633] src/sccp_devstate.c: Fix: Should use the retained version
	  of device, when walking throught he table, to prevent null
	  pointer dereference

	* [r5632] src/sccp_conference.c: Fix: Prevent potential
	  null-pointer dereferences

	* [r5631] src/sccp_hint.c: Fix: Should use the retained version of
	  device, when walking throught he table, to prevent null pointer
	  dereference

	* [r5630] src/sccp_actions.c: Fix: Existence of device is not
	  quaranteed at this moment

	* [r5629] src/sccp_line.c: Fix: Prevent dereference of NULL Pointer
	  when reading SCCP_LIST_GETSIZE

	* [r5628] src/config.h.in, src/sccp_actions.c, src/sccp_cli.c,
	  src/sccp_device.c, src/sccp_indicate.c: Fix: Dial Prompt /
	  Overlap Dialing Issue (Reported/Tested by Dan Huynh (normal
	  mode), Patched/Tested by Pavel Troller (immediate mode))

2014-08-06  ddegroot

	* [r5627] contrib/convert_runningconf_to_sql.sh[ADD]: Enhancement:
	  Created simple bash script to parse a running config to sql
	  output (Might need heavy modification by the user depending on
	  table format)

2014-08-05  ddegroot

	* [r5626] INSTALL, Makefile.in, aclocal.m4, autoconf/acinclude.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/depcomp,
	  autoconf/install-sh, autoconf/missing, configure,
	  doc/Makefile.in, src/Makefile.in: Enhancement: Overwrite
	  pkg-config asterisk.pc settings when using --with-asterisk in
	  configure.

2014-08-04  ddegroot

	* [r5625] src/sccp_features.c: Prevention: Preventative fix for
	  memory leak when using getPickupExtension, in remarked out code.

	* [r5624] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Fix: gpickup via pickup extension (ie:
	  *8). (Reported by Ian)

2014-07-31  ddegroot

	* [r5623] src/sccp_actions.c: Enhancement: Added debug output when
	  redial is called without a lastnumber stored

	* [r5622] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Backport: no codecs when receiving
	  update_rtp_peer lead to segfault. (Reported and Tested by
	  Vladimir Karpov).

2014-07-30  ddegroot

	* [r5621] src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c:
	  Fix: update_rtp_peer called with 0 codecs when using >
	  asterisk-12. (Reported by Vladimir Karpov)

	* [r5620] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix: debug message about hangup_cause
	  being set

	* [r5619] conf/sccp.conf.annotated, src/sccp_config_entries.hh:
	  Fix: Updated externip config comment. Regenerated
	  sccp.conf.annotated sample file.

	* [r5618] src/sccp_device.c: Fix: Add pushbackground to 796N
	  phones. (Reported by John Brithner)

	* [r5617] src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_socket.c: Fix: setting default externip to 0.0.0.0, to
	  make the ipaddress parser happy. Reenabled showing externip in
	  cli:'sccp show globals'. Use anyaddress check in
	  sccp_socket_getExternalAddr() to see if default value has been
	  replaced by an actual address. (Re-Reported by Pavel)

	* [r5616] src/sccp_channel.c, src/sccp_config_entries.hh,
	  src/sccp_socket.c: Fix: if externip is not set fallback to
	  ipaddress of incoming interface. Remove deprecation from externip
	  parameter. This will restore previous behaviour but still provide
	  NAT behaviour needed for PBX on sepeperate host behind natted
	  firewall. (Reported by Dan / Pavel / Ian)

2014-07-28  ddegroot

	* [r5615] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Enhancement: add asterisk indication
	  translations

	* [r5614] src/sccp_config_entries.hh: Fix: Changed localnet default
	  to 'internal'

	* [r5613] src/sccp_device.c: Fix: compile failure (related to 69XX
	  commit)

	* [r5612] src/sccp_actions.c: Enhancement: Fix SoftKeySetRes
	  message, filling the SoftKeyInfoIndex correctly

	* [r5611] src/sccp_protocol.h: Fix: sync default offhookfeat
	  keymode with offhook keymode settings

	* [r5610] src/sccp_device.c, src/sccp_features.c: Support
	  transfer/callforward on 69XX phones, by using different keymodes.
	  Reported by Antonio

2014-07-27  ddegroot

	* [r5609] src/pbx_impl/ast/ast111.c, src/sccp_actions.c: Fix:
	  sccp_handle_keypadbutton when in CHANNELSTATE_DIALING or when
	  pbx_run is running we should to force overlap dialing from that
	  moment on. (Reported by Dan / Checked/Tested by Pavel).

2014-07-25  ddegroot

	* [r5608] conf/sccp.conf.annotated, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_config_entries.hh: Enhancement: Transfer_on_hangup has
	  been changed to only be activated by onhook event. The endcall
	  softkey will cancel the transfer and revert to the original
	  caller. (Requested by Antonio)

2014-07-24  ddegroot

	* [r5607] src/sccp_actions.c, src/sccp_channel.c, src/sccp_rtp.c,
	  src/sccp_socket.c, src/sccp_socket.h: Fix: NAT issue after IPv6
	  implementation, Fixes long standing nat issue since revision 5063
	  (Reported by Dan Huynh).

	* [r5606] src/sccp_device.c, src/sccp_protocol.h: Fix:
	  KEYMODE_OFFHOOKFEAT when KEYMODE_OFFHOOK is requested during
	  Transfer on protocolversion 22 phones (Which should include
	  69XX). Not sure if this should be specific for 69XX phones or if
	  protoversion 22 phones in general need this keymode. (Reported by
	  Antonio).

2014-07-22  ddegroot

	* [r5605] src/sccp_threadpool.c: Fix thread_t pointer (debug
	  information) for x86 by forcing to void pointer (generic)

	* [r5604] conf/sccp.conf: Fix: sccp.conf example by removing some
	  of the deprecated / obsolete values

	* [r5603] src/sccp_threadpool.c: Fix: make compatible with system
	  where pthread_t is a pointer which cannot be downgraded to
	  unsigned int.

2014-07-19  ddegroot

	* [r5602] src/sccp_protocol.c, src/sccp_protocol.h: Enhancement:
	  OpenReceiveChannel V3 message, to include remote source
	  ip-address and port

2014-07-16  ddegroot

	* [r5601] src/sccp_actions.c, src/sccp_protocol.c: Fix: enbloc
	  dialing on 7936 using protocolversion 4 (Cleaning out
	  lineInstance correctly) (Reported by Ivan Isenko).

	* [r5600] src/sccp_protocol.c: Added Enbloc dialing to SPCP
	  protocol (Reported by Ivan Isenko).

2014-07-11  ddegroot

	* [r5599] src/sccp_device.c: Fix: allow display prompt message on
	  6921

2014-07-10  ddegroot

	* [r5598] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_device.h, src/sccp_protocol.c,
	  src/sccp_protocol.h: Fix: int/int8_t used for callid should have
	  been uint32_t

	* [r5597] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_labels.h: Debug: Added debug output to the channel find
	  functions (To research the issue reported by Antonio). Added two
	  more custom (multilanguage) label to print error output when
	  channel cannot be found.

2014-07-09  ddegroot

	* [r5596] src/sccp_device.c: Enhancement: Added
	  SKINNY_BUTTONTYPE_VOICEMAIL for SPA509G

	* [r5595] src/sccp_hint.c: Enhancement: renamed
	  sccp_hint_updateLineState function names

	* [r5594] src/sccp_channel.c: Fix: Prevent debug loggin about
	  ending callforward, if non exist

2014-07-08  ddegroot

	* [r5593] src/sccp_actions.c: Fix: Handle line selection using
	  instance and callid if available. Check if the channels active
	  device is the one we are currently using, to prevent putting on
	  hold a channel we do not own (shared line).

	* [r5592] src/sccp_channel.c: Cleanup: Prevent debug loggin about
	  ending callforward, if non exist

	* [r5591] src/sccp_indicate.c: Update keyset on CONNECTED and HOLD
	  as the last action (to prevent intermixing hold and resume)

	* [r5590] src/sccp_hint.c: Enhancement: For hint + non shared line
	  get the last channel, instead of the first. The last one is most
	  likely the most recent

	* [r5589] src/sccp_channel.c, src/sccp_dllists.h: Fix:
	  selectedchannel should not use retain/release (Reported by
	  Antonio)

	* [r5588] src/sccp_indicate.c: Enhancement: use device connected
	  for CONNECTED CONFERENCE indication

	* [r5587] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Enhancement: Allow older devices to use
	  enbloc dialing (for example 7936)

2014-07-07  ddegroot

	* [r5586] src/sccp_actions.c, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_indicate.c, src/sccp_softkeys.c: Reversion: revision
	  5526 partially (Reported by Antonio/Sharan on 2014-07-01).

	* [r5585] src/sccp_device.c, src/sccp_protocol_enums.hh:
	  Enhancement: Added support for SPA509G (Skinny Type reported by
	  Riten Jaiswal)

2014-07-05  ddegroot

	* [r5584] src/sccp_config.c: Fix: Deprecated output from
	  sccpconfigmetadata

	* [r5583] src/sccp_config_entries.hh: Setting default value for
	  lampmode to 'on' instead of 'yes'

	* [r5582] src/sccp_config.c: Enhancement: output parsername in
	  sccpconfigmetadata

	* [r5581] src/sccp_management.c: Fix: removal of AMI
	  command:SCCPListLines during module unload

	* [r5580] src/sccp_cli.c, src/sccp_management.c: Fix: ami
	  descriptions. removal of SCCPAnswerCall1

	* [r5579] src/sccp_config.c, src/sccp_config_entries.hh:
	  Enhancement: Removed default values from config description
	  string, automatically added when generating config/configmetadata
	  based on the default value column.

2014-07-04  ddegroot

	* [r5578] src/sccp_config.c: Fix json option->description output

	* [r5577] src/sccp_config.c: Fix json option->description output

	* [r5576] src/sccp_config.c, src/sccp_config_entries.hh,
	  src/sccp_management.c: Have SCCPConfigMetaData generate json data
	  instead of ami-results, json will be easier to parse in other
	  languages like javascript.

	* [r5575] conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp.conf.freepbx, conf/sccp_extensions.conf.freepbx,
	  conf/sccp_hardware.conf.freepbx, conf/sccp_templated.conf:
	  Updated config samples to reflect dnd/dndFeature changes

	* [r5574] src/chan_sccp.c, src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_config_entries.hh: Bug Fix: line->dndmode should not
	  default to global->dnd (Reported by Pavel). Enhancement: renamed
	  global dnd to dndFeature to clarify use as boolean.

	* [r5573] src/sccp_cli.c, src/sccp_config_entries.hh: Enhancement:
	  global dnd config option is deprecated in favor of global
	  dndFeature option (boolean: on/off). (Reported by Pavel).

	* [r5572] src/chan_sccp.c, src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_config.c, src/sccp_config_entries.hh: Fix: global dnd
	  config option has been set to be boolean:'on'\/'off' (Reported by
	  Pavel).\nEnhancement: Added configoption->description output when
	  running into a faulty configOption->value in the sccp.conf, to
	  help the user.\nFix: Force reload on change of line->mailbox, so
	  that context changes are picked up (Reported by Tammy)

2014-07-03  ddegroot

	* [r5571] src/sccp_config.c, src/sccp_enum_macro.h:
	  enum_all_entries is now being seperated using '|' instead of
	  space.

	* [r5570] src/sccp_config_entries.hh: Enhancement: dnd='on' has
	  been made obsolete in favor of 'reject'. Warning when loading
	  config file is being generated.

	* [r5569] src/sccp_config.c, src/sccp_config.h,
	  src/sccp_config_entries.hh, src/sccp_device.c: Enhancement/Code
	  Reduction: Removed sccp_config_parse_dnd in favour of generic
	  enum parser. Also adapted database reload for dndmode in
	  sccp_device.

	* [r5568] src/chan_sccp.c, src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/sccp_config.c, src/sccp_config_entries.hh, src/sccp_line.c,
	  src/sccp_protocol.h, src/sccp_protocol_enums.hh: Enhancement:
	  Removed some of the dedicated config_parsers in favor of the
	  generic enum parser

	* [r5567] src/sccp_actions.c: Reject registration events while
	  reloading config (We should actually be using a reload_lock for
	  this).

	* [r5566] src/sccp_actions.c, src/sccp_socket.c: Don't accept new
	  connection or process register events when reloading config.

	* [r5565] Makefile.in, autoconf/acinclude.m4, autoconf/extra.m4,
	  configure, configure.ac, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.in, src/config.h.in: Added
	  varlibdir and astmoddir to configure.ac output and config.h (for
	  later use). Updated CPPFlags.

	* [r5564] src/sccp_channel.c: When using transfer_on_hangup, check
	  if the channel is in the right state, before trying transfer
	  (i.e. not Congestion / Busy / Invalid)

	* [r5563] Makefile.in, autoconf/acinclude.m4, autoconf/extra.m4,
	  configure, configure.ac, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.in: Added pkg-config parsing to
	  configure.ac, to find asterisk and it\'s configuration settings

2014-07-02  ddegroot

	* [r5562] src/sccp_pbx.c: Reindented sccp_pbx.c

	* [r5561] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Remove
	  AST_RTP_PROPERTY_DTMF_COMPENSATE when running in RFC2833 mode,
	  Allowing non fixed length DTMF tones (Checked/Tested by Pavel).

	* [r5560] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Remove
	  AST_RTP_PROPERTY_DTMF_COMPENSATE when running in RFC2833 mode,
	  Allowing non fixed length DTMF tones (Checked/Tested by Pavel).

	* [r5559] src/pbx_impl/ast/ast.c: Fix Compile Bug: compile warning
	  when compiling against asterisk-1.6 (Reported by Hhornung bug
	  #235)

	* [r5558] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_features.c, src/sccp_pbx.c: Fix dtmf
	  when running in earlyrtp immediate mode. Fixes: offhook dialing
	  using dtmf overlap, including redial, enbloc, manual entry.
	  (Tested by Pavel)

	* [r5557] src/pbx_impl/ast/ast.c: requestHangup should force
	  channel state ONHOOK when called when remote side has already
	  initiate a hangup

	* [r5556] src/sccp_pbx.c, src/sccp_softkeys.c: Check hangup status
	  to cancel softswitch when channel is already being hungup, set
	  sccp device to onhook

	* [r5555] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Check channel->scheduler.deny before
	  adding new scheduled task

	* [r5554] src/chan_sccp.h, src/sccp_channel.c, src/sccp_channel.h:
	  Added sccp_channel_stop_and_deny_scheduled_tasks function, to be
	  called during hangup, to prevent any further scheduled tasks
	  after hangup has been initiated (also used during
	  channel_cleanup, to remove cancelled scheduled tasks)

	* [r5553] src/sccp_management.c: Fix compile warning

2014-07-01  ddegroot

	* [r5552] ChangeLog, src/pbx_impl/ast/ast.c: Fix compiling against
	  asterisk-1.6

	* [r5551] ChangeLog, Makefile.am, Makefile.in: Update make release
	  to include revision in distributed tar.gz file

	* [r5550] src/sccp_device.c, src/sccp_device.h: Fix compile
	  warnings

	* [r5549] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c: Use
	  AUTO_RELEASE for sccp_wrapper_asterisk???_hangup

	* [r5548] src/sccp_pbx.c: Make sure the channel is being hangup
	  when softswitch has failed

	* [r5547] src/sccp_actions.c: Fixed new call on a shared line which
	  is already used by somebody else (Reported by Ian Pattison)

	* [r5546] src/sccp_protocol.c: Revert dtmftype to setting 10

	* [r5545] src/sccp_channel.c: Added AMI manager event during Call
	  Answer (Requested by Jim Dossey)

	* [r5544] conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql,
	  conf/database_updates/update_postgresql.sql, src/chan_sccp.h,
	  src/chan_sccp_enums.hh, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_actions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_config_entries.hh, src/sccp_device.c,
	  src/sccp_protocol.c: Added force_dtmfmode for people running
	  earlyrtp=immediate and being faced with misbehaving phones (some
	  7960) during redial and/or onhook dialing, whereby DTMF frames
	  come in in the wrong order (Reported by Pavel). Default setting
	  for force_dtmfmode remains AUTO and should only be changed when
	  absolutely necessary (i.e. Experienced users)..

	* [r5543] src/pbx_impl/ast/ast.c: Early fix to requestHangup issue
	  reported by Pavel / Niklas, actual fix is still being worked on.

2014-06-29  ddegroot

	* [r5542] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_protocol.c: Possible fix for
	  7960 DTMF issue (Reported by Pavel)

	* [r5538] ChangeLog, tools/autorevision: Fix autorevision for git
	  repositories

2014-06-28  ddegroot

	* [r5537] src/sccp_indicate.c, src/sccp_labels.h: Replaced string
	  based SKINNY_DISP_URGENT by embedded SKINNY_DISP_FLASH for urgent
	  calls

	* [r5536] src/sccp_cli.c, src/sccp_device.c, src/sccp_labels.h:
	  Added new labels for use in displayprompt

2014-06-27  ddegroot

	* [r5535] src/sccp_protocol.h: Fix _ARR2STR Lookup issue reported
	  by Pavel

	* [r5534] src/sccp_device.c, src/sccp_indicate.c,
	  src/sccp_labels.h: Replaced 2 more SKINNY_DISP labels

	* [r5533] src/sccp_protocol.c, src/sccp_protocol.h: Returned back
	  to using the value 101 instead of 0x101 for rfc2833 for now

	* [r5532] ChangeLog, autoconf/extra.m4, configure: Removed
	  '(experimental)' tag from conference and devstate configuration
	  flags. Next step enabling them by default (;-) (Reported by Jim
	  Dossey)

	* [r5531] src/chan_sccp.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_device.c, src/sccp_features.c, src/sccp_indicate.c,
	  src/sccp_labels.h, src/sccp_pbx.c, src/sccp_softkeys.c: Moved all
	  the text based displayprompt messages to sccp_labels.h, making
	  localization a little easier

	* [r5530] ChangeLog, Makefile.in, doc/30_Setup_Guide.doc,
	  doc/35_How_To.doc, doc/doxygen.cfg, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_device.c, src/sccp_features.c,
	  src/sccp_line.c, src/sccp_mwi.c, src/sccp_pbx.c,
	  src/sccp_socket.c, src/sccp_softkeys.c, src/sccp_utils.c: Fix
	  doxygen documentation

	* [r5529] ChangeLog, conf/mysql-v4.sql, conf/mysql-v5.sql,
	  conf/postgres.sql, conf/sccp.conf, conf/sccp.conf.annotated,
	  conf/sccp_hardware.conf.freepbx, conf/sccp_templated.conf,
	  conf/sqlite.sql, conf/sqlite3.sql, doc/30_Setup_Guide.doc,
	  doc/50_Frequently_Asked_Questions.doc: Removed dtmfmode from
	  conf/doc examples

	* [r5528] .version, ChangeLog, Makefile.am, Makefile.in, NEWS,
	  debian/changelog: Preparing to release V4.2. Switching this
	  version to Release Candidate 1 status

	* [r5527] src/chan_sccp_enums.hh, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_config.c,
	  src/sccp_config_entries.hh, src/sccp_protocol.c,
	  src/sccp_protocol.h: Replacement for dtmf handling (ALways using
	  rfc2833, old devices don't support rfc2833 so we simulate it by
	  inserting dtmf frames into the stream).

2014-06-26  ddegroot

	* [r5526] src/sccp_actions.c, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_indicate.c, src/sccp_softkeys.c: Added digittimout to
	  all displayprompt calls when used for indications

	* [r5525] src/sccp_protocol.h: Added DTMF Codecs

	* [r5524] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h: Fix AMI
	  Event Completion (AMI_COMMAND ' Complete') (Patch provided by Jim
	  Dosey)

	* [r5523] src/sccp_features.c: Use prefined skinny labels for some
	  of the conference display messages

	* [r5519] src/sccp_device.c: Extend debug to include line and
	  callid when starting and stoping tone

2014-06-24  ddegroot

	* [r5518] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h: Replace
	  _DESCR with AMI_COMMAND to signal AMI event completion (Patch by
	  Jim Dossey)

	* [r5517] src/sccp_utils.c: Prevent compile warning about array
	  subscript (Reported by Jim Dossey)

	* [r5516] src/sccp_cli.c: Fix cli:'sccp message device(s)' command
	  (Reported/Patched by Jim Dossey)

	* [r5515] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c: Fix
	  parsing of ALERT_INFO (reported in #232)

	* [r5514] src/sccp_cli.c, src/sccp_utils.c: Fix dec2binstr (Used by
	  cli:device_feature)

	* [r5513] src/pbx_impl/ast/ast.c: Replaced dummyHangup with
	  carefull implementation (Tested by Alena Juk)

	* [r5512] src/sccp_management.c: Deprecated SCCPAnswerCall in favor
	  of the sccp_cli version

	* [r5511] src/sccp_protocol.c: Revert dtmfmode changes, back to
	  forcing rfc2833 by default

	* [r5510] src/sccp_protocol_enums.hh: Fix 7910 presentation

	* [r5509] src/sccp_cli.c, src/sccp_utils.c, src/sccp_utils.h: Fix
	  dec2binstr (Used by cli:device_feature)

2014-06-23  ddegroot

	* [r5508] src/sccp_cli.c, src/sccp_utils.c, src/sccp_utils.h: Added
	  device feature binary display to 'sccp show device ...'

	* [r5507] src/sccp_pbx.c: Fix AMI ChannelEvent callid output (Bug
	  Report: 230)

	* [r5506] src/sccp_config.c, src/sccp_pbx.c: Fix EarlyRTP config
	  parser. Suppress changing callstate to proceed during softswitch
	  (Testying negative fallout). (Patch send in by Pavel Troller).

2014-06-22  ddegroot

	* [r5505] src/sccp_config_entries.hh: Fix dtmfmode default value
	  (Reported by Steven Haigh)

	* [r5504] src/sccp_features.c: Fix for compile issue, when running
	  without conference

	* [r5503] src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.h,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.h,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast113.h,
	  src/sccp_cli.c: Fixing AMI output by sccp_cli (Reported by Jim
	  Dossey)

	* [r5502] ChangeLog, conf/database_updates/migrate_to_mysql-v5.sql,
	  conf/database_updates/update_mysql_v4.sql,
	  conf/database_updates/update_mysql_v5.sql,
	  conf/database_updates/update_postgresql.sql[ADD],
	  conf/mysql-v4.sql, conf/mysql-v5.sql, conf/postgres.sql,
	  conf/sccp.conf.annotated, conf/sqlite.sql,
	  doc/50_Frequently_Asked_Questions.doc, src/chan_sccp.c,
	  src/chan_sccp.h, src/chan_sccp_enums.hh, src/sccp_actions.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_config.c, src/sccp_config_entries.hh,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_softkeys.c:
	  Replaced sccp_channelstate_t with sccp_earlyrtp_t for use by
	  earlyrtp. Introduced new earlyrtp state, called 'immediate',
	  which will force overlap dialing immediately when picking up the
	  receiver. For use by experienced asterisk users only (requires
	  special dialplan precautions) (Patch created in coorporation with
	  Pavel Troller).

2014-06-10  ddegroot

	* [r5501] src/sccp_actions.c, src/sccp_features.c,
	  src/sccp_management.c, src/sccp_softkeys.c: Fix refcount issue
	  releated to sccp_channel_newcall and AUTO_RELEASE implementation.
	  (Reported by Pavel)

	* [r5500] src/sccp_actions.c: Fix sccp_handle_keypad_button
	  (Reported by Pavel)

	* [r5499] src/sccp_actions.c: Fix sccp_handle_keypad_button
	  (Reported by Pavel)

	* [r5498] src/sccp_hint.c: Removing hint skip on already registered
	  line

	* [r5497] src/sccp_socket.c: Initialize variables, to show cleaner
	  gdb output

	* [r5496] src/sccp_pbx.c: Check for existing device->session wenn
	  setting SCCP_DEVICE_IP

	* [r5495] src/sccp_actions.c: Get line and channel with a little
	  more care during keybutton handling

	* [r5494] src/sccp_socket.c: Used AUTO_RELEASE in sccp_socket.

	* [r5493] src/sccp_rtp.c: Used AUTO_RELEASE in sccp_rtp.

	* [r5492] src/sccp_pbx.c: Used AUTO_RELEASE in sccp_pbx.

	* [r5491] src/sccp_features.c: Fix compile error

2014-06-09  ddegroot

	* [r5490] src/sccp_mwi.c: Used AUTO_RELEASE in sccp_mwi.

	* [r5489] src/sccp_management.c: Used AUTO_RELEASE in
	  sccp_management.

	* [r5488] src/sccp_indicate.c: Used AUTO_RELEASE in sccp_hint.

	* [r5487] src/sccp_hint.c: Used AUTO_RELEASE in sccp_hint.

	* [r5486] src/sccp_actions.c: Show stimulusstatus in debug entry
	  when handling stimulus feature buttons

	* [r5485] src/sccp_devstate.c, src/sccp_featureButton.c,
	  src/sccp_features.c: Used AUTO_RELEASE in most sccp_devstate,
	  sccp_featureButton, sccp_features functions. Finding three (less
	  frequent) refcount issues along the way

	* [r5484] src/sccp_actions.c: Fix stimulus action (feature button
	  toggleState)

2014-06-08  ddegroot

	* [r5483] src/sccp_config.c, src/sccp_enum_macro.h: Output possible
	  enum values in sccp_manager_config_metadata

	* [r5482] src/sccp_conference.c: Use AUTO_RELEASE in
	  sccp_conference.c

2014-06-07  ddegroot

	* [r5481] src/sccp_appfunctions.c: Use AUTO_RELEASE in
	  sccp_appfunctions.c

	* [r5480] src/sccp_config.c, src/sccp_config_entries.hh,
	  src/sccp_enum_macro.h: Added 'char enummacro_all_entries[]' used
	  to display error message with possible values

	* [r5479] src/sccp_config.c, src/sccp_config_entries.hh: Used the
	  new TYPE_ENUM sccp_config_parser to parse dtmfmode using a
	  generic parsing instead of a dedicated one (reducing the
	  possibility of outdated parsers when sccp_config_entries or
	  _enum.hh files change).

	* [r5478] src/chan_sccp_enums.hh: Change str output from dtmfmode
	  enum

	* [r5477] src/sccp_enum_macro.h: Update error output to include all
	  possible values

	* [r5476] src/sccp_actions.c: Used AUTO_RELEASE in most sccp_action
	  functions. Finding two (less frequent) refcount issues along the
	  way

2014-06-06  ddegroot

	* [r5475] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_cli.c, src/sccp_features.c,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_pbx.c: Removed
	  sccp_indicate2str and skinny_callstate2str. Replaced
	  sccp_channel_setSkinnyCallState with
	  sccp_channel_setChannelState, which was actually meant/implied.
	  replaced the sccp_indicate use of uint8_t state with
	  sccp_channelstate_t state, which generated warnings of converted
	  enum values showing the errornous mapping to skinny_callstate,
	  where sccp_channelstate should have been used.

	* [r5474] src/sccp_enum_macro.h: Fix does_exist return value.

	* [r5473] src/chan_sccp.c, src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/common.h, src/sccp_enum_macro.h, src/sccp_event.c,
	  src/sccp_event.h, src/sccp_event_enums.hh, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_protocol_enums.hh: Refined
	  sccp_enum_macro to deal better with sparsely populated enums and
	  in a cheaper way (direct access) with incremental ones

2014-06-05  ddegroot

	* [r5472] src/pbx_impl/ast/ast.c: Reverted accidental commit of
	  pbx_impl/ast/ast.c

	* [r5471] src/pbx_impl/ast/ast.c, src/sccp_cli.c: Added Line Label
	  to SCCPShowLines (Reported by Jim Dossey)

	* [r5470] src/sccp_actions.c, src/sccp_enum_macro.h,
	  src/sccp_protocol_enums.hh: Added warning during registration of
	  a yet unknown skinny devicetype. Extended the sccp_enum_macro to
	  allow check existence of a enum entry. Added
	  SKINNY_DEVICETYPE_NOTDEFINED as last entry to prevent having to
	  sort these enum entries

	* [r5469] src/sccp_management.c: Fixed
	  sccp_manager_show_devices/sccp_mananger_show_lines by adding
	  extra new line between records. Set both these functions to
	  deprecated status in favor of SCCPShowDevices/SCCPShowLines.
	  (Reported by Jim Dossey)

	* [r5468] src/chan_sccp_enums.hh: Rename IDLE/INUSE devstate enum
	  entries to SCCP_DEVSTATE_IDLE and SCCP_DEVSTATE_INUSE

	* [r5467] src/sccp_actions.c: sccp_handle_stimulus has been replace
	  by a new implementation

	* [r5466] src/chan_sccp.c, src/chan_sccp.h, src/chan_sccp_enums.hh,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c, src/sccp_actions.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_cli.c,
	  src/sccp_conference.c, src/sccp_config.c, src/sccp_device.c,
	  src/sccp_devstate.h, src/sccp_enum_macro.h, src/sccp_event.c,
	  src/sccp_event.h, src/sccp_features.c, src/sccp_hint.c,
	  src/sccp_indicate.c, src/sccp_indicate.h, src/sccp_management.c,
	  src/sccp_pbx.c, src/sccp_protocol.c, src/sccp_protocol.h,
	  src/sccp_protocol_enums.hh, src/sccp_softkeys.c,
	  src/sccp_utils.c, src/sccp_utils.h: Replacement of
	  sccp_enum_macro.h. Cleaner implementation of the generated code
	  (Requiring / Returning an enum type instead of an int. When
	  misused the compiler will return a explicit warning about
	  implicit conversion between enums). It also includes a method to
	  lookup an string back to the enum value (even if the enum is
	  sparse in nature). The str2enum lookup will be used to replace
	  some of the config_parsers to base the on generated source code
	  instead (in the near future).

2014-06-04  ddegroot

	* [r5465] src/sccp_device.c, src/sccp_softkeys.c: Reactivate
	  useRedialMenu for SPCP/SPA Phones with a new key sequence to send

2014-06-03  ddegroot

	* [r5464] src/sccp_softkeys.c: Use Application:Cisco/PlacedCalls
	  shortcut for useRedialMenu when talking to higher protocol level
	  phones

	* [r5463] src/sccp_device.c, src/sccp_softkeys.c: Prevent
	  useRedialMenu on phones without a display or SPCP phone(for now)

	* [r5462] src/sccp_protocol.h, src/sccp_protocol_enums.hh: Added
	  some SPA models that we need registration ID's for

2014-06-02  ddegroot

	* [r5461] src/chan_sccp.h: Update sccp_log handling to fix logging
	  to file without FileLineFunc being active. Added peer_dtmfmode to
	  channel->rtp so we can safe the dtmfmode of the peer during
	  get_rtp_info

	* [r5460] src/sccp_pbx.c: Revert previous change to sccp_pbx send
	  digit function, defer/undefer of dtmf should be handled inside
	  pbx_impl

	* [r5459] src/sccp_protocol.c: Added new dtmfmodes (PROTOCOL): AUTO
	  and NONE. Current default is still inband, but will become auto
	  in the future

	* [r5458] src/sccp_cli.c: Added new dtmfmodes (CLI): AUTO and NONE.
	  Current default is still inband, but will become auto in the
	  future

	* [r5457] src/chan_sccp_enums.hh: Added new dtmfmodes: AUTO and
	  NONE. Current default is still inband, but will become auto in
	  the future

	* [r5456] src/sccp_channel.c, src/sccp_config.c,
	  src/sccp_config_entries.hh: Added new dtmfmodes: AUTO and NONE.
	  Current default is still inband, but will become auto in the
	  future

	* [r5455] src/sccp_actions.c: Use dtmfmode2str in digit handling

2014-06-01  ddegroot

	* [r5454] src/chan_sccp.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_cli.c, src/sccp_pbx.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Obey device->dtmmode setting when creating a
	  new channel, Use dtmfmode when sending digits, inband or
	  outofband. Updated sccp_protocol.c to set the correct dtmfmode.

2014-05-31  ddegroot

	* [r5453] src/sccp_actions.c: Update handling of orcStatus

	* [r5452] src/sccp_protocol.h, src/sccp_protocol_enums.hh: Revise
	  OpenReceive/StartMediaTransmission

	* [r5451] src/sccp_config.c, src/sccp_device.c: Fix
	  sccp_config_parse_deny_permit CHANGE Detection, remove calls
	  free_ha before running reload

2014-05-30  ddegroot

	* [r5450] src/sccp_config.c: Added SCCP_CONFIG_REVISION output to
	  sccp_manager_config_metadata, so that you can focus on change in
	  metadata, on when/if changes have occured

	* [r5449] src/chan_sccp_enums.hh, src/common.h,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast104.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast111.h, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast112.h, src/pbx_impl/ast/ast112_announce.c,
	  src/pbx_impl/ast/ast112_announce.h, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/ast/ast113.h, src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.c, src/pbx_impl/pbx_impl.h,
	  src/sccp_appfunctions.c, src/sccp_conference.c,
	  src/sccp_config.c, src/sccp_config_entries.hh,
	  src/sccp_devstate.c, src/sccp_event_enums.hh, src/sccp_hint.c,
	  src/sccp_management.c, src/sccp_protocol.c,
	  src/sccp_protocol_enums.hh, src/sccp_refcount.c, src/sccp_rtp.c,
	  src/sccp_threadpool.c: Re-activate svn:keyword on some of the
	  files

	* [r5448] src/sccp_config.c, src/sccp_config_entries.hh: Added
	  SCCP_CONFIG_REVISION output to sccp_manager_config_metadata, so
	  that you can focus on change in metadata, on when/if changes have
	  occured

	* [r5447] src/sccp_indicate.c: Suppress Callwaiting (on the Dialing
	  Device) via SharedLine, when Calling the same Sharedline

	* [r5446] src/sccp_actions.c: Simplify sccp_handle_stimulus. Do not
	  update destination ip/port during open_receive_channel_ack when
	  using EXPERIMENTAL_MODE

	* [r5445] src/sccp_indicate.c: Suppress CallInfo on Remote Devices
	  of a shared line when c->privacy is active

	* [r5444] src/sccp_hint.c: Suppress callerInfo on hinted speeddials
	  when c->privacy=1 || callInfo.presentation=0

	* [r5443] src/sccp_softkeys.c: Fix refcount when using
	  sccp_sk_private to initiate a new call

	* [r5442] src/sccp_device.c: Fix redial button activation if no
	  database entry, for lineInstance=0 / callid=0 (ie. Base Screen
	  with no activate line key mode). On De-mask the button once, when
	  it switches from no lastDialedNumer to the First Setting.

	* [r5441] src/sccp_config.c, src/sccp_device.c,
	  src/sccp_features.c: Moved some of the getDatabase calls to
	  device_postRegistration which is a more logical location. Handle
	  DND better, by call sccp_feature_change when loading from the
	  database, this also updates the displayed DND on the device
	  itself. Use sccp_device_setLastNumberDialed to update the
	  d\-\>lastnumberDialed and also activate the redial button if
	  necessary.

	* [r5440] src/sccp_softkeys.c: Fix retain/release issue in
	  sccp_sk_private.

	* [r5439] conf/sccp.conf: Added support for multiple parkinglots.
	  Added new line paramater to config, called 'parkinglot', which
	  can be used to set the parkinglot to use for this particular line
	  (left empty means 'default')

	* [r5438] conf/sccp.conf.annotated, src/chan_sccp.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/sccp_cli.c, src/sccp_config_entries.hh: Added support for
	  multiple parkinglots. Added new line paramater to config, called
	  'parkinglot', which can be used to set the parkinglot to use for
	  this particular line (left empty means 'default')

	* [r5437] src/sccp_protocol.h, src/sccp_softkeys.c: Make it
	  possible to start a PRIVATE call from the onhook state, a new
	  channel will be started at this moment. (Private needs more work:
	  hints / ast_channel / remoteIndicate)

2014-05-29  ddegroot

	* [r5436] src/sccp_indicate.c: - Fix showing CallWaiting for an
	  Outgoing call on a sharedline we already have registered as one
	  of our own lines. Fix remote shared line status indication on
	  protocolversion<17 phone, being indicated with two callplanes.
	  Fix statusVisibility being set for multiple remoteDevice by
	  accident, it should have been reset for every device. Conplety
	  skip remote indication if we already own part of the call.

	* [r5435] src/sccp_hint.c: Prevent subscribing to a hint for an
	  extension that we already have connected as a line

	* [r5434] src/sccp_protocol.c: Added debug logging to
	  protocol->sendCallInfo Messages

	* [r5433] src/sccp_actions.c: Fix handle stimulus code when using
	  BLF-speeddial

2014-05-28  ddegroot

	* [r5432] src/sccp_features.c: Fix conference pulling in channels
	  from remote devices via shared line (Reported by Martin Sofaru)

	* [r5431] src/sccp_protocol.c, src/sccp_rtp.c: Reduced
	  NOTICE/WARNING debug logging to standard sccp-log for RTP notices

2014-05-26  ddegroot

	* [r5430] src/pbx_impl/ast/ast.h: Fix Issue #229 (Reported by
	  hhornung)

	* [r5429] src/pbx_impl/ast/ast110.c: Fix compile warning about
	  overwriting description in AST_MODULE_INFO

	* [r5428] src/sccp_actions.c: Fix warning about unused variable:
	  'channel'

	* [r5427] src/chan_sccp.c, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast112.c, src/pbx_impl/ast/ast113.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_channel.c,
	  src/sccp_conference.c, src/sccp_pbx.c: Removed Experimental
	  Status from the New Hangup Code, making it the standard method to
	  handle hanging up calls for everyone

	* [r5426] src/sccp_actions.c: Made a start to use AUTO_RELEASE in
	  sccp_actions.c

2014-05-25  ddegroot

	* [r5425] src/sccp_cli.c, src/sccp_protocol.c, src/sccp_protocol.h:
	  Correct sccp_cli show softkeysets

2014-05-23  ddegroot

	* [r5424] src/sccp_softkeys.c: Changed ast_channel lock into a
	  memory barrier to prevent deadlock with lock in
	  asterisk_setWriteFormat (Reported by Alena Juk)

2014-05-21  ddegroot

	* [r5423] src/sccp_refcount.c: Fix autorelease of NULL Pointer
	  (Reported by hhornung, #227)

2014-05-20  ddegroot

	* [r5422] src/sccp_channel.c: Fix setMicrophoneState (Reported by
	  Niklas Larsson)

	* [r5421] src/sccp_channel.c: Remove two unnecessary device
	  releases. Update sccp_channel_resume to use AUTO_RELEASE to put a
	  previous channel on hold, before resuming.

	* [r5420] src/sccp_channel.c: Fix AUTO_RELASE (Reported by Niklas
	  Larsson)

	* [r5419] src/sccp_channel.c: Use of AUTO_RELEASE in sccp_channel

	* [r5418] src/sccp_softkeys.c: Check
	  sccp_device_selectedchannels_count calling functions

	* [r5417] src/sccp_channel.c: Found another refcount off by one

	* [r5416] src/sccp_channel.c: Fix refcount over release in
	  stopMultiMediaTransmission

	* [r5415] src/sccp_device.c, src/sccp_line.c: Use of AUTO_RELEASE
	  in sccp_line and sccp_device

2014-05-15  ddegroot

	* [r5414] src/sccp_event.c: Use AUTO_RELEASE for sccp_event objects

	* [r5413] src/sccp_refcount.c, src/sccp_refcount.h: Introduction of
	  AUTO_RELEASE for refcounted objects

	* [r5412] src/pbx_impl/ast/ast108.c, src/sccp_channel.c,
	  src/sccp_pbx.c: Fix callforward locking issue (Reported by Alena
	  Juk)

2014-05-14  ddegroot

	* [r5411] src/sccp_conference.c: Fix conference_participant_destroy
	  segfault (reported by Alena Juk)

2014-05-13  ddegroot

	* [r5410] src/sccp_device.c: Fixed buffer-overflow in pushURL /
	  pushTextMessage (Issue Reported by Niklas Larsson / Based on
	  Patch provided by Niklas Larsson)

	* [r5409] src/sccp_conference.c, src/sccp_conference.h: Use
	  participant->conferenceBridgePeer to return CallEvent information

2014-05-12  ddegroot

	* [r5408] src/sccp_config.c: Use sccp_strcaseequals in most cases
	  where \!strcasecmp was used. sccp_strcaseeuals has buildin guards
	  for NULL pointers / 0-lenght strings (Segfault found in
	  sccp_config_parse)

	* [r5407] Makefile.in, autoconf/extra.m4, configure,
	  doc/Makefile.in, src/Makefile.in: Update configure.ac so that
	  ast112_announce gets compiled when compiling against asterisk-12
	  or higher

2014-05-10  ddegroot

	* [r5406] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h: Added a
	  carefull sccp_wrapper_asterisk_requestHangup_PBXStarting
	  implementation which is only used for a very short time, when
	  ast_pbx_start has been requested, it will make sure to check
	  autoloop and ast_channel_pbx before sending the hangup request.
	  Replacement for setting hangup_dummy.

	* [r5405] src/pbx_impl/ast/ast.c: Fix hangup during progress, not
	  setting dummyHangup before going to ast_pbx_start. during
	  requestHangup we need to re-check if pbx was not started in the
	  meantime, to make sure we are using the right hangup method. Have
	  not added locking during this check, so a race condition might
	  still exist.

	* [r5404] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/ast112.c,
	  src/pbx_impl/ast/ast113.c: Fix setOwner when setting to NULL
	  (With exception for asterisk-1.8) (Fixes locking issue reported
	  by Alena Juk)

	* [r5403] src/sccp_conference.c: Set requestHangup for
	  conference->moderator to requestHangup (not running in a
	  ast_pbx_start thread

	* [r5402] src/sccp_channel.c: Fix callCountLock lock

2014-05-02  ddegroot

	* [r5401] src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c: Fix sccp_wrapper_asterisk_setOwner,
	  Preventing astobj2 Warning about user_data is NULL. (Fix #225)

	* [r5400] src/pbx_impl/ast/ast108.c: Revert accidental checkin of
	  test patch made for Alena

	* [r5399] src/config.h.in, src/pbx_impl/ast/ast108.c,
	  src/sccp_conference.c, src/sccp_utils.h: Fix conference compiled
	  against asterisk-11

	* [r5398] Makefile.in, autoconf/asterisk.m4, autoconf/extra.m4,
	  configure, configure.ac, doc/Makefile.in, src/Makefile.am,
	  src/Makefile.in, src/chan_sccp.c, src/chan_sccp.h,
	  src/config.h.in, src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast104.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast106.h, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast108.h, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast110.h, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/ast111.h, src/pbx_impl/ast/ast112.c[ADD],
	  src/pbx_impl/ast/ast112.h[ADD],
	  src/pbx_impl/ast/ast112_announce.c[ADD],
	  src/pbx_impl/ast/ast112_announce.h[ADD],
	  src/pbx_impl/ast/ast113.c[ADD], src/pbx_impl/ast/ast113.h[ADD],
	  src/pbx_impl/ast/astTrunk.c[DEL],
	  src/pbx_impl/ast/astTrunk.h[DEL], src/pbx_impl/ast/define.h,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_cli.c, src/sccp_conference.c,
	  src/sccp_conference.h, src/sccp_config.c, src/sccp_device.c,
	  src/sccp_devstate.c, src/sccp_features.c, src/sccp_pbx.c,
	  src/sccp_pbx.h: Added support for asterisk-12 and asterisk-trunk

2014-04-27  ddegroot

	* [r5397] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/astTrunk.c: Fix compile warning about slinFormat

	* [r5396] src/sccp_device.c: Revert change get_activeline, should
	  return retained

	* [r5395] src/sccp_channel.h, src/sccp_conference.c,
	  src/sccp_device.h, src/sccp_event.h, src/sccp_line.h: Added
	  assert to retain/release function calls

2014-04-26  ddegroot

	* [r5394] doc/50_Frequently_Asked_Questions.doc: Fix doxygen error

	* [r5391] doc/35_How_To.doc: Added documentation about softkey
	  status being saved to the AstDB

2014-04-25  ddegroot

	* [r5390] src/sccp_device.c: Fix refcount in
	  sccp_dev_get_activeline

	* [r5389] src/pbx_impl/ast/ast.c: Run ast_queue_hangup without
	  ast_channel_lock (Reported by Alena Juk)

2014-04-24  ddegroot

	* [r5388] src/chan_sccp.c, src/chan_sccp.h: Partially revert
	  revision 5360 to fix revisionstr/versionstr setting.

	* [r5387] src/sccp_event.c: Prevent segfault

	* [r5386] ChangeLog: Update ChangeLog

	* [r5385] src/sccp_pbx.c: Fix segfault in sccp_pbx_channel_allocate
	  (Reported by Alena Juk)

	* [r5384] src/sccp_cli.c, src/sccp_device.c, src/sccp_socket.c:
	  When calling sccp_print_ha / sccp_print_group using a ast_str
	  pointer, we should specify the size of the allocated memory, not
	  the size of the pointer

	* [r5383] src/sccp_device.c: Remove NULL pointer check where not
	  necesary

	* [r5382] src/sccp_config.c: Remove of double/unnecessary
	  semicolons

	* [r5381] src/sccp_socket.c: Remove of double/unnecessary
	  semicolons

	* [r5380] src/sccp_channel.c: Remove NULL pointer check for
	  channel. Added comments about taking a reference for
	  channel->line, which might make things clearer

	* [r5379] src/sccp_pbx.c: Clean up if statement, which checks the
	  same conditions twice

	* [r5378] src/sccp_socket.c: Remove of double/unnecessary
	  semicolons

	* [r5377] src/sccp_utils.c: Use NULL instead of unclear 0, where a
	  pointer is concerned

2014-04-23  ddegroot

	* [r5376] src/sccp_channel.c: Added channel->line != NULL assertion
	  in sccp_channel_openReceiveChannel, because of a
	  backtrace\/report, this should not happen / be possible, therefor
	  assertion is used

	* [r5375] src/sccp_config.c: Remove unneccessary pointer checks
	  (addButton and buidlLine)

	* [r5374] src/sccp_device.c: Just to make sure d->hasDisplayPrompt
	  has been set correctly

	* [r5373] src/sccp_device.c: Use d->hasDisplayPrompt

	* [r5372] src/sccp_cli.c: Fix/Prevent Segfault when reading
	  ast_variable by checking if GLOB(cfg) is valid beforehand

	* [r5371] src/pbx_impl/ast/define.h, src/sccp_device.c: Fix
	  refcount

	* [r5370] src/pbx_impl/ast/ast.c: Don't use ast_check_hangup_locked
	  during requestQueueHangup (Alena Juk)

	* [r5369] src/sccp_channel.c: Removed unnecessary retain/release of
	  device in sccp_device_selectedchannels_count, which only gets
	  called by sccp_softkey functions, which always have a device
	  retained

	* [r5368] src/pbx_impl/ast/define.h, src/sccp_event.c: Use
	  tmp_event to retain/release sccp_event_t

2014-04-22  ddegroot

	* [r5367] src/sccp_device.c: Removed stray backslash

	* [r5366] src/sccp_channel.c: Fix refcount issue in
	  sccp_device_selectedchannels_count (BTW: should this function not
	  be moved to in sccp_device.c , or renamed otherwise \?)

	* [r5365] src/sccp_device.c: Fix refcount issue during
	  sccp_device_check_update

	* [r5364] src/sccp_protocol.c, src/sccp_utils.c, src/sccp_utils.h:
	  When using Variable sized array's, you cannot use sizeof to get
	  the length of the array, you should use the length specified
	  during array creation instead. Remarked out non-used function
	  sockaddr_cmp_addr in sccp_utils.c

	* [r5363] src/sccp_rtp.c: Return value of sccp_rtp_get_sampleRate,
	  is larger than uint8_t, changed to returning int

	* [r5362] src/sccp_rtp.c, src/sccp_rtp.h: Return value of
	  sccp_rtp_get_sampleRate, is larger than uint8_t, changed to
	  returning int

	* [r5361] src/chan_sccp.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_cli.c, src/sccp_conference.c, src/sccp_devstate.c,
	  src/sccp_event.c, src/sccp_features.c, src/sccp_hint.c,
	  src/sccp_management.c, src/sccp_mwi.c, src/sccp_refcount.c,
	  src/sccp_threadpool.c: Declare globals functions, structs &
	  variable with only one definition as static

	* [r5360] src/chan_sccp.c, src/chan_sccp.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/astTrunk.c, src/sccp_cli.c, src/sccp_config.c:
	  Use define for sccp_versionstr and sccp_revisionstr, instead of
	  non-static global variable

	* [r5359] src/sccp_protocol.h: Force inline where inline is
	  requested using '__inline__' instead of 'inline'

	* [r5358] src/chan_sccp.h, src/sccp_enum_macro.h,
	  src/sccp_refcount.c, src/sccp_refcount.h, src/sccp_utils.h: Force
	  inline where inline is requested using '__inline__' instead of
	  'inline'

	* [r5357] src/sccp_channel.c: Fix dubious (\!d | \!c), where (\!d
	  || \!c) was meant

	* [r5356] src/chan_sccp.c, src/chan_sccp.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/astTrunk.c, src/sccp_actions.c,
	  src/sccp_config.c, src/sccp_device.c, src/sccp_hint.c,
	  src/sccp_management.c, src/sccp_mwi.c, src/sccp_pbx.c,
	  src/sccp_socket.c, src/sccp_softkeys.c, src/sccp_threadpool.c,
	  src/sccp_utils.c: Fixes / Updates after running static analysis
	  using smatch (Closes rb: 58)

	* [r5355] src/pbx_impl/ast/ast.c: Make sure queue_hangup gets
	  called without the pbx_channel being locked (Alena Juk)

2014-04-20  ddegroot

	* [r5354] src/sccp_actions.c: Endcall when receiving mediastatus!=0
	  while handling openreceive_channel, check if we have a valid
	  channel before calling close_receive_channel

	* [r5353] src/sccp_features.c: Fix: comparison of constant 1 with
	  boolean expression is always false

2014-04-19  ddegroot

	* [r5352] src/sccp_actions.c, src/sccp_features.c: comparison of
	  constant 1 with boolean expression is always false

2014-04-14  marcelloceschia

	* [r5351] src/sccp_indicate.c: fix lampStatus for remote devices

2014-04-13  marcelloceschia

	* [r5350] src/sccp_device.c: fix lampMode when call was not
	  answered

2014-04-13  ddegroot

	* [r5349] src/sccp_channel.c: Fix sccp_find_channel_on_line_byid
	  and sccp_find_channel_by_lineInstance_and_callid

2014-04-12  marcelloceschia

	* [r5348] src/sccp_hint.c: set lamp for hint (30VIP)

	* [r5347] src/sccp_device.c: change button type for 30VIP && set
	  lamp to on on connected

	* [r5346] src/sccp_indicate.c: fix lamp indication for 30VIP

	* [r5345] src/sccp_device.c, src/sccp_device.h: add
	  sccp_device_setLamp

2014-04-12  ddegroot

	* [r5344] src/sccp_refcount.c: Fix refcount rules documentation

	* [r5343] src/sccp_dllists.h: Removed redundant variable update
	  (var)=(var) when not using retain in SCCP_LIST_FIND

	* [r5342] src/sccp_channel.c, src/sccp_channel.h: use
	  SCCP_LIST_FIND function in sccp_channel.c

	* [r5341] src/sccp_line.c: Small cleanup of sccp_line_find_byname

	* [r5340] src/sccp_device.c, src/sccp_device.h, src/sccp_line.c,
	  src/sccp_line.h: use SCCP_LIST_FIND function in
	  sccp_device_find_byid

	* [r5339] src/sccp_dllists.h, src/sccp_line.c: introduction
	  SCCP_LIST_FIND function

2014-04-10  marcelloceschia

	* [r5338] src/sccp_dllists.h, src/sccp_line.c: revert Diederiks
	  marco for finding objects

	* [r5337] src/sccp_dllists.h, src/sccp_line.c: Diederiks marco for
	  finding objects

2014-04-09  marcelloceschia

	* [r5336] src/sccp_channel.c: fixes issue with missing cid_name and
	  cid_number on cel events, reported by Nikola Ciprich

2014-04-09  ddegroot

	* [r5335] src/sccp_cli.c: Updated 'sccp reload' to make sure all
	  parameters are checked and verified before flushing glob(cfg).
	  SCCP COMMAND CHANGE: 'sccp reload [filename]' has been replaced
	  by 'sccp reload file filename'

	* [r5334] src/sccp_cli.c: Prevent segfault when using sccp reload
	  in the case that no config file is set (Which can happen when
	  mis-using 'sccp reload filename')

2014-04-02  ddegroot

	* [r5333] src/sccp_channel.c: Removal of sccp_channel_set_line.
	  Channel->line should be read-only and constant (We might actually
	  have to change the definition in chan_sccp.h to be const to make
	  absolutely sure).

	* [r5332] src/sccp_channel.c: Disallow setting channel->line to
	  NULL

2014-03-28  marcelloceschia

	* [r5331] conf/tftp/SEP0000000000.cnf.xml_7937_template[ADD]: 7937
	  cnf.xml template

2014-03-23  ddegroot

	* [r5330] src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c:
	  Switch to ast_channel_language_set in ast111.c

	* [r5329] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c: Fix
	  compile issue against asterisk-10 and lower (bug report 222)

2014-03-22  ddegroot

	* [r5326] src/chan_sccp.c, src/chan_sccp.h, src/pbx_impl/ast/ast.c,
	  src/pbx_impl/ast/ast.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_conference.c, src/sccp_pbx.c: Added new requestHangup
	  method inside CS_EXPERIMENTAL block for testing purposes (created
	  by Marcello)

	* [r5325] ChangeLog, autoconf/extra.m4, configure, src/Makefile.in:
	  Generate Shorter ChangeLog starting at 5000

2014-03-19  ddegroot

	* [r5324] src/sccp_conference.c, src/sccp_config.c: Prevent null
	  pointer derefences

2014-03-16  ddegroot

	* [r5323] src/sccp_config.c: Activated new implementation of
	  sccp_config_set_defaults (removed CS_EXPERIMENTAL block)

	* [r5322] src/sccp_features.c, src/sccp_pbx.c: Activated use of
	  sccp_threadpool_add_work (removed CS_EXPERIMENTAL block)

	* [r5321] src/sccp_actions.c: Activated implementation of tokenack
	  fallback script handling (removed CS_EXPERIMENTAL block)

	* [r5320] src/sccp_protocol.c: Activated new implementation of
	  sccp_protocol_sendUserToDeviceDataVersion1Message (removed
	  CS_EXPERIMENTAL block)

2014-03-13  ddegroot

	* [r5319] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_protocol_enums.hh: Added
	  skinny_mediastatus_t enum to OpenReceiveChannelAck,
	  Start(Multi)MediaTransmissionAck

	* [r5318] src/sccp_cli.c: Fix segfault during 'sccp restart
	  SEP...', maybe pthread_cancel should be removed completely at
	  this location.

	* [r5317] src/sccp_cli.c, src/sccp_refcount.c, src/sccp_refcount.h:
	  Added refcount force release (temporary function)

2014-03-11  ddegroot

	* [r5316] src/sccp_config.c: Added comparison to
	  sccp_config_parse_deny_permit to notify CHANGED so that devices
	  can be forced to reload when permit/deny has changes (if
	  necessary)

2014-03-10  ddegroot

	* [r5315] src/sccp_config.c: Destroy results from previous
	  sccp_config_parse_deny_permit, before running again (Reported by
	  Sander Smeenk). This funktion still needs a comparison to report
	  back change, which is not so simple to add.

2014-03-06  ddegroot

	* [r5314] src/sccp_cli.c: Fix sccp message with beep but without
	  timeout

	* [r5313] src/sccp_lock.h: Removed stray '_' from
	  AO_compare_and_swap. Cast volatile int to volatile size_t for
	  ATOMIC_INCR/ATOMIC_DECR when using libatomic-ops (Reported by
	  Steve Hanselman).

	* [r5312] src/sccp_device.c: 894x phone apparently support 10
	  speeddials with only 4 buttons (6 displayed in a dropdown menu)
	  (Bug: #219/Reported by hhornung).

	* [r5311] src/sccp_actions.c: Correction fur unconfigured
	  speeddialbuttons count

	* [r5310] src/sccp_features.c: Update sccp_features.c to prevent
	  compile failures / Display pickup failed message / automatically
	  after failed (g)pickup.

	* [r5309] src/sccp_config_entries.hh, src/sccp_features.c: Use
	  channel context for directed_pickup_context, when parameter is
	  not set. This will be copied from the line->context when the
	  channel is created (Reported by Steve Hanselman)

	* [r5308] src/sccp_config.c: Fix for line context to be retrieved
	  from global default (fixes #204)

2014-03-06  marcelloceschia

	* [r5307] src/sccp_config.c: fix issue with default values,
	  references #204

	* [r5306] src/sccp_hint.c: check for DND on
	  AST_EXTENSION_UNAVAILABLE

2014-03-05  marcelloceschia

	* [r5305] src/sccp_device.c: revert redial softkey fix due to
	  softkey issues on 7960, rported by Steve Hanselman

2014-03-04  marcelloceschia

	* [r5304] src/sccp_config.c: do not set default values for
	  DEPRECATED/OBSOLETE config parameters

	* [r5303] src/sccp_config.c: do not set default values for
	  DEPRECATED/OBSOLETE config parameters

2014-03-03  ddegroot

	* [r5302] src/sccp_config.c: Small update new
	  sccp_config_set_defaults

	* [r5301] src/sccp_actions.c: Prevent segfault in
	  sccp_handle_keypad_button (stopgap measure, channel->line should
	  always be set). Added todo comment to clean this up

	* [r5300] src/sccp_channel.h, src/sccp_device.h, src/sccp_line.h,
	  src/sccp_refcount.c, src/sccp_refcount.h: Revision2 of
	  sccp_refcount_refreplace (Use inplace replacement) (references
	  #199)

	* [r5299] src/sccp_refcount.c: Revise1 sccp_refcount_refreplace
	  (Non-Final) (references #199)

	* [r5298] src/sccp_refcount.c: Revise sccp_refcount_refreplace
	  (Non-Final) (references #199)

	* [r5297] src/sccp_channel.c: Only release channel->line during
	  sccp_channel_destroy, not in sccp_channel_cleanup

	* [r5296] src/sccp_device.c: Fix sccp_device_setActiveChannel
	  (references #199)

2014-03-02  ddegroot

	* [r5295] src/sccp_protocol.c: Update
	  UserToDeviceDataVersion1Message

2014-03-02  marcelloceschia

	* [r5294] src/sccp_actions.c: use
	  SKINNY_MISCCOMMANDTYPE_VIDEOFASTUPDATEPICTURE

	* [r5293] src/chan_sccp_enums.hh, src/sccp_protocol_enums.hh: move
	  miscCommandType into sccp_protocol_enums

	* [r5292] src/sccp_device.c: fix

	* [r5291] src/sccp_device.c: add todo

	* [r5290] src/sccp_device.c: fixes #155, fix provided by Diederik
	  de Groot;needs some improvements to reduce sofkeySet update

	* [r5289] src/sccp_protocol_enums.hh: add dummy keymode to iterate
	  over all modes

2014-03-02  ddegroot

	* [r5288] src/sccp_mwi.c: Filter the important lineStatusChanged
	  States for mwi check

	* [r5287] src/sccp_utils.c: Added comment about inserting /
	  appending behaviour (re-activated append behaviour, to conform to
	  previous implementation)

	* [r5286] src/sccp_config.c, src/sccp_utils.c, src/sccp_utils.h:
	  Remove skinny_codec_mask from sccp_parse_allow_disallow, as it
	  was not used anymore anyway

	* [r5285] src/sccp_utils.c: Fix skinny_codec_pref_remove

	* [r5284] src/sccp_utils.c: Fix skinny_codec_pref_remove (related
	  to revision #5280 / #5282)

	* [r5283] src/sccp_utils.c: Fix skinny_codec_pref_remove (related
	  to revision #5280)

	* [r5282] src/sccp_features.c: When pickup fails, inform the user
	  and close down the channel nicely

2014-03-01  ddegroot

	* [r5281] src/chan_sccp.h: Channel->designator being cut short.
	  Changed lineInstance back to uint8_t

2014-03-01  marcelloceschia

	* [r5280] src/sccp_utils.c: fixes unreachable code warning

	* [r5279] src/sccp_cli.c: fixes unreachable code warning

	* [r5278] src/sccp_socket.c: fixes unreachable code warning

2014-02-28  ddegroot

	* [r5277] src/sccp_hint.c: Show device unavailable hint for
	  protocolversin <=11 (Reported by Stefan Gofferje)

	* [r5276] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/pbx_impl.h: Remove
	  forceHangup (not used anymore)

	* [r5275] src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_config_entries.hh: Removed device->devicetimeout, which
	  is not being used

	* [r5274] src/sccp_conference.c, src/sccp_protocol.c: When
	  conf_mute_on_entry is switched on, show this in debug when
	  creating the conference and also update conflist to reflect this
	  state (Reported by Alena Juk)

2014-02-27  ddegroot

	* [r5273] src/sccp_cli.c, src/sccp_cli_table.h,
	  src/sccp_conference.c, src/sccp_mwi.c: Update cli output table to
	  include fmt for CLI_AMI_TABLE_FIELD, so that max string length
	  can be bound. Also allowing for alignment (for example to show
	  most-significant part of ip-address, when column with is to small
	  to show completely).

	* [r5272] conf/tftp/XMLDefault.cnf.xml[ADD]: Added
	  XMLDefault.cnf.xml sample

	* [r5271] src/pbx_impl/ast/ast111.c, src/sccp_rtp.c: Prevent
	  directrtp during conference

	* [r5270] src/sccp_socket.c: Make sccp_read_data a little less
	  verbose when not having set both socket and high

	* [r5269] src/sccp_socket.c: Make sccp_read_data a little less
	  verbose when not having set both socket and high

	* [r5268] src/sccp_config.c: Remove use of first_option_name

	* [r5267] src/sccp_config.c: Update debug messages, level and
	  indentation for sccp_config_object_setValue and new version
	  sccp_config_set_defaults

	* [r5266] src/sccp_config.c: Show lookup via referrel in debug
	  statement in new sccp_config_default_value implementation

2014-02-26  ddegroot

	* [r5265] src/sccp_config.c: Simplify new sccp_config_default_value
	  implementation

	* [r5264] src/sccp_config.c: Remove unused from new
	  sccp_config_default_value implementation

	* [r5263] src/sccp_config.c: Simplified new
	  sccp_config_default_value implementation

	* [r5262] src/sccp_config.c: Completely overhauled
	  sccp_config_set_defaults in a CS_EXPERIMENTAL block, will be
	  tested over the coming days, before being made active by default

	* [r5261] src/sccp_config_entries.hh: Fixed some of the entries,
	  where device segment entries are pointing to device segment
	  entries to get there defaults, that did not make sense

	* [r5260] tools/bootstrap.sh: Make bootstrap run make when
	  config.log already exists, and therefor configure was already
	  run. When configure has changed, make will rerun configure with
	  the same settings as before

	* [r5259] src/sccp_actions.c, src/sccp_protocol.h: Cleanup
	  misnomers

	* [r5258] src/sccp_channel.c: Possible fix for
	  sccp_channel_end_forwarding_channel when used during autoanswer
	  (Reported by Stefan Gofferje: Requires renewed test)

	* [r5256] Makefile.in, autoconf/extra.m4, configure, configure.ac,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.am, src/Makefile.in, src/chan_sccp.c,
	  src/chan_sccp.h, src/config.h.in, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/ast/define.h, src/sccp_utils.c, src/sccp_utils.h:
	  Removal of libgc detection/infrastructure (Not used anyway)

	* [r5255] src/chan_sccp.h, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_pbx.c:
	  Schedule automatic hangup after invalidnumber / congestion
	  indication using c->callid (rb: 55)

2014-02-26  marcelloceschia

	* [r5254] src/sccp_line.c: fixes wrong struct declaration

2014-02-26  ddegroot

	* [r5253] src/chan_sccp.h: revert size reduction of subscriptionId
	  struct

2014-02-25  marcelloceschia

	* [r5252] src/sccp_protocol.c: fixes #193 (Enbloc Call Message not
	  handled for 7912)

2014-02-25  ddegroot

	* [r5251] src/sccp_device.c: Reverted r5250 partially, to reinclude
	  change i made this morning

2014-02-25  marcelloceschia

	* [r5250] src/sccp_device.c: deactivate monitor softkey for all
	  states excl. connected

	* [r5249] src/sccp_channel.c: activate recording for inbound calls
	  when state is requested

	* [r5248] src/sccp_management.c: use RecordingStatusMessage

	* [r5247] src/sccp_actions.c: add custom softkey monitor

	* [r5246] src/sccp_device.c: fixes activeMask issue

	* [r5245] src/sccp_labels.h: redefine label for dial and monitor

	* [r5244] src/sccp_protocol.h: add custom softkey monitor; add
	  RecordingStatusMessage

	* [r5243] src/pbx_impl/ast/ast111.c: fixes native formati issue for
	  video

	* [r5242] src/chan_sccp.h: fixes activeMask issue

2014-02-25  ddegroot

	* [r5241] src/chan_sccp.c, src/sccp_config.c, src/sccp_config.h,
	  src/sccp_device.c, src/sccp_line.c: Manage STRINGPTR allocated
	  memory automatically when destroying structs

	* [r5240] src/sccp_socket.c: Extend the sockaddr_union to include
	  the generic struct sockaddr sa as well

	* [r5239] src/sccp_socket.c: Adapt sccp_socket_getOurAddressfor to
	  using the union correctly (Reported by David Cecchin)

2014-02-24  marcelloceschia

	* [r5238] src/sccp_config.c: diederiks config fix

	* [r5237] src/chan_sccp.c: correct wrong socket binding, found on
	  freeBSD by David Cecchin

2014-02-24  ddegroot

	* [r5236] src/sccp_channel.c: Fix potential null pointer
	  dereference

	* [r5235] src/sccp_actions.c: Fix potential out-of-bound array
	  access

	* [r5234] src/sccp_utils.c: Replaced IN6_ARE_ADDR_EQUAL with
	  sccp_socket_cmp_addr (Issue with netinet6/in6.h instead of
	  netinet/in.h)

	* [r5233] src/sccp_utils.c: Replaced IN6_ARE_ADDR_EQUAL with
	  sccp_socket_cmp_addr (Issue with netinet6/in6.h instead of
	  netinet/in.h)

	* [r5232] src/chan_sccp.h: Fix channel->scheduler.digittimeout

	* [r5231] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h, src/sccp_device.c, src/sccp_device.h,
	  src/sccp_features.c, src/sccp_indicate.c, src/sccp_pbx.c,
	  src/sccp_softkeys.c: Rename sccp_channel_set_active to
	  sccp_device_setActiveChannel. Only call
	  sccp_channel_setActiveChannel from sccp_channel_setDevice, to
	  make sure they are always updated at the same time (rb: 49)

	* [r5230] src/chan_sccp.h, src/sccp_config_entries.hh: Reordered
	  and packed sccp_global_vars struct to minimized size and lineup
	  to 64 byte cache lines

	* [r5229] src/Makefile.am, src/Makefile.in: Check revision during
	  make only once every hour instead of every 10 minutes

	* [r5228] src/chan_sccp.h, src/sccp_device.c, src/sccp_protocol.h:
	  Reordered and packed sccp_device and sccp_callinfo struct to
	  minimized size and lineup to 64 byte cache lines

2014-02-23  marcelloceschia

	* [r5227] src/sccp_channel.c: alway set nativeVideoFormats (must be
	  set to get Confbridge working with sccp video)

2014-02-23  ddegroot

	* [r5226] src/chan_sccp.h, src/sccp_channel.c: Reordered and packed
	  sccp_channel and sccp_session struct to minimized size and lineup
	  to 64 byte cache lines

	* [r5225] src/chan_sccp.h, src/sccp_line.c: Removed unused
	  line->lock. Reordered and packed sccp_line struct to minimized
	  size and lineup to 64 byte cache lines

	* [r5224] src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c: Adding
	  accolates to if statements

	* [r5223] src/pbx_impl/ast/ast110.c: Adding accolates to if
	  statements

	* [r5222] src/pbx_impl/ast/ast108.c: Adding accolates to if
	  statements

	* [r5221] Makefile.in, configure, src/pbx_impl/ast/ast106.c: Adding
	  accolates to if statements

	* [r5220] src/sccp_line.c, src/sccp_mwi.c, src/sccp_pbx.c,
	  src/sccp_protocol.c, src/sccp_refcount.c, src/sccp_rtp.c,
	  src/sccp_socket.c, src/sccp_softkeys.c, src/sccp_threadpool.c,
	  src/sccp_utils.c: Adding accolates to if statements

	* [r5219] src/sccp_features.c, src/sccp_hint.c,
	  src/sccp_management.c: Adding accolates to if statements

	* [r5218] src/chan_sccp.c, src/sccp_config.c, src/sccp_device.c,
	  src/sccp_devstate.c, src/sccp_featureButton.c,
	  src/sccp_indicate.c: Adding accolates to if statements

	* [r5217] src/chan_sccp.c, src/sccp_actions.c,
	  src/sccp_adv_features.c, src/sccp_appfunctions.c,
	  src/sccp_channel.c, src/sccp_cli.c, src/sccp_conference.c: Adding
	  accolates to if statements

2014-02-22  marcelloceschia

	* [r5216] src/sccp_socket.c: diederiks socket patch

2014-02-21  marcelloceschia

	* [r5215] src/sccp_device.c: fixes issue #189

	* [r5214] src/sccp_actions.c: disable FlowControlNotifyMessage
	  after OpenMultiMediaReceiveAck, references #188

2014-02-21  ddegroot

	* [r5213] src/sccp_actions.c, src/sccp_protocol.c,
	  src/sccp_protocol.h: Update Enbloc dial message + handling (rb:
	  51)

2014-02-20  ddegroot

	* [r5212] src/sccp_socket.c: strict aliasing issue resolved using
	  union instead of casting (Jacob)

2014-02-19  ddegroot

	* [r5211] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c:
	  Fixes for asterisk 1.6 and 1.8

	* [r5210] src/sccp_protocol.c: Remove dependency on aliasing of
	  sockaddr_storage, for debugging purposes

	* [r5209] src/sccp_actions.c: Remove dependency on aliasing of
	  sockaddr_storage, for debugging purposes

	* [r5208] tools/autorevision: Remove errors when which cannot find
	  repository maintenance programs. Relax warning about not being
	  able to find a repository.

	* [r5207] src/chan_sccp.c: Fix check for VCS_WC_MODIFIED

	* [r5206] src/Makefile.am, src/Makefile.in, src/chan_sccp.c,
	  src/chan_sccp.h, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_cli.c, src/sccp_config.c: Check repository revision once
	  during every compile and write revision.h only when revision has
	  changed (fallback on .revision cache file if using tgz). Use a
	  static sccp_revisionstr and sccp_version_str, initialized once
	  during module load

	* [r5205] src/sccp_protocol.h: Revert change of
	  StationMaxXMLMessage back to 2000

2014-02-19  marcelloceschia

	* [r5204] src/sccp_actions.c, src/sccp_protocol.h: fixes waring for
	  Connection Statistics Response Message

2014-02-19  ddegroot

	* [r5202] src/sccp_cli.c, src/sccp_protocol.c, src/sccp_protocol.h:
	  Make it possible to send bigger UserToDevice XML Messages
	  (CS_EXPERIMENTAL for now)

	* [r5201] src/pbx_impl/ast/ast.c: Only check pbx_channel_pbx during
	  force and request hangup

	* [r5200] src/sccp_actions.c: Check crossover session earlier,
	  before creating anything new

2014-02-18  ddegroot

	* [r5199] src/sccp_channel.h: Moved
	  sccp_find_channel_by_lineInstance_and_callid outside of DEBUG
	  block

2014-02-17  ddegroot

	* [r5198] src/sccp_socket.c: When running
	  sccp_socket_cleanup_timed_out, set thread to null, to be able to
	  run destroy on the next run

	* [r5197] src/pbx_impl/ast/ast.c: First version of a fix to correct
	  longstanding hangup issue (ending in segfault in
	  ast_timer_enable_continuous)

	* [r5196] src/sccp_actions.c: Allow speeddial use after starting
	  entering digits (Reported by Jeffrey)

2014-02-16  ddegroot

	* [r5195] ChangeLog, Makefile.am, Makefile.in, src/Makefile.in,
	  tools/autorevision: Speedup autorevision by checking if the
	  repository binaries exist on the system, before calling them. Add
	  .revision cache file to released tgz during make release.

2014-02-15  ddegroot

	* [r5194] configure, configure.ac, src/Makefile.am,
	  src/Makefile.in, tools/autorevision: Correct output to /dev/null
	  instead of null. Make autorevision play nice on other language
	  machine, by forcing LANGUAGE=C

	* [r5193] tools/autorevision: Fix autorevision for mercurial
	  repository

	* [r5192] src/sccp_actions.c, src/sccp_socket.c: Fix compile
	  warning

	* [r5191] tools/autorevision: Fix autorevision for svn of a
	  different language

	* [r5190] tools/autorevision: Fix autorevision for outdated svn
	  versions

	* [r5189] configure, configure.ac, src/Makefile.am,
	  src/Makefile.in, src/chan_sccp.c, src/chan_sccp.h,
	  tools/autorevision: Update repository revison during every run of
	  make, instead of depending on configure. This way user reports,
	  should include the correct chan-sccp-b version and revision.

	* [r5188] contrib/safe_asterisk_backtrace: Update
	  safe_asterisk_backtrace script

	* [r5187] src/Makefile.am, src/Makefile.in, src/chan_sccp.h,
	  src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/astTrunk.c, src/sccp_cli.c,
	  src/sccp_cli_table.h, src/sccp_config.c: Use the output from
	  tools/autorevision if available to display the currently running
	  revision, updated during make, instead of configure. Include
	  revision output in AMI Function SCCPConfigMetaData (Which returns
	  information about all possible sccp configuration options)

2014-02-13  ddegroot

	* [r5186] src/chan_sccp.c: Free GLOB(config_file_name) and
	  GLOB(token_fallback), if they are set, during unload.

	* [r5185] src/pbx_impl/ast/ast111.c, src/sccp_refcount.c,
	  src/sccp_rtp.c: Prevent compile warnings

	* [r5184] src/sccp_actions.c: Updating TokenRequest, fallback using
	  script has been set to experimental, and is not included in
	  normal build yet

	* [r5183] src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_config_entries.hh: Found the actual cause for the
	  register issue reported by Pavel/Niklas/David. I found out that
	  creating a character array of size 4096 inside the general
	  struct, was causing these issues (Used PATH_MAX from limits.h
	  without realizing it was this big). I have replaced it with a
	  pointer, and adapted sccp_cli and sccp_config to free and set it.

	* [r5182] src/sccp_features.c: Check if
	  line->pickupgroup/line->named_pickupgroup have been set before
	  trying directed pickup

	* [r5181] src/pbx_impl/ast/ast111.c, src/sccp_features.c: Correct
	  ast_channel_named_pickupgroups_set to
	  ast_channel_named_callgroups_set (Issue Reported by Antonio
	  Guirado)

	* [r5180] src/sccp_actions.c: Check fallback, being empty when
	  processing tokenack

	* [r5179] src/chan_sccp.h, src/pbx_impl/ast/define.h,
	  src/sccp_actions.c, src/sccp_cli.c: Check fallback value more
	  carefully when processing tokenack / cli command. Added
	  sccp_false as a counterpart for sccp_true

	* [r5178] src/sccp_actions.c, src/sccp_socket.c: Revert to previous
	  working state (r5152) (issue reported by : Pavel / Niklas /
	  David)

	* [r5177] src/sccp_actions.c: Check if token_fallback is
	  true/yes/on or false/no/off

2014-02-12  ddegroot

	* [r5176] src/sccp_cli.c: Prevent loading non existing config file

2014-02-11  ddegroot

	* [r5175] src/sccp_socket.c: Revert to previous behaviour to handle
	  devices which connect, but do not start to register

	* [r5174] src/sccp_cli.c: Add 'all' parameter to sccp show session,
	  to show session which have non registered devices

	* [r5173] src/Makefile.am, src/Makefile.in: Fix revision when
	  compiling in a seperate build directory

	* [r5172] src/sccp_actions.c, src/sccp_channel.c,
	  src/sccp_channel.h: Update sccp_handle_endcall (thanks Marcello).
	  Added find function for channel using device, callid and
	  lineInstance

	* [r5171] src/sccp_actions.c: Handle onhook, using provided
	  lineInstance and callid. (Fixing issue where endcall button is
	  required to hangup the call)

	* [r5170] src/sccp_actions.c: Fix softkey endcall, on channel whith
	  SCCP_CHANNELSTATE_DOWN (congested or otherwise).

	* [r5169] src/sccp_line.c: Fix checking if channel_retain actuall
	  found a channel, instead of overwriting channel with NULL in
	  sccp_line_removeChannel / sccp_line_addChannel

	* [r5168] src/sccp_line.c, src/sccp_line.h: Fix checking if
	  channel_retain actuall found a channel, instead of overwriting
	  channel with NULL in sccp_line_removeChannel /
	  sccp_line_addChannel

	* [r5167] ChangeLog, src/Makefile.am, src/Makefile.in: Use
	  -DREVISION instead of -DSCCP_REVISION

	* [r5166] src/chan_sccp.c: Revert skipping unknown message
	  (regression)

	* [r5165] src/sccp_pbx.c: Regression on l->incominglimit check
	  (Corrected)

	* [r5164] src/sccp_pbx.c: Revert callforward check only for
	  non-shared line (sccp_pbx_call)

2014-02-11  marcelloceschia

	* [r5163] src/sccp_actions.c: fixes compiler warning and result
	  parsing

	* [r5162] src/sccp_actions.c: fixes compiler warning and result
	  parsing

	* [r5161] src/sccp_config_entries.hh: correct annotation for
	  transfer_on_hangup

	* [r5160] conf/sccp.conf.annotated, src/sccp_config_entries.hh:
	  correct annotation for transfer_on_hangup

2014-02-10  ddegroot

	* [r5159] conf/sccp.conf.annotated, src/sccp_actions.c,
	  src/sccp_config_entries.hh: Allow the tokenack script to set the
	  value for the backoff time, by returning a value instead of ACK

	* [r5158] src/chan_sccp.h, src/sccp_channel.c, src/sccp_pbx.c,
	  src/sccp_softkeys.c: Countdown the number of endcall
	  buttonpresses on a sharedline, so that the last one, can actually
	  end the call, and the caller will be hungup, to notify everybody
	  declined the call (RB: 53)

	* [r5157] src/sccp_cli.c: Revert to using SCCP_DEVICE_RESTART(0x2),
	  not all devices seem to like SCCP_DEVICE_RELOAD_CONFIG (0x3)

	* [r5156] src/sccp_config.c: Check maximum number of addons per
	  device, during config loading

	* [r5155] src/sccp_cli.c, src/sccp_refcount.c: Fix compile warnings

	* [r5154] src/sccp_refcount.c: Tread more carefull when printing
	  debug output during refcount_release (prevent segfault
	  (&obj_info[obj->type])->debugcat, which can happens when multiple
	  releases coincide (sccp_event release for example))

	* [r5153] conf/sccp.conf.annotated, src/chan_sccp.h,
	  src/sccp_actions.c, src/sccp_cli.c, src/sccp_config_entries.hh:
	  Extended sccp.conf fallback option to also allow a script to make
	  the decision if a TokenAck should be sent. The script will be
	  called with three arguments (namely mac-address, ipaddress,
	  devicetype), and should report back ACK if it want\'s to
	  acknowledge the Token

	* [r5152] contrib/app_sms.patch[DEL],
	  contrib/asterisk-1.8_message-backport.patch[DEL],
	  contrib/asterisk_patches[ADD],
	  contrib/asterisk_patches/app_sms.patch[CPY],
	  contrib/asterisk_patches/asterisk-1.8_message-backport.patch[CPY],
	  contrib/asterisk_patches/backport_monitor_feature.patch[CPY],
	  contrib/asterisk_patches/dundi.patch[ADD],
	  contrib/asterisk_patches/outband-message-support.patch[CPY],
	  contrib/asterisk_patches/res_xmpp.patch[CPY],
	  contrib/backport_monitor_feature.patch[DEL],
	  contrib/outband-message-support.patch[DEL],
	  contrib/res_xmpp.patch[DEL]: Move contrib/patches to
	  contrib/asterisk_patches. Add dundi patch, which is still pending
	  after one year in digium jira

2014-02-09  ddegroot

	* [r5151] src/sccp_socket.c: Cleanup already timed out session.

	* [r5150] src/chan_sccp.c, src/chan_sccp.h, src/sccp_cli.c,
	  src/sccp_socket.c: sccp show sessions, should show device which
	  do create a session, but never send Register nor TokenAck

	* [r5149] src/sccp_socket.c: Reduce loglevel for sccp_read_data
	  Dissection Log Entry

	* [r5148] src/sccp_actions.c: Replace warning(getOurIPV4Address)
	  with sccplog during register

	* [r5147] src/sccp_actions.c: Replace warning(getOurIPV4Address)
	  with sccplog during register

	* [r5146] src/Makefile.am, src/Makefile.in: Update path to
	  tools/autorevision

	* [r5145] tools/autorevision[ADD]: Add autorevision

	* [r5144] src/pbx_impl/ast/ast106.c, src/sccp_config.c: Make trunk
	  compile against asterisk 1.6.2.x again.

2014-02-08  ddegroot

	* [r5143] autoconf/extra.m4, configure, src/Makefile.in,
	  src/config.h.in, src/sccp_refcount.c: Added configure option to
	  'with-hash-size' for locations with large numbers of phones
	  (>200). You need to set this option to a prime number which is
	  higher then the number of phones times 4-5

	* [r5142] src/sccp_actions.c, src/sccp_device.c: Tread carefully
	  when deadling with crossover sessions, during register

	* [r5141] src/sccp_actions.c, src/sccp_protocol.h: Show Unregister
	  Reason

	* [r5140] src/sccp_actions.c, src/sccp_protocol.h: Update
	  ConnectionStatisticsRes handling

	* [r5139] src/sccp_cli.c, src/sccp_protocol.h: Use
	  SCCP_RESTART_CONFIG_RELOAD(3) to restart devices when sccp reload
	  is called (alas, no speed improvement so far)

	* [r5138] src/sccp_device.c, src/sccp_protocol_enums.hh: Added
	  SPA_303G (phone with three line buttons. Thanks Tamas)

2014-02-07  ddegroot

	* [r5137] src/sccp_channel.c: Move channel->line retain up, to
	  occur before setDevice and line_addChannel

	* [r5136] src/sccp_channel.c: Fix segfault when
	  device->active_channel->line = 0x0

	* [r5135] src/sccp_channel.c: Update debug comments for
	  sccp_channel_endcall

	* [r5134] ChangeLog, src/Makefile.am, src/Makefile.in,
	  src/sccp_cli.c: Update revisionnumber to latest repository
	  revision, during every run of make instead of configure, so that
	  sccp show version, can output the correct one.

2014-02-07  marcelloceschia

	* [r5133] src/sccp_protocol.h: add lel_lineInstance,
	  lel_callReference

2014-02-05  ddegroot

	* [r5132] src/sccp_socket.c: If sccp_read_data return TRUE without
	  data, then continue normally (read SCCP_PACKET_HEADER returned
	  EINTR, which is fine)

	* [r5131] contrib/generate_backtrace,
	  contrib/safe_asterisk_backtrace: Refine backtrace

	* [r5130] contrib/generate_backtrace,
	  contrib/safe_asterisk_backtrace: Refine backtrace

	* [r5129] src/sccp_device.c, src/sccp_protocol_enums.hh: Added SPA
	  502G

	* [r5128] src/chan_sccp.c: Correct message debug when handling
	  KeepAlive

	* [r5127] contrib/safe_asterisk, contrib/safe_asterisk_backtrace:
	  Refined safe_asterisk_backtrace script

	* [r5126] contrib/safe_asterisk_backtrace: Generalized
	  safe_asterisk_backtrace script

	* [r5125] contrib/safe_asterisk,
	  contrib/safe_asterisk_backtrace[ADD]: Added
	  safe_asterisk_backtrace script

	* [r5124] src/chan_sccp.h, src/sccp_actions.c,
	  src/sccp_featureButton.c, src/sccp_protocol.h,
	  src/sccp_protocol_enums.hh: Update protocol messages
	  (AccessoryStatusMessage, MediaPathCapabilityMessage,
	  StimulusMessage, XMLAlarmMessage). Updated SKINNY_BUTTONTYPE,
	  SKINNY_STIMULUS, SCCP_FEATURE enums.

	* [r5123] src/sccp_refcount.c: Fix sccp_refcount_replace

	* [r5122] src/sccp_socket.c: Correct msgDataSegmentSize by
	  subtracting the SCCP_PACKET_HEADER

	* [r5121] src/sccp_channel.c, src/sccp_socket.c: Prevent release of
	  non-existing lineDevice in sccp_channel_answer

	* [r5120] src/sccp_socket.c: Fix SO_RECVTIMEO failuere comment

	* [r5119] src/sccp_protocol.h, src/sccp_socket.c: Fix for
	  sccp_read_data. Added timeout (RECVTIMEO) on socket read, giving
	  up after 30 tries. Printout ip-address when handling client
	  disconnect.

2014-02-04  ddegroot

	* [r5118] src/sccp_channel.c, src/sccp_device.c: Start using
	  refreplace

	* [r5117] src/sccp_channel.h, src/sccp_device.h, src/sccp_line.h:
	  Update usage of refreplace

	* [r5116] src/sccp_refcount.c, src/sccp_refcount.h: Update
	  refreplace

	* [r5115] src/sccp_channel.c, src/sccp_config.c, src/sccp_line.c:
	  Fix segfault during sccp_channel_endcall, because of printing
	  channel->line after requesting hangup

	* [r5114] src/pbx_impl/ast/ast.h: Fix to compile against
	  asterisk-1.6.2.24

2014-02-03  marcelloceschia

	* [r5112] src/sccp_indicate.c: remove EqualLinkedId from indicate

2014-02-03  ddegroot

	* [r5110] ChangeLog, Makefile.in, aclocal.m4,
	  autoconf/config.guess, autoconf/config.sub, autoconf/ltmain.sh,
	  configure, configure.ac, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, src/Makefile.am, src/Makefile.in,
	  src/config.h.in, tools/versioncheck: Minor changes to support
	  automake-1.14. Re-bootstrapped.

	* [r5108] conf/mysql-v4.sql, conf/mysql-v5.sql, conf/postgres.sql,
	  conf/sqlite.sql, conf/sqlite3.sql: Update database templates
	  (reducing sccpline-id field length)

	* [r5104] src/sccp_channel.c: Retain/Release channel->line during
	  allocate/cleanup

2014-02-02  ddegroot

	* [r5103] src/sccp_channel.h, src/sccp_device.h, src/sccp_line.h,
	  src/sccp_refcount.c, src/sccp_refcount.h: Added
	  sccp_refcount_replace function, single function to replace
	  refcounted object with a different instance, new object is
	  retained before releasing the previous version (future use)

2014-02-02  marcelloceschia

	* [r5102] Makefile.in, aclocal.m4, autoconf/config.guess,
	  autoconf/config.sub, conf/postgres.sql,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/chan_sccp.h, src/pbx_impl/ast/astTrunk.c, src/sccp_actions.c,
	  src/sccp_channel.c, src/sccp_pbx.c, src/sccp_protocol.c,
	  src/sccp_protocol.h, src/sccp_protocol_enums.hh,
	  src/sccp_socket.c, src/sccp_socket.h: references #174; do not use
	  IPv6 for video (not supportet by cuva)

	* [r5101] src/sccp_device.c, src/sccp_device.h: fix compiler
	  warning

2014-02-02  ddegroot

	* [r5100] src/sccp_indicate.c: Preventing linedevice=0x0 when
	  calling indicate->connected

2014-02-01  marcelloceschia

	* [r5099] src/sccp_actions.c: references #174;can fix video issue
	  after ipv6 merge

	* [r5098] src/sccp_channel.c: references #174;can fix video issue
	  after ipv6 merge

	* [r5097] src/sccp_softkeys.c: fixes issue with Dial softkey
	  reported by Sharan Harkisoon

	* [r5096] src/sccp_actions.c, src/sccp_indicate.c: fixing stop tone
	  on lines where no secondary_dialtone_tone is defined; use
	  linedevice in indicate

2014-01-31  ddegroot

	* [r5095] src/sccp_device.c: Suppress compilation warning about
	  printf/unsigned int

	* [r5094] src/sccp_features.c: Fix potential memory leak for
	  context variable

	* [r5093] src/sccp_softkeys.c: Fix potential NULL pointer
	  dereference

2014-01-30  ddegroot

	* [r5092] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/astTrunk.c: Fix ccp_wrapper_asterisk???_park
	  where bridgeChannel is not guaranteed to be found

	* [r5091] src/sccp_indicate.c: Preventing linedevice=0x0 when
	  calling indicate->connected

	* [r5090] src/sccp_channel.c, src/sccp_channel.h, src/sccp_pbx.c:
	  Simplified cleanup of callforwarding parent channels

2014-01-30  marcelloceschia

	* [r5089] src/sccp_actions.c: fixes issue with dialing offhook

2014-01-30  ddegroot

	* [r5088] src/sccp_device.c: Start instance forloop at
	  SCCP_FIRST_LINEINSTANCE. Prevent refcount warning.

	* [r5087] src/sccp_actions.c, src/sccp_device.c: Moved all
	  feature_getFromDatabase to postregistration

	* [r5086] src/sccp_device.c, src/sccp_line.c: Fix callforward bug
	  on 796x phones (reported by Sharan Harkisoon)

2014-01-29  marcelloceschia

	* [r5085] src/sccp_actions.c, src/sccp_indicate.c: can be a fix for
	  placed calls issue

	* [r5084] src/chan_sccp.h: remove CS_ADV_FEATURES for useRedialMenu

2014-01-29  ddegroot

	* [r5083] src/sccp_channel.c: Fix continues ringing on shared line
	  (endcall issue)

	* [r5082] src/sccp_rtp.c: Return False immediately when
	  createAudioServer failed

2014-01-29  marcelloceschia

	* [r5081] src/sccp_device.c: fixes continuous ringin on shared
	  lines

2014-01-29  ddegroot

	* [r5079] src/sccp_channel.c: Fix transfer_on_hangup (only complete
	  transgfer for established/ringing transferer channels) (Thank
	  Matt for the pointer)

	* [r5078] src/sccp_devstate.c: Fixed Comment

	* [r5077] src/sccp_actions.c: Change Debug Comment about Auto
	  Detect NAT

	* [r5076] src/pbx_impl/ast/ast111.c: Fix ALERT_INFO (thanks Niklas)

2014-01-28  marcelloceschia

	* [r5075] conf/tftp/SEP0000000000.cnf.xml_ipv6_template: add
	  comment to ipPreferenceModeControl, ipAddressMode

	* [r5074] src/sccp_config.c: set default bind-port

	* [r5073] src/chan_sccp.c: set correct port_str size

	* [r5072] src/sccp_config.c: set default socket before parsing the
	  config

2014-01-28  ddegroot

	* [r5071] Makefile.in, aclocal.m4, autoconf/extra.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in, src/config.h.in, src/sccp_cli.h: Removed
	  enable-ipv6 and enable-newip from configure options

	* [r5070] src/sccp_channel.c: move rtp_destroy to channel
	  destruction

	* [r5068] src/sccp_softkeys.c: Fix sccp_sk_endcall on sharedline
	  calls when call is connected

	* [r5067] src/sccp_indicate.c: Fixes Speakerphone dropping
	  (references #172)

	* [r5066] src/sccp_device.c, src/sccp_indicate.c: Fixes
	  Speakerphone dropping (fixes #172)

	* [r5065] src/pbx_impl/ast/ast106.c, src/pbx_impl/ast/ast108.c,
	  src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/astTrunk.c, src/pbx_impl/pbx_impl.h: Add channel
	  check for getter/setter macro. Removed .setChannelTechPVT because
	  it is/was not used nor implemented

	* [r5064] src/sccp_device.c, src/sccp_device.h,
	  src/sccp_indicate.c: Fixes Speakerphone dropping (fixes #172)

	* [r5063] conf/tftp/SEP0000000000.cnf.xml_ipv6_template[ADD]: Added
	  ipv6 cnf.xml sample

2014-01-28  marcelloceschia

	* [r5062] src/Makefile.in, src/chan_sccp.c, src/chan_sccp.h,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c,
	  src/pbx_impl/pbx_impl.h, src/sccp_actions.c,
	  src/sccp_appfunctions.c, src/sccp_channel.c, src/sccp_channel.h,
	  src/sccp_cli.c, src/sccp_config.c, src/sccp_config_entries.hh,
	  src/sccp_device.c, src/sccp_indicate.c, src/sccp_management.c,
	  src/sccp_pbx.c, src/sccp_protocol.c, src/sccp_protocol.h,
	  src/sccp_protocol_enums.hh, src/sccp_rtp.c, src/sccp_rtp.h,
	  src/sccp_socket.c, src/sccp_socket.h, src/sccp_utils.c,
	  src/sccp_utils.h: merge IPv6 into default

2014-01-27  ddegroot

	* [r5061] src/sccp_line.c: Prevent compiler warning

	* [r5060] src/sccp_device.c, src/sccp_event.c, src/sccp_event.h,
	  src/sccp_features.c, src/sccp_hint.c, src/sccp_indicate.c,
	  src/sccp_management.c, src/sccp_mwi.c, src/sccp_utils.c: Renamed
	  event->featureChanged.linedevice ->
	  event->featureChanged.optional_linedevice &&
	  event->lineStatusChanged.device ->
	  event->lineStatusChanged.optional_device, to make it clear that
	  they do not always have to be set. Prevent retaining possible
	  d=NULL when creating lineStatusChanged event in sccp_indicate.
	  Update comment to reflect the optional status of some of the
	  event arguments

	* [r5059] src/sccp_event.h, src/sccp_mwi.c: Added required/optional
	  comments to events. Fixed pbx_log output

	* [r5058] src/sccp_mwi.c: Handle all three event in a similar
	  manner

	* [r5057] src/sccp_mwi.c: Make sure linedevice is released (even
	  wenn either line or device is missing)

2014-01-27  marcelloceschia

	* [r5056] src/sccp_mwi.c: use linedevice for
	  sccp_mwi_setMWILineStatus

2014-01-14  ddegroot

	* [r5054] src/sccp_appfunctions.c: Fix refcount in
	  sccp_appfunctions.c

2014-01-05  ddegroot

	* [r5053] src/sccp_indicate.c: set default phonebookRecord to
	  SCCP_PHONEBOOK_NONE in sccp_indicate_remote_device

2013-12-31  ddegroot

	* [r5052] src/sccp_cli.c: Removed calloc for sccp_ha in sccp test

	* [r5051] src/sccp_cli.c: Cleanup some of the old test messages,
	  added tests for append_ha and apply_ha

2013-12-30  ddegroot

	* [r5050] src/sccp_refcount.c: extend hashtable information
	  provided by 'sccp show refcount'

2013-12-28  ddegroot

	* [r5049] Makefile.in, aclocal.m4, autoconf/libtool.m4,
	  autoconf/ltmain.sh, autoconf/ltoptions.m4, autoconf/ltsugar.m4,
	  autoconf/ltversion.m4, autoconf/lt~obsolete.m4, configure,
	  contrib/gen_sccpconf/Makefile.in, doc/Makefile.in,
	  src/Makefile.in: Completely regenerated configure/Makefile

	* [r5048] src/Makefile.am, src/Makefile.in: Removed tprof from
	  Makefile.am

	* [r5047] src/sccp_cli.c: Prevent not-used warning during compile

	* [r5046] autoconf/asterisk.m4, configure, configure.ac,
	  contrib/phone_screenshot/phone_screenshot,
	  src/pbx_impl/ast/astTrunk.h, src/sccp_conference.c,
	  src/sccp_conference.h: Added asterisk-12 to configure script.
	  Please Note: asterisk-12 is currently not supported at all, but
	  we need to make a start sometime.

2013-12-27  marcelloceschia

	* [r5045] src/sccp_channel.c: fixes closeMultiMediaReceiveChannel
	  issue

2013-12-24  ddegroot

	* [r5044] src/sccp_device.c: Fix reloading sccp.conf when
	  macaddress has changed, cause by deadlock on
	  SCCP_RWLIST_WRLOCK(&GLOB(devices)) (Fix bug #210, reported by
	  Dmitry).

	* [r5043] src/sccp_cli.c: Fix 'sccp set hold on/off'. Extend
	  command completion to include device completion after 'hold off'.
	  Fix sscanf to inlude any character except '-' in the line part of
	  'SCCP/line98011-00001'. (Fixes bug #207, reported by Dmitry)

2013-12-24  marcelloceschia

	* [r5042] src/sccp_cli.c: do not allow resume channel without
	  specifying device (device should have the same line)

2013-12-23  ddegroot

	* [r5041] src/sccp_cli.c, src/sccp_config.c: Add localnet to 'show
	  globals' output. Parse localnet correctly. Fix
	  cleanup_stale_contexts (clang complaint).

2013-12-21  ddegroot

	* [r5040] src/pbx_impl/ast/ast111.c: Fix AST_MODULE_INFO
	  description overwrite warning (clang)

	* [r5039] src/Makefile.am, src/sccp_protocol.h: Removed
	  UpdateCapabilitiesV3Message in favor of
	  DynamicUpdateCapabilitiesMessage

2013-12-10  ddegroot

	* [r5038] src/sccp_protocol.h: Added ConfigStatDynamicMessage

2013-12-09  ddegroot

	* [r5037] src/sccp_protocol.h: Added messageId's to skinny protocol
	  list (v3)

	* [r5036] src/chan_sccp.c, src/sccp_actions.c, src/sccp_protocol.h:
	  Added messageId's to skinny protocol list (v2)

	* [r5035] src/sccp_protocol.h: Added messageId's to skinny protocol
	  list

2013-12-06  ddegroot

	* [r5034] src/sccp_actions.c: Fix showing KEYMODE_DIGITSFOLL (<<,
	  EndCall, Dial) KeySet when offhook after first digit has been
	  entered

2013-12-01  ddegroot

	* [r5033] src/sccp_socket.c: Fix sccp_read_data when reading
	  segmented packets (for example XMLAlarmMessage). memcpy &
	  buffering is needed to be able to skip the header of the next
	  segment. Previous implementation overwrote msg->data with next
	  data from later segments.

2013-11-30  ddegroot

	* [r5032] src/sccp_actions.c: Corrected spelling

2013-11-29  marcelloceschia

	* [r5031] src/sccp_actions.c: send video update text only when
	  video support is changed, fixes #166

	* [r5030] src/pbx_impl/ast/ast110.c, src/pbx_impl/ast/ast111.c,
	  src/pbx_impl/ast/astTrunk.c: destroy module capabilities on
	  unload, fixes #168

2013-11-25  ddegroot

	* [r5029] src/sccp_device.c, src/sccp_line.c: Fix rwlist reentrancy
	  locking issue when using realtimedb (Reported by Niklas)

	* [r5028] src/sccp_line.c: Fix rwlist reentrancy locking issue when
	  using realtimedb (Reported by Niklas)

	* [r5027] contrib/phone_screenshot/phone_screenshot:
	  phone_screenshot Patch for 8941/8945 phones (Submitted by Niklas
	  Larsson

2013-11-24  ddegroot

	* [r5026] src/sccp_rtp.c: Added todo to sccp_rtp.c

	* [r5025] src/sccp_utils.c: Prevent segfault when messagebuffer is
	  ''

2013-11-23  ddegroot

	* [r5024] src/sccp_channel.c: Revert part of last commit setting
	  directMedia in sccp_channel.c

	* [r5023] src/sccp_actions.c, src/sccp_channel.c: Fix debug
	  comments

2013-11-22  ddegroot

	* [r5022] src/sccp_dllists.h, src/sccp_hint.c, src/sccp_lock.h,
	  src/sccp_socket.c: Use pbx_mutex_t / pbx_rwlock_t instead of
	  ast_mutex_t / ast_rwlock_t in all instances (to enable the
	  possibility of debugging when necessary / no lock debugging
	  enabled by default)

	* [r5021] src/chan_sccp.c: Fix rwlock re-entrancy issue during
	  module unload

	* [r5020] src/sccp_line.c: rwlock upgrade does not work correctly
	  in all cases (remove debug logging)

	* [r5019] src/sccp_config.c, src/sccp_line.c: rwlock upgrade does
	  not work correctly in all cases

	* [r5018] src/sccp_line.c: Replaced TRYWRLOCK with WRLOCK in
	  addToGlobals/removeFromGlobals functions

	* [r5017] src/sccp_hint.c: Added forgotten initialization of
	  sccp_hint_subscriptions list / Destruction of list heads
	  (sccp_hint_subscriptions / lineStates / hint->subscribers)

	* [r5016] src/chan_sccp.c: Prevent warnings during list destruction
	  / stop sessionthreads unlocked (to prevent deep reentrancy where
	  not necessary) / call sccp_conference_module_stop

	* [r5015] src/sccp_conference.c, src/sccp_conference.h: Destruction
	  of list heads (conference)

	* [r5014] src/sccp_event.c: Call sccp_event_destroy when event is
	  not able to be fired (fix refcount)

	* [r5013] src/sccp_devstate.c: Destruction of list heads
	  (deviceState->subscribers / deviceStates)

2013-11-20  ddegroot

	* [r5012] contrib/gen_sccpconf/gen_sccpconf.c,
	  src/sccp_config_entries.hh: Fix gen_sccpconf to deal with
	  multivalue entries

2013-11-19  ddegroot

	* [r5011] NEWS, autoconf/asterisk.m4, conf/sccp.conf.annotated,
	  configure, src/chan_sccp.h, src/config.h.in,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_actions.c, src/sccp_cli.c, src/sccp_config_entries.hh,
	  src/sccp_features.c, src/sccp_line.c: Added support for named
	  callgroup and named pickupgroup (for asterisk 11 and up)

2013-11-18  ddegroot

	* [r5010] src/sccp_cli.c: Added setting DND cli to specific status
	  in one command

2013-11-15  ddegroot

	* [r5009] src/pbx_impl/ast/ast.c: Fix compilation against
	  asterisk-1.6.2

2013-11-13  ddegroot

	* [r5008] autoconf/asterisk.m4, configure, src/config.h.in,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c: undefined
	  symbol: ast_cel_linkedid_ref. fixes #45

2013-11-09  ddegroot

	* [r5007] ChangeLog, autoconf/extra.m4, configure, doc/doxygen.cfg,
	  src/pbx_impl/ast/ast.c, src/pbx_impl/ast/ast106.c,
	  src/pbx_impl/ast/ast108.c, src/pbx_impl/ast/ast110.c,
	  src/pbx_impl/ast/ast111.c, src/pbx_impl/ast/astTrunk.c,
	  src/sccp_actions.c, src/sccp_appfunctions.c, src/sccp_channel.c,
	  src/sccp_cli.c, src/sccp_conference.c, src/sccp_config.c,
	  src/sccp_device.c, src/sccp_featureButton.c, src/sccp_features.c,
	  src/sccp_hint.c, src/sccp_indicate.c, src/sccp_line.c,
	  src/sccp_management.c, src/sccp_mwi.c, src/sccp_pbx.c,
	  src/sccp_protocol.h, src/sccp_socket.c, src/sccp_softkeys.c,
	  src/sccp_utils.c: Update doxygen: removal of mostly
	  old/unmaintained \lock entries, fixes for parameters, updated
	  doxygen.cfg, moved the ChangeLog beginning to 4500 to reduce it's
	  size

2013-11-06  ddegroot

	* [r5006] src/sccp_refcount.c: Fix memory leak in sccp_refcount,
	  entries for the hash table itself where not free-ed, during
	  module unload

2013-11-05  marcelloceschia

	* [r5005] src/sccp_actions.c: fixes logging issue where no line was
	  found

2013-11-05  ddegroot

	* [r5004] INSTALL, Makefile.in, aclocal.m4, autoconf/config.guess,
	  autoconf/config.sub, autoconf/depcomp, autoconf/missing,
	  configure, configure.ac, contrib/gen_sccpconf/Makefile.in,
	  doc/Makefile.in, tools/bootstrap.sh: Switching of
	  AM_MAINTAINER_MODE in configure.ac, which will result in
	  autoconf/automake not running automatically when making changes
	  to configure.ac / Makefile.am (Faster for most users). Developers
	  need to make sure to run tools/bootstrap.sh before checking in
	  changes to configure.ac / Makefile.am or any m4 files

	* [r5003] conf/sccp.conf.annotated: Updated sccp.conf.annotated to
	  reflect server_priority added to token/fallback support

	* [r5002] src/sccp_socket.c: Suppressed LOG_ERROR on (socket error
	  || client closed connection). When it is an error, other debug
	  information will be printed out already. If it is a client close
	  connection no error report should be necessary. (references #159)

	* [r5001] contrib/gen_sccpconf/gen_sccpconf.h: Fix compilation of
	  gen_sccpconf

2013-11-04  ddegroot

	* [r5000] src/sccp_config.c: Fix sccp_config_set_defaults setting
	  multientry values twice (fixes #160)

