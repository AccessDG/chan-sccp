;
; SCCPv3 -- An implementation of Skinny Client Control Protocol
;
; Federico Santulli <info@chan-sccp.org>
;
; See http://www.chan-sccp.org for more information about
; the SCCPv3 project. Please do not directly contact
; any of the maintainers of this project for assistance;
; the project provides a web site, tracker, and mailing list
; for your use.
;
; This program is free software, distributed under the terms of
; the GNU General Public License Version 2. See the LICENSE file
; at the top of the source tree.
;
 
[general]
servername=SCCPv3				; name showed on the device after registration
allowguest=no					; Allow or reject guest device registration
								; this feature allow unknown devices to not be rejected on
								; register but not linking any line so as CCM behaviour
keepalive=60					; global phone keep-alive timeout
;verbose=3						; Console Log Level
;debug=3						; Console Debug Level
context=sccp					; Asterisk default extension's context
dateformat=D.M.Y				; M-D-Y in any order. Use M/D/YA (for 12h format)

bindport=5060                   ; TCP Port to bind to (SCCP standard port is 2000)
bindaddr=0.0.0.0                ; IP address to bind UDP listen socket to (0.0.0.0 binds to all)
                                ; You can specify port here too, like 123.123.123.123:2000

; See qos.tex or Quality of Service section of asterisk.pdf for a description of these parameters.
tos_sccp=cs3                   	; Sets TOS for SCCP packets.
tos_audio=ef                   	; Sets TOS for RTP audio packets.
;tos_video=af41                 ; Sets TOS for RTP video packets. (not yet implemented)

cos_sccp=3						; Sets 802.1p priority for SCCP packets.
cos_audio=5                    	; Sets 802.1p priority for RTP audio packets.
;cos_video=4                    ; Sets 802.1p priority for RTP video packets. (not yet implemented)

;disallow=all                   ; First disallow all codecs
;allow=alaw                     ; Allow codecs in order of preference
;allow=ulaw						; see Asterisk doc/rtp-packetization for framing options
;allow=g729                     ; Most phones supports only alaw/ulaw/g729
;
; This option specifies a preference for which music on hold class this channel
; should listen to when put on hold if the music class has not been set on the
; channel with Set(CHANNEL(musicclass)=whatever) in the dialplan, and the
; channel putting this one on hold did not suggest a music class.
;
; This option may be specified globally, or on a per-user or per-peer basis.
;
;mohinterpret=default
;
; This option specifies which music on hold class to suggest to the peer channel
; when this channel places the peer on hold. It may be specified globally or on
; a per-device or per-line basis.
;
;mohsuggest=default
;

firstdigittimeout = 16			; dialing timeout for the 1st digit
digittimeout = 8				; dialing timeout between digits
;digittimeoutchar = #			; you can force the channel to dial with this char in the dialing state

autoanswer_ring_time = 0		; ringing time in seconds for the autoanswer, the default is 0
autoanswer_tone = 0x32			; autoanswer confirmation tone. For a complete list of tones: grep SKINNY_TONE sccp_protocol.h
								; not all the tones can be played in a connected state, so you have to try.

remotehangup_tone = 0x32		; passive hangup notification. 0 for none

transfer_tone = 0				; confirmation tone on transfer. Works only between SCCP devices
callwaiting_tone = 0x2d			; sets to 0 to disable the callwaiting tone

language=en						; Default language setting
;callevents=no                  ; generate manager events when phone 
                                ; performs events (e.g. hold)
;accountcode=sccp				; accountcode to ease billing
deny=0.0.0.0/0.0.0.0			; Deny every address except for the only one allowed. 
permit=192.168.1.0/255.255.255.0	; Accept class C 192.168.1.0
								; You may have multiple rules for masking traffic.
								; Rules are processed from the first to the last.
								; This General rule is valid for all incoming connections. It's the 1st filter.
;localnet = 192.168.1.0/255.255.255.0 ; All RFC 1918 addresses are local networks
;externip = 1.2.3.4				; IP Address that we're going to notify in RTP media stream
;externhost = domain.mydns.org	; Hostname (if dynamic) that we're going to notify in RTP media stream
;externrefresh = 60				; expire time in seconds for the hostname (dns resolution)
dnd = on						; turn on the dnd softkey for all devices. Valid values are "off", "on" (busy signal), "reject" (busy signal), "silent" (ringer = silent)
rtptos = 184					; sets the default rtp packets TOS
echocancel = on					; sets the phone echocancel for all devices
silencesuppression = off		; sets the silence suppression for all devices
;callgroup=1,3-4				; We are in caller groups 1,3,4. Valid for all lines
;pickupgroup=1,3-5				; We can do call pick-p for call group 1,3,4,5. Valid for all lines
;amaflags = 					; Sets the default AMA flag code stored in the CDR record
trustphoneip = no				; The phone has a ip address. It could be private, so if the phone is behind NAT 
								; we don't have to trust the phone ip address, but the ip address of the connection
tos = 0x68						; call control packets tos (0x68 Assured forwarding)
;earlyrtp = none				; valid options: none, offhook, dial, ringout. default is none.
								; The audio strem will be open in the progress and connected state.
private = on					; permit the private function softkey
privacy = full					; full = disable hints notification on devices, on = hints showed depending on private key, off = hints always showed
;mwilamp = on					; Set the MWI lamp style when MWI active to on, off, wink, flash or blink
;mwioncall = off				; Set the MWI on call.
;blindtransferindication = ring	; moh or ring. the blind transfer should ring the caller or just play music on hold
;protocolversion = 3			; skinny version protocol. Just for testing. 0 to 11
;cfwdall = off					; activate the callforward ALL stuff and softkeys
;cfwdbusy = off					; activate the callforward BUSY stuff and softkeys
;cfwdnoanswer = off				; activate the callforward NOANSWER stuff and softkeys
;
;************************
;SCCP Realtime Support
;************************
; you should specify both tables to get realtime support working
;
rt-devices = sccpdevices	; datebasetable for devices
rt-lines	= sccplines		; datebasetable for lines
;

;
; this is for custom softkey template
;
[softkeys]
onhook		= redial,newcall,cfwdall,dnd
connected	= hold,endcall,park,select,cfwdall,cfwdbusy,idivert
onhold		= resume,newcall,endcall,transfer,confrn,select,dirtrfr,idivert
ringin		= answer,endcall,idivert
offhook		= redial,endcall,private,cfwdall,cfwdbusy,pickup,gpickup,meetme,barge
conntrans	= hold,endcall,transfer,confrn,park,select,dirtrfr,cfwdall,cfwdbusy
digitsfoll	= backspace,endcall
connconf	= hold,endcall,join
ringout		= endcall,transfer,cfwdall,idivert
offhookfeat	= redial,endcall
onhint		= pickup,barge

; This is a CP7965 device with a 7915 addon
[SEP001122334455]
type 			= 7965						; device type (see below)
imageversion 	= SCCP65.8-4-1SR2			; useful to upgrade old firmwares (the ones that do not load *.xml from the tftp server)
;keepalive 		= 60                		; set 0 to disable the keepalive check.
;tzoffset  		= +2						; 
addon 			= 7915						; first addon. Allowed value are 7914, 7915, 7916. Please check your device for addons compatibility.
;addon			= 7915						; second addon.

button 			= line,79651,default		; this is default line
button 			= line,79652				; this is second line
button 			= empty						; this is an empty button
button 			= speeddial,1000,Dial1000	; this is a speeddial button
;button 		= speeddial,1001,Dial1001,default	; this is an hotline button
button 			= empty						; this is an empty button
button 			= serviceurl,http://www.google.it,GoGoogle	; this is a service url
button 			= feature,Displayname,ID	; this is a feature button

transfer = on					; enable or disable the transfer capability. It does remove the transfer softkey
conference = on					; enable or disable the conference capability. It does remove the conference softkey
park = on						; take a look to the compile howto. Park stuff is not compiled by default
cfwdall = off					; activate the callforward stuff and softkeys
cfwdbusy = off
cfwdnoanswer = off
pickupexten = off				; enable Pickup function to direct pickup an extension
;pickupcontext = sccp			; context where direct pickup search for extensions. if not set it will be ignored.
pickupmodeanswer = on			; on  = asterisk way, the call has been answered when picked up
								; off = call manager way, the phone who picked up the call rings the call
private = on					; permit the private function softkey for this device
privacy = full					; full = disable hints notification on devices, on = hints showed depending on private key, off = hints always showed
dnd = on						; turn on the dnd softkey for this device. Valid values are "off", "on" (busy signal), "reject" (busy signal), "silent" (ringer = silent) or user to toggle on phone
;mwilamp = on					; Set the MWI lamp style when MWI active to on, off, wink, flash or blink
;mwioncall = off				; Set the MWI on call.

mohinterpret=default			; Sets the default music on hold class
mohsuggest=default				; Suggested music on hold when other channels put on hold

dtmfmode = inband				; inband or outofband. outofband is the native cisco dtmf tone play.
								; Some phone model does not play dtmf tones while connected (bug?), so the default is inband

;disallow=all                   ; First disallow all codecs
;allow=alaw                     ; Allow codecs in order of preference
;allow=g729                     ; see Asterisk doc/rtp-packetization for framing options
														
deny=0.0.0.0/0.0.0.0			; Same as general
permit=192.168.1.5/255.255.255.255	; This device can register only using this ip address
trustphoneip = no				; The phone has a ip address. It could be private, so if the phone is behind NAT 
								; we don't have to trust the phone ip address, but the ip address of the connection
;earlyrtp = none				; valid options: none, offhook, dial, ringout. default is none.
								; The audio strem will be open in the progress and connected state.
;setvar=testvar=value			; This is a device test variable

;
; This is a sample line
;
[79651]
label       = 79651				; button line label (7960, 7970, 7940, 7920)
description = Line 79651		; top diplay description
echocancel = on					; sets the phone echocancel for this line
silencesuppression = off		; sets the silence suppression for this line
incominglimit = 2				; more than 1 incoming call = call waiting.
perdevicelimit = 2
secondary_dialtone_digits = 9	; digits for the secondary dialtone (max 9 digits)
secondary_dialtone_tone = 0x22	; outside dialtone

cid_name = 79652 CID			; caller id name
cid_num = 79651					; caller id number
transfer = on					; per line transfer capability. on, off, 1, 0
conference = on					; per line conference capability.
								
trnsfvm = 1000					; extension to redirect the caller (e.g for voicemail)
mailbox = 1001					; voicemail.conf (syntax: vmbox[@context][:folder])
vmnum = 600						; speeddial for voicemail administration, just a number to dial
meetmenum = 700					; this extension will receive meetme requests, SCCP_MEETME_ROOM channel variable will
								; contain the room number dialed into simpleswitch.

mohinterpret=default			; Sets the default music on hold class
mohsuggest=default				; Suggested music on hold when other channels put on hold
								
language=en						; Default language setting
accountcode=79651				; accountcode to ease billing
rtptos = 184					; sets the the rtp packets TOS for this line
;callgroup=1,3-4				; We are in caller groups 1,3,4. Valid for this line
;pickupgroup=1,3-5				; We can do call pick-p for call group 1,3,4,5. Valid for this line
;amaflags = 					; Sets the default AMA flag code stored in the CDR record for this line
;setvar=testvar2=value			; this is a line test variable

[79652]
label       = 79652				; button line label (7960, 7970, 7940, 7920)
description = Line 79652		; top diplay description
echocancel = on					; sets the phone echocancel for this line
silencesuppression = off		; sets the silence suppression for this line
incominglimit = 2				; more than 1 incoming call = call waiting.
perdevicelimit = 2
secondary_dialtone_digits = 9	; digits for the secondary dialtone (max 9 digits)
secondary_dialtone_tone = 0x22	; outside dialtone

cid_name = 79652 CID			; caller id name
cid_num = 79652					; caller id number
transfer = on					; per line transfer capability. on, off, 1, 0
conference = on					; per line conferece capability.
								
trnsfvm = 1000					; extension to redirect the caller (e.g for voicemail)
mailbox = 1001					; voicemail.conf (syntax: vmbox[@context][:folder])
vmnum = 600						; speeddial for voicemail administration, just a number to dial
meetmenum = 700					; this extension will receive meetme requests, SCCP_MEETME_ROOM channel variable will
								; contain the room number dialed into simpleswitch.
								
mohinterpret=default			; Sets the default music on hold class
mohsuggest=default				; Suggested music on hold when other channels put on hold

language=en						; Default language setting
accountcode=79652				; accountcode to ease billing
rtptos = 184					; sets the the rtp packets TOS for this line
;callgroup=1,3-4				; We are in caller groups 1,3,4. Valid for this line
;pickupgroup=1,3-5				; We can do call pick-p for call group 1,3,4,5. Valid for this line
;amaflags = 					; Sets the default AMA flag code stored in the CDR record for this line
;setvar=testvar3=value			; this is another line test variable
